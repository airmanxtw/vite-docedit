(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&u(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Cr=globalThis,un=Cr.ShadowRoot&&(Cr.ShadyCSS===void 0||Cr.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,nn=Symbol(),mi=new WeakMap;let Ra=class{constructor(t,r,u){if(this._$cssResult$=!0,u!==nn)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(un&&t===void 0){const u=r!==void 0&&r.length===1;u&&(t=mi.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),u&&mi.set(r,t))}return t}toString(){return this.cssText}};const Pc=e=>new Ra(typeof e=="string"?e:e+"",void 0,nn),an=(e,...t)=>{const r=e.length===1?e[0]:t.reduce(((u,n,i)=>u+(a=>{if(a._$cssResult$===!0)return a.cssText;if(typeof a=="number")return a;throw Error("Value passed to 'css' function must be a 'css' function result: "+a+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[i+1]),e[0]);return new Ra(r,e,nn)},Dc=(e,t)=>{if(un)e.adoptedStyleSheets=t.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of t){const u=document.createElement("style"),n=Cr.litNonce;n!==void 0&&u.setAttribute("nonce",n),u.textContent=r.cssText,e.appendChild(u)}},bi=un?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const u of t.cssRules)r+=u.cssText;return Pc(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:zc,defineProperty:Wc,getOwnPropertyDescriptor:Uc,getOwnPropertyNames:jc,getOwnPropertySymbols:Hc,getPrototypeOf:Fc}=Object,Zr=globalThis,gi=Zr.trustedTypes,Vc=gi?gi.emptyScript:"",Kc=Zr.reactiveElementPolyfillSupport,Ze=(e,t)=>e,qu={toAttribute(e,t){switch(t){case Boolean:e=e?Vc:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},Ca=(e,t)=>!zc(e,t),yi={attribute:!0,type:String,converter:qu,reflect:!1,useDefault:!1,hasChanged:Ca};Symbol.metadata??=Symbol("metadata"),Zr.litPropertyMetadata??=new WeakMap;let be=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=yi){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(t,r),!r.noAccessor){const u=Symbol(),n=this.getPropertyDescriptor(t,u,r);n!==void 0&&Wc(this.prototype,t,n)}}static getPropertyDescriptor(t,r,u){const{get:n,set:i}=Uc(this.prototype,t)??{get(){return this[r]},set(a){this[r]=a}};return{get:n,set(a){const s=n?.call(this);i?.call(this,a),this.requestUpdate(t,s,u)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??yi}static _$Ei(){if(this.hasOwnProperty(Ze("elementProperties")))return;const t=Fc(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Ze("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ze("properties"))){const r=this.properties,u=[...jc(r),...Hc(r)];for(const n of u)this.createProperty(n,r[n])}const t=this[Symbol.metadata];if(t!==null){const r=litPropertyMetadata.get(t);if(r!==void 0)for(const[u,n]of r)this.elementProperties.set(u,n)}this._$Eh=new Map;for(const[r,u]of this.elementProperties){const n=this._$Eu(r,u);n!==void 0&&this._$Eh.set(n,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const u=new Set(t.flat(1/0).reverse());for(const n of u)r.unshift(bi(n))}else t!==void 0&&r.push(bi(t));return r}static _$Eu(t,r){const u=r.attribute;return u===!1?void 0:typeof u=="string"?u:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,r=this.constructor.elementProperties;for(const u of r.keys())this.hasOwnProperty(u)&&(t.set(u,this[u]),delete this[u]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Dc(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,r,u){this._$AK(t,u)}_$ET(t,r){const u=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,u);if(n!==void 0&&u.reflect===!0){const i=(u.converter?.toAttribute!==void 0?u.converter:qu).toAttribute(r,u.type);this._$Em=t,i==null?this.removeAttribute(n):this.setAttribute(n,i),this._$Em=null}}_$AK(t,r){const u=this.constructor,n=u._$Eh.get(t);if(n!==void 0&&this._$Em!==n){const i=u.getPropertyOptions(n),a=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:qu;this._$Em=n;const s=a.fromAttribute(r,i.type);this[n]=s??this._$Ej?.get(n)??s,this._$Em=null}}requestUpdate(t,r,u){if(t!==void 0){const n=this.constructor,i=this[t];if(u??=n.getPropertyOptions(t),!((u.hasChanged??Ca)(i,r)||u.useDefault&&u.reflect&&i===this._$Ej?.get(t)&&!this.hasAttribute(n._$Eu(t,u))))return;this.C(t,r,u)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,r,{useDefault:u,reflect:n,wrapped:i},a){u&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,a??r??this[t]),i!==!0||a!==void 0)||(this._$AL.has(t)||(this.hasUpdated||u||(r=void 0),this._$AL.set(t,r)),n===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[n,i]of this._$Ep)this[n]=i;this._$Ep=void 0}const u=this.constructor.elementProperties;if(u.size>0)for(const[n,i]of u){const{wrapped:a}=i,s=this[n];a!==!0||this._$AL.has(n)||s===void 0||this.C(n,void 0,i,s)}}let t=!1;const r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),this._$EO?.forEach((u=>u.hostUpdate?.())),this.update(r)):this._$EM()}catch(u){throw t=!1,this._$EM(),u}t&&this._$AE(r)}willUpdate(t){}_$AE(t){this._$EO?.forEach((r=>r.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((r=>this._$ET(r,this[r]))),this._$EM()}updated(t){}firstUpdated(t){}};be.elementStyles=[],be.shadowRootOptions={mode:"open"},be[Ze("elementProperties")]=new Map,be[Ze("finalized")]=new Map,Kc?.({ReactiveElement:be}),(Zr.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const sn=globalThis,Wr=sn.trustedTypes,vi=Wr?Wr.createPolicy("lit-html",{createHTML:e=>e}):void 0,Pa="$lit$",Ut=`lit$${Math.random().toFixed(9).slice(2)}$`,Da="?"+Ut,Xc=`<${Da}>`,ne=document,er=()=>ne.createComment(""),rr=e=>e===null||typeof e!="object"&&typeof e!="function",on=Array.isArray,Gc=e=>on(e)||typeof e?.[Symbol.iterator]=="function",xu=`[ 	
\f\r]`,je=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_i=/-->/g,xi=/>/g,Yt=RegExp(`>|${xu}(?:([^\\s"'>=/]+)(${xu}*=${xu}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),wi=/'/g,Si=/"/g,za=/^(?:script|style|textarea|title)$/i,Yc=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),qt=Yc(1),ie=Symbol.for("lit-noChange"),j=Symbol.for("lit-nothing"),Ei=new WeakMap,re=ne.createTreeWalker(ne,129);function Wa(e,t){if(!on(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return vi!==void 0?vi.createHTML(t):t}const Zc=(e,t)=>{const r=e.length-1,u=[];let n,i=t===2?"<svg>":t===3?"<math>":"",a=je;for(let s=0;s<r;s++){const o=e[s];let c,f,h=-1,p=0;for(;p<o.length&&(a.lastIndex=p,f=a.exec(o),f!==null);)p=a.lastIndex,a===je?f[1]==="!--"?a=_i:f[1]!==void 0?a=xi:f[2]!==void 0?(za.test(f[2])&&(n=RegExp("</"+f[2],"g")),a=Yt):f[3]!==void 0&&(a=Yt):a===Yt?f[0]===">"?(a=n??je,h=-1):f[1]===void 0?h=-2:(h=a.lastIndex-f[2].length,c=f[1],a=f[3]===void 0?Yt:f[3]==='"'?Si:wi):a===Si||a===wi?a=Yt:a===_i||a===xi?a=je:(a=Yt,n=void 0);const m=a===Yt&&e[s+1].startsWith("/>")?" ":"";i+=a===je?o+Xc:h>=0?(u.push(c),o.slice(0,h)+Pa+o.slice(h)+Ut+m):o+Ut+(h===-2?s:m)}return[Wa(e,i+(e[r]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),u]};class ur{constructor({strings:t,_$litType$:r},u){let n;this.parts=[];let i=0,a=0;const s=t.length-1,o=this.parts,[c,f]=Zc(t,r);if(this.el=ur.createElement(c,u),re.currentNode=this.el.content,r===2||r===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(n=re.nextNode())!==null&&o.length<s;){if(n.nodeType===1){if(n.hasAttributes())for(const h of n.getAttributeNames())if(h.endsWith(Pa)){const p=f[a++],m=n.getAttribute(h).split(Ut),b=/([.?@])?(.*)/.exec(p);o.push({type:1,index:i,name:b[2],strings:m,ctor:b[1]==="."?Qc:b[1]==="?"?t0:b[1]==="@"?e0:Jr}),n.removeAttribute(h)}else h.startsWith(Ut)&&(o.push({type:6,index:i}),n.removeAttribute(h));if(za.test(n.tagName)){const h=n.textContent.split(Ut),p=h.length-1;if(p>0){n.textContent=Wr?Wr.emptyScript:"";for(let m=0;m<p;m++)n.append(h[m],er()),re.nextNode(),o.push({type:2,index:++i});n.append(h[p],er())}}}else if(n.nodeType===8)if(n.data===Da)o.push({type:2,index:i});else{let h=-1;for(;(h=n.data.indexOf(Ut,h+1))!==-1;)o.push({type:7,index:i}),h+=Ut.length-1}i++}}static createElement(t,r){const u=ne.createElement("template");return u.innerHTML=t,u}}function ve(e,t,r=e,u){if(t===ie)return t;let n=u!==void 0?r._$Co?.[u]:r._$Cl;const i=rr(t)?void 0:t._$litDirective$;return n?.constructor!==i&&(n?._$AO?.(!1),i===void 0?n=void 0:(n=new i(e),n._$AT(e,r,u)),u!==void 0?(r._$Co??=[])[u]=n:r._$Cl=n),n!==void 0&&(t=ve(e,n._$AS(e,t.values),n,u)),t}class Jc{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:r},parts:u}=this._$AD,n=(t?.creationScope??ne).importNode(r,!0);re.currentNode=n;let i=re.nextNode(),a=0,s=0,o=u[0];for(;o!==void 0;){if(a===o.index){let c;o.type===2?c=new cn(i,i.nextSibling,this,t):o.type===1?c=new o.ctor(i,o.name,o.strings,this,t):o.type===6&&(c=new r0(i,this,t)),this._$AV.push(c),o=u[++s]}a!==o?.index&&(i=re.nextNode(),a++)}return re.currentNode=ne,n}p(t){let r=0;for(const u of this._$AV)u!==void 0&&(u.strings!==void 0?(u._$AI(t,u,r),r+=u.strings.length-2):u._$AI(t[r])),r++}}let cn=class Ua{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,r,u,n){this.type=2,this._$AH=j,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=u,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&t?.nodeType===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=ve(this,t,r),rr(t)?t===j||t==null||t===""?(this._$AH!==j&&this._$AR(),this._$AH=j):t!==this._$AH&&t!==ie&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Gc(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==j&&rr(this._$AH)?this._$AA.nextSibling.data=t:this.T(ne.createTextNode(t)),this._$AH=t}$(t){const{values:r,_$litType$:u}=t,n=typeof u=="number"?this._$AC(t):(u.el===void 0&&(u.el=ur.createElement(Wa(u.h,u.h[0]),this.options)),u);if(this._$AH?._$AD===n)this._$AH.p(r);else{const i=new Jc(n,this),a=i.u(this.options);i.p(r),this.T(a),this._$AH=i}}_$AC(t){let r=Ei.get(t.strings);return r===void 0&&Ei.set(t.strings,r=new ur(t)),r}k(t){on(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let u,n=0;for(const i of t)n===r.length?r.push(u=new Ua(this.O(er()),this.O(er()),this,this.options)):u=r[n],u._$AI(i),n++;n<r.length&&(this._$AR(u&&u._$AB.nextSibling,n),r.length=n)}_$AR(t=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);t!==this._$AB;){const u=t.nextSibling;t.remove(),t=u}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}};class Jr{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,u,n,i){this.type=1,this._$AH=j,this._$AN=void 0,this.element=t,this.name=r,this._$AM=n,this.options=i,u.length>2||u[0]!==""||u[1]!==""?(this._$AH=Array(u.length-1).fill(new String),this.strings=u):this._$AH=j}_$AI(t,r=this,u,n){const i=this.strings;let a=!1;if(i===void 0)t=ve(this,t,r,0),a=!rr(t)||t!==this._$AH&&t!==ie,a&&(this._$AH=t);else{const s=t;let o,c;for(t=i[0],o=0;o<i.length-1;o++)c=ve(this,s[u+o],r,o),c===ie&&(c=this._$AH[o]),a||=!rr(c)||c!==this._$AH[o],c===j?t=j:t!==j&&(t+=(c??"")+i[o+1]),this._$AH[o]=c}a&&!n&&this.j(t)}j(t){t===j?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class Qc extends Jr{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===j?void 0:t}}let t0=class extends Jr{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==j)}};class e0 extends Jr{constructor(t,r,u,n,i){super(t,r,u,n,i),this.type=5}_$AI(t,r=this){if((t=ve(this,t,r,0)??j)===ie)return;const u=this._$AH,n=t===j&&u!==j||t.capture!==u.capture||t.once!==u.once||t.passive!==u.passive,i=t!==j&&(u===j||n);n&&this.element.removeEventListener(this.name,this,u),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class r0{constructor(t,r,u){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=u}get _$AU(){return this._$AM._$AU}_$AI(t){ve(this,t)}}const u0=sn.litHtmlPolyfillSupport;u0?.(ur,cn),(sn.litHtmlVersions??=[]).push("3.3.1");const n0=(e,t,r)=>{const u=r?.renderBefore??t;let n=u._$litPart$;if(n===void 0){const i=r?.renderBefore??null;u._$litPart$=n=new cn(t.insertBefore(er(),i),i,void 0,r??{})}return n._$AI(e),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const fn=globalThis;let ye=class extends be{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=n0(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return ie}};ye._$litElement$=!0,ye.finalized=!0,fn.litElementHydrateSupport?.({LitElement:ye});const i0=fn.litElementPolyfillSupport;i0?.({LitElement:ye});(fn.litElementVersions??=[]).push("4.2.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const a0={ATTRIBUTE:1},s0=e=>(...t)=>({_$litDirective$:e,values:t});let o0=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,u){this._$Ct=t,this._$AM=r,this._$Ci=u}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ja="important",c0=" !"+ja,f0=s0(class extends o0{constructor(e){if(super(e),e.type!==a0.ATTRIBUTE||e.name!=="style"||e.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(e){return Object.keys(e).reduce(((t,r)=>{const u=e[r];return u==null?t:t+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${u};`}),"")}update(e,[t]){const{style:r}=e.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(t)),this.render(t);for(const u of this.ft)t[u]==null&&(this.ft.delete(u),u.includes("-")?r.removeProperty(u):r[u]=null);for(const u in t){const n=t[u];if(n!=null){this.ft.add(u);const i=typeof n=="string"&&n.endsWith(c0);u.includes("-")||i?r.setProperty(u,i?n.slice(0,-11):n,i?ja:""):r[u]=n}}return ie}});/**
 * @license
 * MIT License
 * 
 * Copyright (c) 2014-present, Lee Byron and other contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var lr="delete",T=5,st=1<<T,J=st-1,E={};function Mu(){return{value:!1}}function pt(e){e&&(e.value=!0)}function hn(){}function _e(e){return e.size===void 0&&(e.size=e.__iterate(Ha)),e.size}function Ht(e,t){if(typeof t!="number"){var r=t>>>0;if(""+r!==t||r===4294967295)return NaN;t=r}return t<0?_e(e)+t:t}function Ha(){return!0}function Qr(e,t,r){return(e===0&&!Va(e)||r!==void 0&&e<=-r)&&(t===void 0||r!==void 0&&t>=r)}function dr(e,t){return Fa(e,t,0)}function tu(e,t){return Fa(e,t,t)}function Fa(e,t,r){return e===void 0?r:Va(e)?t===1/0?t:Math.max(0,t+e)|0:t===void 0||t===e?e:Math.min(t,e)|0}function Va(e){return e<0||e===0&&1/e===-1/0}var Ka="@@__IMMUTABLE_ITERABLE__@@";function ct(e){return!!(e&&e[Ka])}var Ur="@@__IMMUTABLE_KEYED__@@";function R(e){return!!(e&&e[Ur])}var jr="@@__IMMUTABLE_INDEXED__@@";function mt(e){return!!(e&&e[jr])}function ln(e){return R(e)||mt(e)}var G=function(t){return ct(t)?t:nt(t)},gt=(function(e){function t(r){return R(r)?r:Kt(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t})(G),oe=(function(e){function t(r){return mt(r)?r:xt(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t})(G),qe=(function(e){function t(r){return ct(r)&&!ln(r)?r:Ce(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t})(G);G.Keyed=gt;G.Indexed=oe;G.Set=qe;var Xa="@@__IMMUTABLE_SEQ__@@";function dn(e){return!!(e&&e[Xa])}var Ga="@@__IMMUTABLE_RECORD__@@";function ce(e){return!!(e&&e[Ga])}function Nt(e){return ct(e)||ce(e)}var Ft="@@__IMMUTABLE_ORDERED__@@";function kt(e){return!!(e&&e[Ft])}var Me=0,ft=1,ht=2,Ru=typeof Symbol=="function"&&Symbol.iterator,Ya="@@iterator",eu=Ru||Ya,A=function(t){this.next=t};A.prototype.toString=function(){return"[Iterator]"};A.KEYS=Me;A.VALUES=ft;A.ENTRIES=ht;A.prototype.inspect=A.prototype.toSource=function(){return this.toString()};A.prototype[eu]=function(){return this};function C(e,t,r,u){var n=e===Me?t:e===ft?r:[t,r];return u?u.value=n:u={value:n,done:!1},u}function Q(){return{value:void 0,done:!0}}function Za(e){return Array.isArray(e)?!0:!!ru(e)}function Ai(e){return e&&typeof e.next=="function"}function Cu(e){var t=ru(e);return t&&t.call(e)}function ru(e){var t=e&&(Ru&&e[Ru]||e[Ya]);if(typeof t=="function")return t}function h0(e){var t=ru(e);return t&&t===e.entries}function l0(e){var t=ru(e);return t&&t===e.keys}var Re=Object.prototype.hasOwnProperty;function Ja(e){return Array.isArray(e)||typeof e=="string"?!0:e&&typeof e=="object"&&Number.isInteger(e.length)&&e.length>=0&&(e.length===0?Object.keys(e).length===1:e.hasOwnProperty(e.length-1))}var nt=(function(e){function t(r){return r==null?mn():Nt(r)?r.toSeq():p0(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(u,n){var i=this._cache;if(i){for(var a=i.length,s=0;s!==a;){var o=i[n?a-++s:s++];if(u(o[1],o[0],this)===!1)break}return s}return this.__iterateUncached(u,n)},t.prototype.__iterator=function(u,n){var i=this._cache;if(i){var a=i.length,s=0;return new A(function(){if(s===a)return Q();var o=i[n?a-++s:s++];return C(u,o[0],o[1])})}return this.__iteratorUncached(u,n)},t})(G),Kt=(function(e){function t(r){return r==null?mn().toKeyedSeq():ct(r)?R(r)?r.toSeq():r.fromEntrySeq():ce(r)?r.toSeq():bn(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t})(nt),xt=(function(e){function t(r){return r==null?mn():ct(r)?R(r)?r.entrySeq():r.toIndexedSeq():ce(r)?r.toSeq().entrySeq():Qa(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t})(nt),Ce=(function(e){function t(r){return(ct(r)&&!ln(r)?r:xt(r)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t})(nt);nt.isSeq=dn;nt.Keyed=Kt;nt.Set=Ce;nt.Indexed=xt;nt.prototype[Xa]=!0;var xe=(function(e){function t(r){this._array=r,this.size=r.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(u,n){return this.has(u)?this._array[Ht(this,u)]:n},t.prototype.__iterate=function(u,n){for(var i=this._array,a=i.length,s=0;s!==a;){var o=n?a-++s:s++;if(u(i[o],o,this)===!1)break}return s},t.prototype.__iterator=function(u,n){var i=this._array,a=i.length,s=0;return new A(function(){if(s===a)return Q();var o=n?a-++s:s++;return C(u,o,i[o])})},t})(xt),pn=(function(e){function t(r){var u=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=u,this.size=u.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(u,n){return n!==void 0&&!this.has(u)?n:this._object[u]},t.prototype.has=function(u){return Re.call(this._object,u)},t.prototype.__iterate=function(u,n){for(var i=this._object,a=this._keys,s=a.length,o=0;o!==s;){var c=a[n?s-++o:o++];if(u(i[c],c,this)===!1)break}return o},t.prototype.__iterator=function(u,n){var i=this._object,a=this._keys,s=a.length,o=0;return new A(function(){if(o===s)return Q();var c=a[n?s-++o:o++];return C(u,c,i[c])})},t})(Kt);pn.prototype[Ft]=!0;var d0=(function(e){function t(r){this._collection=r,this.size=r.length||r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(u,n){if(n)return this.cacheResult().__iterate(u,n);var i=this._collection,a=Cu(i),s=0;if(Ai(a))for(var o;!(o=a.next()).done&&u(o.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(u,n){if(n)return this.cacheResult().__iterator(u,n);var i=this._collection,a=Cu(i);if(!Ai(a))return new A(Q);var s=0;return new A(function(){var o=a.next();return o.done?o:C(u,s++,o.value)})},t})(xt),Ii;function mn(){return Ii||(Ii=new xe([]))}function bn(e){var t=gn(e);if(t)return t.fromEntrySeq();if(typeof e=="object")return new pn(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function Qa(e){var t=gn(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function p0(e){var t=gn(e);if(t)return h0(e)?t.fromEntrySeq():l0(e)?t.toSetSeq():t;if(typeof e=="object")return new pn(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}function gn(e){return Ja(e)?new xe(e):Za(e)?new d0(e):void 0}var ts="@@__IMMUTABLE_MAP__@@";function yn(e){return!!(e&&e[ts])}function es(e){return yn(e)&&kt(e)}function ki(e){return!!(e&&typeof e.equals=="function"&&typeof e.hashCode=="function")}function ot(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(ki(e)&&ki(t)&&e.equals(t))}var He=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,r){t|=0,r|=0;var u=t&65535,n=r&65535;return u*n+((t>>>16)*n+u*(r>>>16)<<16>>>0)|0};function uu(e){return e>>>1&1073741824|e&3221225471}var m0=Object.prototype.valueOf;function it(e){if(e==null)return Li(e);if(typeof e.hashCode=="function")return uu(e.hashCode(e));var t=x0(e);if(t==null)return Li(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return b0(t);case"string":return t.length>w0?g0(t):Pu(t);case"object":case"function":return v0(t);case"symbol":return y0(t);default:if(typeof t.toString=="function")return Pu(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function Li(e){return e===null?1108378658:1108378659}function b0(e){if(e!==e||e===1/0)return 0;var t=e|0;for(t!==e&&(t^=e*4294967295);e>4294967295;)e/=4294967295,t^=e;return uu(t)}function g0(e){var t=Eu[e];return t===void 0&&(t=Pu(e),Su===S0&&(Su=0,Eu={}),Su++,Eu[e]=t),t}function Pu(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return uu(t)}function y0(e){var t=$i[e];return t!==void 0||(t=rs(),$i[e]=t),t}function v0(e){var t;if(Du&&(t=zu.get(e),t!==void 0)||(t=e[Jt],t!==void 0)||!Ni&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Jt],t!==void 0||(t=_0(e),t!==void 0)))return t;if(t=rs(),Du)zu.set(e,t);else{if(Ti!==void 0&&Ti(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ni)Object.defineProperty(e,Jt,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Jt]=t;else if(e.nodeType!==void 0)e[Jt]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var Ti=Object.isExtensible,Ni=(function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}})();function _0(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function x0(e){return e.valueOf!==m0&&typeof e.valueOf=="function"?e.valueOf(e):e}function rs(){var e=++wu;return wu&1073741824&&(wu=0),e}var Du=typeof WeakMap=="function",zu;Du&&(zu=new WeakMap);var $i=Object.create(null),wu=0,Jt="__immutablehash__";typeof Symbol=="function"&&(Jt=Symbol(Jt));var w0=16,S0=255,Su=0,Eu={},nu=(function(e){function t(r,u){this._iter=r,this._useKeys=u,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(u,n){return this._iter.get(u,n)},t.prototype.has=function(u){return this._iter.has(u)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var u=this,n=vn(this,!0);return this._useKeys||(n.valueSeq=function(){return u._iter.toSeq().reverse()}),n},t.prototype.map=function(u,n){var i=this,a=ss(this,u,n);return this._useKeys||(a.valueSeq=function(){return i._iter.toSeq().map(u,n)}),a},t.prototype.__iterate=function(u,n){var i=this;return this._iter.__iterate(function(a,s){return u(a,s,i)},n)},t.prototype.__iterator=function(u,n){return this._iter.__iterator(u,n)},t})(Kt);nu.prototype[Ft]=!0;var us=(function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(u){return this._iter.includes(u)},t.prototype.__iterate=function(u,n){var i=this,a=0;return n&&_e(this),this._iter.__iterate(function(s){return u(s,n?i.size-++a:a++,i)},n)},t.prototype.__iterator=function(u,n){var i=this,a=this._iter.__iterator(ft,n),s=0;return n&&_e(this),new A(function(){var o=a.next();return o.done?o:C(u,n?i.size-++s:s++,o.value,o)})},t})(xt),ns=(function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(u){return this._iter.includes(u)},t.prototype.__iterate=function(u,n){var i=this;return this._iter.__iterate(function(a){return u(a,a,i)},n)},t.prototype.__iterator=function(u,n){var i=this._iter.__iterator(ft,n);return new A(function(){var a=i.next();return a.done?a:C(u,a.value,a.value,a)})},t})(Ce),is=(function(e){function t(r){this._iter=r,this.size=r.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(u,n){var i=this;return this._iter.__iterate(function(a){if(a){Bi(a);var s=ct(a);return u(s?a.get(1):a[1],s?a.get(0):a[0],i)}},n)},t.prototype.__iterator=function(u,n){var i=this._iter.__iterator(ft,n);return new A(function(){for(;;){var a=i.next();if(a.done)return a;var s=a.value;if(s){Bi(s);var o=ct(s);return C(u,o?s.get(0):s[0],o?s.get(1):s[1],a)}}})},t})(Kt);us.prototype.cacheResult=nu.prototype.cacheResult=ns.prototype.cacheResult=is.prototype.cacheResult=wn;function as(e){var t=$t(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var r=e.reverse.apply(this);return r.flip=function(){return e.reverse()},r},t.has=function(r){return e.includes(r)},t.includes=function(r){return e.has(r)},t.cacheResult=wn,t.__iterateUncached=function(r,u){var n=this;return e.__iterate(function(i,a){return r(a,i,n)!==!1},u)},t.__iteratorUncached=function(r,u){if(r===ht){var n=e.__iterator(r,u);return new A(function(){var i=n.next();if(!i.done){var a=i.value[0];i.value[0]=i.value[1],i.value[1]=a}return i})}return e.__iterator(r===ft?Me:ft,u)},t}function ss(e,t,r){var u=$t(e);return u.size=e.size,u.has=function(n){return e.has(n)},u.get=function(n,i){var a=e.get(n,E);return a===E?i:t.call(r,a,n,e)},u.__iterateUncached=function(n,i){var a=this;return e.__iterate(function(s,o,c){return n(t.call(r,s,o,c),o,a)!==!1},i)},u.__iteratorUncached=function(n,i){var a=e.__iterator(ht,i);return new A(function(){var s=a.next();if(s.done)return s;var o=s.value,c=o[0];return C(n,c,t.call(r,o[1],c,e),s)})},u}function vn(e,t){var r=this,u=$t(e);return u._iter=e,u.size=e.size,u.reverse=function(){return e},e.flip&&(u.flip=function(){var n=as(e);return n.reverse=function(){return e.flip()},n}),u.get=function(n,i){return e.get(t?n:-1-n,i)},u.has=function(n){return e.has(t?n:-1-n)},u.includes=function(n){return e.includes(n)},u.cacheResult=wn,u.__iterate=function(n,i){var a=this,s=0;return i&&_e(e),e.__iterate(function(o,c){return n(o,t?c:i?a.size-++s:s++,a)},!i)},u.__iterator=function(n,i){var a=0;i&&_e(e);var s=e.__iterator(ht,!i);return new A(function(){var o=s.next();if(o.done)return o;var c=o.value;return C(n,t?c[0]:i?r.size-++a:a++,c[1],o)})},u}function os(e,t,r,u){var n=$t(e);return u&&(n.has=function(i){var a=e.get(i,E);return a!==E&&!!t.call(r,a,i,e)},n.get=function(i,a){var s=e.get(i,E);return s!==E&&t.call(r,s,i,e)?s:a}),n.__iterateUncached=function(i,a){var s=this,o=0;return e.__iterate(function(c,f,h){if(t.call(r,c,f,h))return o++,i(c,u?f:o-1,s)},a),o},n.__iteratorUncached=function(i,a){var s=e.__iterator(ht,a),o=0;return new A(function(){for(;;){var c=s.next();if(c.done)return c;var f=c.value,h=f[0],p=f[1];if(t.call(r,p,h,e))return C(i,u?h:o++,p,c)}})},n}function E0(e,t,r){var u=De().asMutable();return e.__iterate(function(n,i){u.update(t.call(r,n,i,e),0,function(a){return a+1})}),u.asImmutable()}function A0(e,t,r){var u=R(e),n=(kt(e)?Ct():De()).asMutable();e.__iterate(function(a,s){n.update(t.call(r,a,s,e),function(o){return o=o||[],o.push(u?[s,a]:a),o})});var i=xn(e);return n.map(function(a){return L(e,i(a))}).asImmutable()}function I0(e,t,r){var u=R(e),n=[[],[]];e.__iterate(function(a,s){n[t.call(r,a,s,e)?1:0].push(u?[s,a]:a)});var i=xn(e);return n.map(function(a){return L(e,i(a))})}function _n(e,t,r,u){var n=e.size;if(Qr(t,r,n))return e;if(typeof n>"u"&&(t<0||r<0))return _n(e.toSeq().cacheResult(),t,r,u);var i=dr(t,n),a=tu(r,n),s=a-i,o;s===s&&(o=s<0?0:s);var c=$t(e);return c.size=o===0?o:e.size&&o||void 0,!u&&dn(e)&&o>=0&&(c.get=function(f,h){return f=Ht(this,f),f>=0&&f<o?e.get(f+i,h):h}),c.__iterateUncached=function(f,h){var p=this;if(o===0)return 0;if(h)return this.cacheResult().__iterate(f,h);var m=0,b=!0,v=0;return e.__iterate(function(P,_){if(!(b&&(b=m++<i)))return v++,f(P,u?_:v-1,p)!==!1&&v!==o}),v},c.__iteratorUncached=function(f,h){if(o!==0&&h)return this.cacheResult().__iterator(f,h);if(o===0)return new A(Q);var p=e.__iterator(f,h),m=0,b=0;return new A(function(){for(;m++<i;)p.next();if(++b>o)return Q();var v=p.next();return u||f===ft||v.done?v:f===Me?C(f,b-1,void 0,v):C(f,b-1,v.value[1],v)})},c}function k0(e,t,r){var u=$t(e);return u.__iterateUncached=function(n,i){var a=this;if(i)return this.cacheResult().__iterate(n,i);var s=0;return e.__iterate(function(o,c,f){return t.call(r,o,c,f)&&++s&&n(o,c,a)}),s},u.__iteratorUncached=function(n,i){var a=this;if(i)return this.cacheResult().__iterator(n,i);var s=e.__iterator(ht,i),o=!0;return new A(function(){if(!o)return Q();var c=s.next();if(c.done)return c;var f=c.value,h=f[0],p=f[1];return t.call(r,p,h,a)?n===ht?c:C(n,h,p,c):(o=!1,Q())})},u}function cs(e,t,r,u){var n=$t(e);return n.__iterateUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterate(i,a);var o=!0,c=0;return e.__iterate(function(f,h,p){if(!(o&&(o=t.call(r,f,h,p))))return c++,i(f,u?h:c-1,s)}),c},n.__iteratorUncached=function(i,a){var s=this;if(a)return this.cacheResult().__iterator(i,a);var o=e.__iterator(ht,a),c=!0,f=0;return new A(function(){var h,p,m;do{if(h=o.next(),h.done)return u||i===ft?h:i===Me?C(i,f++,void 0,h):C(i,f++,h.value[1],h);var b=h.value;p=b[0],m=b[1],c&&(c=t.call(r,m,p,s))}while(c);return i===ht?h:C(i,p,m,h)})},n}var L0=(function(e){function t(r){this._wrappedIterables=r.flatMap(function(u){return u._wrappedIterables?u._wrappedIterables:[u]}),this.size=this._wrappedIterables.reduce(function(u,n){if(u!==void 0){var i=n.size;if(i!==void 0)return u+i}},0),this[Ur]=this._wrappedIterables[0][Ur],this[jr]=this._wrappedIterables[0][jr],this[Ft]=this._wrappedIterables[0][Ft]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(u,n){if(this._wrappedIterables.length!==0){if(n)return this.cacheResult().__iterate(u,n);for(var i=0,a=R(this),s=a?ht:ft,o=this._wrappedIterables[i].__iterator(s,n),c=!0,f=0;c;){for(var h=o.next();h.done;){if(i++,i===this._wrappedIterables.length)return f;o=this._wrappedIterables[i].__iterator(s,n),h=o.next()}var p=a?u(h.value[1],h.value[0],this):u(h.value,f,this);c=p!==!1,f++}return f}},t.prototype.__iteratorUncached=function(u,n){var i=this;if(this._wrappedIterables.length===0)return new A(Q);if(n)return this.cacheResult().__iterator(u,n);var a=0,s=this._wrappedIterables[a].__iterator(u,n);return new A(function(){for(var o=s.next();o.done;){if(a++,a===i._wrappedIterables.length)return o;s=i._wrappedIterables[a].__iterator(u,n),o=s.next()}return o})},t})(nt);function T0(e,t){var r=R(e),u=[e].concat(t).map(function(i){return ct(i)?r&&(i=gt(i)):i=r?bn(i):Qa(Array.isArray(i)?i:[i]),i}).filter(function(i){return i.size!==0});if(u.length===0)return e;if(u.length===1){var n=u[0];if(n===e||r&&R(n)||mt(e)&&mt(n))return n}return new L0(u)}function fs(e,t,r){var u=$t(e);return u.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=0,s=!1;function o(c,f){c.__iterate(function(h,p){return(!t||f<t)&&ct(h)?o(h,f+1):(a++,n(h,r?p:a-1,u)===!1&&(s=!0)),!s},i)}return o(e,0),a},u.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(n,i),s=[],o=0;return new A(function(){for(;a;){var c=a.next();if(c.done!==!1){a=s.pop();continue}var f=c.value;if(n===ht&&(f=f[1]),(!t||s.length<t)&&ct(f))s.push(a),a=f.__iterator(n,i);else return r?c:C(n,o++,f,c)}return Q()})},u}function N0(e,t,r){var u=xn(e);return e.toSeq().map(function(n,i){return u(t.call(r,n,i,e))}).flatten(!0)}function $0(e,t){var r=$t(e);return r.size=e.size&&e.size*2-1,r.__iterateUncached=function(u,n){var i=this,a=0;return e.__iterate(function(s){return(!a||u(t,a++,i)!==!1)&&u(s,a++,i)!==!1},n),a},r.__iteratorUncached=function(u,n){var i=e.__iterator(ft,n),a=0,s;return new A(function(){return(!s||a%2)&&(s=i.next(),s.done)?s:a%2?C(u,a++,t):C(u,a++,s.value,s)})},r}function we(e,t,r){t||(t=hs);var u=R(e),n=0,i=e.toSeq().map(function(a,s){return[s,a,n++,r?r(a,s,e):a]}).valueSeq().toArray();return i.sort(function(a,s){return t(a[3],s[3])||a[2]-s[2]}).forEach(u?function(a,s){i[s].length=2}:function(a,s){i[s]=a[1]}),u?Kt(i):mt(e)?xt(i):Ce(i)}function Nr(e,t,r){if(t||(t=hs),r){var u=e.toSeq().map(function(n,i){return[n,r(n,i,e)]}).reduce(function(n,i){return Oi(t,n[1],i[1])?i:n});return u&&u[0]}return e.reduce(function(n,i){return Oi(t,n,i)?i:n})}function Oi(e,t,r){var u=e(r,t);return u===0&&r!==t&&(r==null||r!==r)||u>0}function $r(e,t,r,u){var n=$t(e),i=new xe(r).map(function(a){return a.size});return n.size=u?i.max():i.min(),n.__iterate=function(a,s){for(var o=this.__iterator(ft,s),c,f=0;!(c=o.next()).done&&a(c.value,f++,this)!==!1;);return f},n.__iteratorUncached=function(a,s){var o=r.map(function(h){return h=G(h),Cu(s?h.reverse():h)}),c=0,f=!1;return new A(function(){var h;return f||(h=o.map(function(p){return p.next()}),f=u?h.every(function(p){return p.done}):h.some(function(p){return p.done})),f?Q():C(a,c++,t.apply(null,h.map(function(p){return p.value})))})},n}function L(e,t){return e===t?e:dn(e)?t:e.constructor(t)}function Bi(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function xn(e){return R(e)?gt:mt(e)?oe:qe}function $t(e){return Object.create((R(e)?Kt:mt(e)?xt:Ce).prototype)}function wn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):nt.prototype.cacheResult.call(this)}function hs(e,t){return e===void 0&&t===void 0?0:e===void 0?1:t===void 0?-1:e>t?1:e<t?-1:0}function St(e,t){t=t||0;for(var r=Math.max(0,e.length-t),u=new Array(r),n=0;n<r;n++)u[n]=e[n+t];return u}function Je(e,t){if(!e)throw new Error(t)}function at(e){Je(e!==1/0,"Cannot perform this action with an infinite size.")}function ls(e){if(Ja(e)&&typeof e!="string")return e;if(kt(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var O0=Object.prototype.toString;function B0(e){if(!e||typeof e!="object"||O0.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t,u=Object.getPrototypeOf(t);u!==null;)r=u,u=Object.getPrototypeOf(r);return r===t}function Vt(e){return typeof e=="object"&&(Nt(e)||Array.isArray(e)||B0(e))}function nr(e){try{return typeof e=="string"?JSON.stringify(e):String(e)}catch{return JSON.stringify(e)}}function q0(e,t){return Nt(e)?e.has(t):Vt(e)&&Re.call(e,t)}function ds(e,t,r){return Nt(e)?e.get(t,r):q0(e,t)?typeof e.get=="function"?e.get(t):e[t]:r}function Hr(e){if(Array.isArray(e))return St(e);var t={};for(var r in e)Re.call(e,r)&&(t[r]=e[r]);return t}function M0(e,t){if(!Vt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Nt(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!Re.call(e,t))return e;var r=Hr(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function R0(e,t,r){if(!Vt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(Nt(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(Re.call(e,t)&&r===e[t])return e;var u=Hr(e);return u[t]=r,u}function Pe(e,t,r,u){u||(u=r,r=void 0);var n=ps(Nt(e),e,ls(t),0,r,u);return n===E?r:n}function ps(e,t,r,u,n,i){var a=t===E;if(u===r.length){var s=a?n:t,o=i(s);return o===s?t:o}if(!a&&!Vt(t))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(r).slice(0,u).map(nr)+"]: "+t);var c=r[u],f=a?E:ds(t,c,E),h=ps(f===E?e:Nt(f),f,r,u+1,n,i);return h===f?t:h===E?M0(t,c):R0(a?e?At():{}:t,c,h)}function C0(e,t,r){return Pe(e,t,E,function(){return r})}function Sn(e,t){return C0(this,e,t)}function P0(e,t){return Pe(e,t,function(){return E})}function En(e){return P0(this,e)}function ms(e,t,r,u){return Pe(e,[t],r,u)}function An(e,t,r){return arguments.length===1?e(this):ms(this,e,t,r)}function In(e,t,r){return Pe(this,e,t,r)}function bs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return ys(this,e)}function gs(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if(typeof e!="function")throw new TypeError("Invalid merger function: "+e);return ys(this,t,e)}function ys(e,t,r){for(var u=[],n=0;n<t.length;n++){var i=gt(t[n]);i.size!==0&&u.push(i)}return u.length===0?e:e.toSeq().size===0&&!e.__ownerID&&u.length===1?ce(e)?e:e.constructor(u[0]):e.withMutations(function(a){for(var s=r?function(c,f){ms(a,f,E,function(h){return h===E?c:r(h,c,f)})}:function(c,f){a.set(f,c)},o=0;o<u.length;o++)u[o].forEach(s)})}function kn(e,t,r){return Ln(e,t,D0(r))}function Ln(e,t,r){if(!Vt(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(Nt(e))return typeof r=="function"&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var u=Array.isArray(e),n=e,i=u?oe:gt,a=u?function(o){n===e&&(n=Hr(n)),n.push(o)}:function(o,c){var f=Re.call(n,c),h=f&&r?r(n[c],o,c):o;(!f||h!==n[c])&&(n===e&&(n=Hr(n)),n[c]=h)},s=0;s<t.length;s++)i(t[s]).forEach(a);return n}function D0(e){function t(r,u,n){return Vt(r)&&Vt(u)&&z0(r,u)?Ln(r,[u],t):e?e(r,u,n):u}return t}function z0(e,t){var r=nt(e),u=nt(t);return mt(r)===mt(u)&&R(r)===R(u)}function vs(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return kn(this,e)}function _s(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return kn(this,t,e)}function Tn(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Pe(this,e,At(),function(u){return Ln(u,t)})}function Nn(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Pe(this,e,At(),function(u){return kn(u,t)})}function pr(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function mr(){return this.__ownerID?this:this.__ensureOwner(new hn)}function br(){return this.__ensureOwner()}function $n(){return this.__altered}var De=(function(e){function t(r){return r==null?At():yn(r)&&!kt(r)?r:At().withMutations(function(u){var n=e(r);at(n.size),n.forEach(function(i,a){return u.set(a,i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(u,n){return this._root?this._root.get(0,void 0,u,n):n},t.prototype.set=function(u,n){return Ri(this,u,n)},t.prototype.remove=function(u){return Ri(this,u,E)},t.prototype.deleteAll=function(u){var n=G(u);return n.size===0?this:this.withMutations(function(i){n.forEach(function(a){return i.remove(a)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):At()},t.prototype.sort=function(u){return Ct(we(this,u))},t.prototype.sortBy=function(u,n){return Ct(we(this,n,u))},t.prototype.map=function(u,n){var i=this;return this.withMutations(function(a){a.forEach(function(s,o){a.set(o,u.call(n,s,o,i))})})},t.prototype.__iterator=function(u,n){return new W0(this,u,n)},t.prototype.__iterate=function(u,n){var i=this,a=0;return this._root&&this._root.iterate(function(s){return a++,u(s[1],s[0],i)},n),a},t.prototype.__ensureOwner=function(u){return u===this.__ownerID?this:u?On(this.size,this._root,u,this.__hash):this.size===0?At():(this.__ownerID=u,this.__altered=!1,this)},t})(gt);De.isMap=yn;var B=De.prototype;B[ts]=!0;B[lr]=B.remove;B.removeAll=B.deleteAll;B.setIn=Sn;B.removeIn=B.deleteIn=En;B.update=An;B.updateIn=In;B.merge=B.concat=bs;B.mergeWith=gs;B.mergeDeep=vs;B.mergeDeepWith=_s;B.mergeIn=Tn;B.mergeDeepIn=Nn;B.withMutations=pr;B.wasAltered=$n;B.asImmutable=br;B["@@transducer/init"]=B.asMutable=mr;B["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])};B["@@transducer/result"]=function(e){return e.asImmutable()};var ir=function(t,r){this.ownerID=t,this.entries=r};ir.prototype.get=function(t,r,u,n){for(var i=this.entries,a=0,s=i.length;a<s;a++)if(ot(u,i[a][0]))return i[a][1];return n};ir.prototype.update=function(t,r,u,n,i,a,s){for(var o=i===E,c=this.entries,f=0,h=c.length;f<h&&!ot(n,c[f][0]);f++);var p=f<h;if(p?c[f][1]===i:o)return this;if(pt(s),(o||!p)&&pt(a),!(o&&c.length===1)){if(!p&&!o&&c.length>=K0)return U0(t,c,n,i);var m=t&&t===this.ownerID,b=m?c:St(c);return p?o?f===h-1?b.pop():b[f]=b.pop():b[f]=[n,i]:b.push([n,i]),m?(this.entries=b,this):new ir(t,b)}};var Se=function(t,r,u){this.ownerID=t,this.bitmap=r,this.nodes=u};Se.prototype.get=function(t,r,u,n){r===void 0&&(r=it(u));var i=1<<((t===0?r:r>>>t)&J),a=this.bitmap;return(a&i)===0?n:this.nodes[xs(a&i-1)].get(t+T,r,u,n)};Se.prototype.update=function(t,r,u,n,i,a,s){u===void 0&&(u=it(n));var o=(r===0?u:u>>>r)&J,c=1<<o,f=this.bitmap,h=(f&c)!==0;if(!h&&i===E)return this;var p=xs(f&c-1),m=this.nodes,b=h?m[p]:void 0,v=Bn(b,t,r+T,u,n,i,a,s);if(v===b)return this;if(!h&&v&&m.length>=X0)return H0(t,m,f,o,v);if(h&&!v&&m.length===2&&Ci(m[p^1]))return m[p^1];if(h&&v&&m.length===1&&Ci(v))return v;var P=t&&t===this.ownerID,_=h?v?f:f^c:f|c,w=h?v?ws(m,p,v,P):V0(m,p,P):F0(m,p,v,P);return P?(this.bitmap=_,this.nodes=w,this):new Se(t,_,w)};var ar=function(t,r,u){this.ownerID=t,this.count=r,this.nodes=u};ar.prototype.get=function(t,r,u,n){r===void 0&&(r=it(u));var i=(t===0?r:r>>>t)&J,a=this.nodes[i];return a?a.get(t+T,r,u,n):n};ar.prototype.update=function(t,r,u,n,i,a,s){u===void 0&&(u=it(n));var o=(r===0?u:u>>>r)&J,c=i===E,f=this.nodes,h=f[o];if(c&&!h)return this;var p=Bn(h,t,r+T,u,n,i,a,s);if(p===h)return this;var m=this.count;if(!h)m++;else if(!p&&(m--,m<G0))return j0(t,f,m,o);var b=t&&t===this.ownerID,v=ws(f,o,p,b);return b?(this.count=m,this.nodes=v,this):new ar(t,m,v)};var Ee=function(t,r,u){this.ownerID=t,this.keyHash=r,this.entries=u};Ee.prototype.get=function(t,r,u,n){for(var i=this.entries,a=0,s=i.length;a<s;a++)if(ot(u,i[a][0]))return i[a][1];return n};Ee.prototype.update=function(t,r,u,n,i,a,s){u===void 0&&(u=it(n));var o=i===E;if(u!==this.keyHash)return o?this:(pt(s),pt(a),qn(this,t,r,u,[n,i]));for(var c=this.entries,f=0,h=c.length;f<h&&!ot(n,c[f][0]);f++);var p=f<h;if(p?c[f][1]===i:o)return this;if(pt(s),(o||!p)&&pt(a),o&&h===2)return new Rt(t,this.keyHash,c[f^1]);var m=t&&t===this.ownerID,b=m?c:St(c);return p?o?f===h-1?b.pop():b[f]=b.pop():b[f]=[n,i]:b.push([n,i]),m?(this.entries=b,this):new Ee(t,this.keyHash,b)};var Rt=function(t,r,u){this.ownerID=t,this.keyHash=r,this.entry=u};Rt.prototype.get=function(t,r,u,n){return ot(u,this.entry[0])?this.entry[1]:n};Rt.prototype.update=function(t,r,u,n,i,a,s){var o=i===E,c=ot(n,this.entry[0]);if(c?i===this.entry[1]:o)return this;if(pt(s),o){pt(a);return}return c?t&&t===this.ownerID?(this.entry[1]=i,this):new Rt(t,this.keyHash,[n,i]):(pt(a),qn(this,t,r,it(n),[n,i]))};ir.prototype.iterate=Ee.prototype.iterate=function(e,t){for(var r=this.entries,u=0,n=r.length-1;u<=n;u++)if(e(r[t?n-u:u])===!1)return!1};Se.prototype.iterate=ar.prototype.iterate=function(e,t){for(var r=this.nodes,u=0,n=r.length-1;u<=n;u++){var i=r[t?n-u:u];if(i&&i.iterate(e,t)===!1)return!1}};Rt.prototype.iterate=function(e,t){return e(this.entry)};var W0=(function(e){function t(r,u,n){this._type=u,this._reverse=n,this._stack=r._root&&qi(r._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var u=this._type,n=this._stack;n;){var i=n.node,a=n.index++,s=void 0;if(i.entry){if(a===0)return Au(u,i.entry)}else if(i.entries){if(s=i.entries.length-1,a<=s)return Au(u,i.entries[this._reverse?s-a:a])}else if(s=i.nodes.length-1,a<=s){var o=i.nodes[this._reverse?s-a:a];if(o){if(o.entry)return Au(u,o.entry);n=this._stack=qi(o,n)}continue}n=this._stack=this._stack.__prev}return Q()},t})(A);function Au(e,t){return C(e,t[0],t[1])}function qi(e,t){return{node:e,index:0,__prev:t}}function On(e,t,r,u){var n=Object.create(B);return n.size=e,n._root=t,n.__ownerID=r,n.__hash=u,n.__altered=!1,n}var Mi;function At(){return Mi||(Mi=On(0))}function Ri(e,t,r){var u,n;if(e._root){var i=Mu(),a=Mu();if(u=Bn(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;n=e.size+(i.value?r===E?-1:1:0)}else{if(r===E)return e;n=1,u=new ir(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=n,e._root=u,e.__hash=void 0,e.__altered=!0,e):u?On(n,u):At()}function Bn(e,t,r,u,n,i,a,s){return e?e.update(t,r,u,n,i,a,s):i===E?e:(pt(s),pt(a),new Rt(t,u,[n,i]))}function Ci(e){return e.constructor===Rt||e.constructor===Ee}function qn(e,t,r,u,n){if(e.keyHash===u)return new Ee(t,u,[e.entry,n]);var i=(r===0?e.keyHash:e.keyHash>>>r)&J,a=(r===0?u:u>>>r)&J,s,o=i===a?[qn(e,t,r+T,u,n)]:(s=new Rt(t,u,n),i<a?[e,s]:[s,e]);return new Se(t,1<<i|1<<a,o)}function U0(e,t,r,u){e||(e=new hn);for(var n=new Rt(e,it(r),[r,u]),i=0;i<t.length;i++){var a=t[i];n=n.update(e,0,void 0,a[0],a[1])}return n}function j0(e,t,r,u){for(var n=0,i=0,a=new Array(r),s=0,o=1,c=t.length;s<c;s++,o<<=1){var f=t[s];f!==void 0&&s!==u&&(n|=o,a[i++]=f)}return new Se(e,n,a)}function H0(e,t,r,u,n){for(var i=0,a=new Array(st),s=0;r!==0;s++,r>>>=1)a[s]=r&1?t[i++]:void 0;return a[u]=n,new ar(e,i+1,a)}function xs(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function ws(e,t,r,u){var n=u?e:St(e);return n[t]=r,n}function F0(e,t,r,u){var n=e.length+1;if(u&&t+1===n)return e[t]=r,e;for(var i=new Array(n),a=0,s=0;s<n;s++)s===t?(i[s]=r,a=-1):i[s]=e[s+a];return i}function V0(e,t,r){var u=e.length-1;if(r&&t===u)return e.pop(),e;for(var n=new Array(u),i=0,a=0;a<u;a++)a===t&&(i=1),n[a]=e[a+i];return n}var K0=st/4,X0=st/2,G0=st/4,Ss="@@__IMMUTABLE_LIST__@@";function Es(e){return!!(e&&e[Ss])}var rt=(function(e){function t(r){var u=Pr();if(r==null)return u;if(Es(r))return r;var n=e(r),i=n.size;return i===0?u:(at(i),i>0&&i<st?sr(0,i,T,null,new jt(n.toArray())):u.withMutations(function(a){a.setSize(i),n.forEach(function(s,o){return a.set(o,s)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(u,n){if(u=Ht(this,u),u>=0&&u<this.size){u+=this._origin;var i=As(this,u);return i&&i.array[u&J]}return n},t.prototype.set=function(u,n){return Y0(this,u,n)},t.prototype.remove=function(u){return this.has(u)?u===0?this.shift():u===this.size-1?this.pop():this.splice(u,1):this},t.prototype.insert=function(u,n){return this.splice(u,0,n)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=T,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):Pr()},t.prototype.push=function(){var u=arguments,n=this.size;return this.withMutations(function(i){Wt(i,0,n+u.length);for(var a=0;a<u.length;a++)i.set(n+a,u[a])})},t.prototype.pop=function(){return Wt(this,0,-1)},t.prototype.unshift=function(){var u=arguments;return this.withMutations(function(n){Wt(n,-u.length);for(var i=0;i<u.length;i++)n.set(i,u[i])})},t.prototype.shift=function(){return Wt(this,1)},t.prototype.shuffle=function(u){return u===void 0&&(u=Math.random),this.withMutations(function(n){for(var i=n.size,a,s;i;)a=Math.floor(u()*i--),s=n.get(a),n.set(a,n.get(i)),n.set(i,s)})},t.prototype.concat=function(){for(var u=arguments,n=[],i=0;i<arguments.length;i++){var a=u[i],s=e(typeof a!="string"&&Za(a)?a:[a]);s.size!==0&&n.push(s)}return n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(o){n.forEach(function(c){return c.forEach(function(f){return o.push(f)})})})},t.prototype.setSize=function(u){return Wt(this,0,u)},t.prototype.map=function(u,n){var i=this;return this.withMutations(function(a){for(var s=0;s<i.size;s++)a.set(s,u.call(n,a.get(s),s,i))})},t.prototype.slice=function(u,n){var i=this.size;return Qr(u,n,i)?this:Wt(this,dr(u,i),tu(n,i))},t.prototype.__iterator=function(u,n){var i=n?this.size:0,a=Pi(this,n);return new A(function(){var s=a();return s===Qe?Q():C(u,n?--i:i++,s)})},t.prototype.__iterate=function(u,n){for(var i=n?this.size:0,a=Pi(this,n),s;(s=a())!==Qe&&u(s,n?--i:i++,this)!==!1;);return i},t.prototype.__ensureOwner=function(u){return u===this.__ownerID?this:u?sr(this._origin,this._capacity,this._level,this._root,this._tail,u,this.__hash):this.size===0?Pr():(this.__ownerID=u,this.__altered=!1,this)},t})(oe);rt.isList=Es;var D=rt.prototype;D[Ss]=!0;D[lr]=D.remove;D.merge=D.concat;D.setIn=Sn;D.deleteIn=D.removeIn=En;D.update=An;D.updateIn=In;D.mergeIn=Tn;D.mergeDeepIn=Nn;D.withMutations=pr;D.wasAltered=$n;D.asImmutable=br;D["@@transducer/init"]=D.asMutable=mr;D["@@transducer/step"]=function(e,t){return e.push(t)};D["@@transducer/result"]=function(e){return e.asImmutable()};var jt=function(t,r){this.array=t,this.ownerID=r};jt.prototype.removeBefore=function(t,r,u){if((u&(1<<r+T)-1)===0||this.array.length===0)return this;var n=u>>>r&J;if(n>=this.array.length)return new jt([],t);var i=n===0,a;if(r>0){var s=this.array[n];if(a=s&&s.removeBefore(t,r-T,u),a===s&&i)return this}if(i&&!a)return this;var o=Ae(this,t);if(!i)for(var c=0;c<n;c++)o.array[c]=void 0;return a&&(o.array[n]=a),o};jt.prototype.removeAfter=function(t,r,u){if(u===(r?1<<r+T:st)||this.array.length===0)return this;var n=u-1>>>r&J;if(n>=this.array.length)return this;var i;if(r>0){var a=this.array[n];if(i=a&&a.removeAfter(t,r-T,u),i===a&&n===this.array.length-1)return this}var s=Ae(this,t);return s.array.splice(n+1),i&&(s.array[n]=i),s};var Qe={};function Pi(e,t){var r=e._origin,u=e._capacity,n=or(u),i=e._tail;return a(e._root,e._level,0);function a(c,f,h){return f===0?s(c,h):o(c,f,h)}function s(c,f){var h=f===n?i&&i.array:c&&c.array,p=f>r?0:r-f,m=u-f;return m>st&&(m=st),function(){if(p===m)return Qe;var b=t?--m:p++;return h&&h[b]}}function o(c,f,h){var p,m=c&&c.array,b=h>r?0:r-h>>f,v=(u-h>>f)+1;return v>st&&(v=st),function(){for(;;){if(p){var P=p();if(P!==Qe)return P;p=null}if(b===v)return Qe;var _=t?--v:b++;p=a(m&&m[_],f-T,h+(_<<f))}}}}function sr(e,t,r,u,n,i,a){var s=Object.create(D);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=u,s._tail=n,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function Pr(){return sr(0,0,T)}function Y0(e,t,r){if(t=Ht(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(a){t<0?Wt(a,t).set(0,r):Wt(a,0,t+1).set(t,r)});t+=e._origin;var u=e._tail,n=e._root,i=Mu();return t>=or(e._capacity)?u=Wu(u,e.__ownerID,0,t,r,i):n=Wu(n,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=n,e._tail=u,e.__hash=void 0,e.__altered=!0,e):sr(e._origin,e._capacity,e._level,n,u):e}function Wu(e,t,r,u,n,i){var a=u>>>r&J,s=e&&a<e.array.length;if(!s&&n===void 0)return e;var o;if(r>0){var c=e&&e.array[a],f=Wu(c,t,r-T,u,n,i);return f===c?e:(o=Ae(e,t),o.array[a]=f,o)}return s&&e.array[a]===n?e:(i&&pt(i),o=Ae(e,t),n===void 0&&a===o.array.length-1?o.array.pop():o.array[a]=n,o)}function Ae(e,t){return t&&e&&t===e.ownerID?e:new jt(e?e.array.slice():[],t)}function As(e,t){if(t>=or(e._capacity))return e._tail;if(t<1<<e._level+T){for(var r=e._root,u=e._level;r&&u>0;)r=r.array[t>>>u&J],u-=T;return r}}function Wt(e,t,r){t!==void 0&&(t|=0),r!==void 0&&(r|=0);var u=e.__ownerID||new hn,n=e._origin,i=e._capacity,a=n+t,s=r===void 0?i:r<0?i+r:n+r;if(a===n&&s===i)return e;if(a>=s)return e.clear();for(var o=e._level,c=e._root,f=0;a+f<0;)c=new jt(c&&c.array.length?[void 0,c]:[],u),o+=T,f+=1<<o;f&&(a+=f,n+=f,s+=f,i+=f);for(var h=or(i),p=or(s);p>=1<<o+T;)c=new jt(c&&c.array.length?[c]:[],u),o+=T;var m=e._tail,b=p<h?As(e,s-1):p>h?new jt([],u):m;if(m&&p>h&&a<i&&m.array.length){c=Ae(c,u);for(var v=c,P=o;P>T;P-=T){var _=h>>>P&J;v=v.array[_]=Ae(v.array[_],u)}v.array[h>>>T&J]=m}if(s<i&&(b=b&&b.removeAfter(u,0,s)),a>=p)a-=p,s-=p,o=T,c=null,b=b&&b.removeBefore(u,0,a);else if(a>n||p<h){for(f=0;c;){var w=a>>>o&J;if(w!==p>>>o&J)break;w&&(f+=(1<<o)*w),o-=T,c=c.array[w]}c&&a>n&&(c=c.removeBefore(u,o,a-f)),c&&p<h&&(c=c.removeAfter(u,o,p-f)),f&&(a-=f,s-=f)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=o,e._root=c,e._tail=b,e.__hash=void 0,e.__altered=!0,e):sr(a,s,o,c,b)}function or(e){return e<st?0:e-1>>>T<<T}var Ct=(function(e){function t(r){return r==null?Xe():es(r)?r:Xe().withMutations(function(u){var n=gt(r);at(n.size),n.forEach(function(i,a){return u.set(a,i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(u,n){var i=this._map.get(u);return i!==void 0?this._list.get(i)[1]:n},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Xe()},t.prototype.set=function(u,n){return zi(this,u,n)},t.prototype.remove=function(u){return zi(this,u,E)},t.prototype.__iterate=function(u,n){var i=this;return this._list.__iterate(function(a){return a&&u(a[1],a[0],i)},n)},t.prototype.__iterator=function(u,n){return this._list.fromEntrySeq().__iterator(u,n)},t.prototype.__ensureOwner=function(u){if(u===this.__ownerID)return this;var n=this._map.__ensureOwner(u),i=this._list.__ensureOwner(u);return u?Mn(n,i,u,this.__hash):this.size===0?Xe():(this.__ownerID=u,this.__altered=!1,this._map=n,this._list=i,this)},t})(De);Ct.isOrderedMap=es;Ct.prototype[Ft]=!0;Ct.prototype[lr]=Ct.prototype.remove;function Mn(e,t,r,u){var n=Object.create(Ct.prototype);return n.size=e?e.size:0,n._map=e,n._list=t,n.__ownerID=r,n.__hash=u,n.__altered=!1,n}var Di;function Xe(){return Di||(Di=Mn(At(),Pr()))}function zi(e,t,r){var u=e._map,n=e._list,i=u.get(t),a=i!==void 0,s,o;if(r===E){if(!a)return e;n.size>=st&&n.size>=u.size*2?(o=n.filter(function(c,f){return c!==void 0&&i!==f}),s=o.toKeyedSeq().map(function(c){return c[0]}).flip().toMap(),e.__ownerID&&(s.__ownerID=o.__ownerID=e.__ownerID)):(s=u.remove(t),o=i===n.size-1?n.pop():n.set(i,void 0))}else if(a){if(r===n.get(i)[1])return e;s=u,o=n.set(i,[t,r])}else s=u.set(t,n.size),o=n.set(n.size,[t,r]);return e.__ownerID?(e.size=s.size,e._map=s,e._list=o,e.__hash=void 0,e.__altered=!0,e):Mn(s,o)}var Is="@@__IMMUTABLE_STACK__@@";function Uu(e){return!!(e&&e[Is])}var Rn=(function(e){function t(r){return r==null?Or():Uu(r)?r:Or().pushAll(r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(u,n){var i=this._head;for(u=Ht(this,u);i&&u--;)i=i.next;return i?i.value:n},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var u=arguments;if(arguments.length===0)return this;for(var n=this.size+arguments.length,i=this._head,a=arguments.length-1;a>=0;a--)i={value:u[a],next:i};return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ge(n,i)},t.prototype.pushAll=function(u){if(u=e(u),u.size===0)return this;if(this.size===0&&Uu(u))return u;at(u.size);var n=this.size,i=this._head;return u.__iterate(function(a){n++,i={value:a,next:i}},!0),this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Ge(n,i)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Or()},t.prototype.slice=function(u,n){if(Qr(u,n,this.size))return this;var i=dr(u,this.size),a=tu(n,this.size);if(a!==this.size)return e.prototype.slice.call(this,u,n);for(var s=this.size-i,o=this._head;i--;)o=o.next;return this.__ownerID?(this.size=s,this._head=o,this.__hash=void 0,this.__altered=!0,this):Ge(s,o)},t.prototype.__ensureOwner=function(u){return u===this.__ownerID?this:u?Ge(this.size,this._head,u,this.__hash):this.size===0?Or():(this.__ownerID=u,this.__altered=!1,this)},t.prototype.__iterate=function(u,n){var i=this;if(n)return new xe(this.toArray()).__iterate(function(o,c){return u(o,c,i)},n);for(var a=0,s=this._head;s&&u(s.value,a++,this)!==!1;)s=s.next;return a},t.prototype.__iterator=function(u,n){if(n)return new xe(this.toArray()).__iterator(u,n);var i=0,a=this._head;return new A(function(){if(a){var s=a.value;return a=a.next,C(u,i++,s)}return Q()})},t})(oe);Rn.isStack=Uu;var tt=Rn.prototype;tt[Is]=!0;tt.shift=tt.pop;tt.unshift=tt.push;tt.unshiftAll=tt.pushAll;tt.withMutations=pr;tt.wasAltered=$n;tt.asImmutable=br;tt["@@transducer/init"]=tt.asMutable=mr;tt["@@transducer/step"]=function(e,t){return e.unshift(t)};tt["@@transducer/result"]=function(e){return e.asImmutable()};function Ge(e,t,r,u){var n=Object.create(tt);return n.size=e,n._head=t,n.__ownerID=r,n.__hash=u,n.__altered=!1,n}var Wi;function Or(){return Wi||(Wi=Ge(0))}var ks="@@__IMMUTABLE_SET__@@";function Cn(e){return!!(e&&e[ks])}function Ls(e){return Cn(e)&&kt(e)}function Ts(e,t){if(e===t)return!0;if(!ct(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||R(e)!==R(t)||mt(e)!==mt(t)||kt(e)!==kt(t))return!1;if(e.size===0&&t.size===0)return!0;var r=!ln(e);if(kt(e)){var u=e.entries();return t.every(function(o,c){var f=u.next().value;return f&&ot(f[1],o)&&(r||ot(f[0],c))})&&u.next().done}var n=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{n=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate(function(o,c){if(r?!e.has(o):n?!ot(o,e.get(c,E)):!ot(e.get(c,E),o))return a=!1,!1});return a&&e.size===s}function fe(e,t){var r=function(u){e.prototype[u]=t[u]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function Fr(e){if(!e||typeof e!="object")return e;if(!ct(e)){if(!Vt(e))return e;e=nt(e)}if(R(e)){var t={};return e.__iterate(function(u,n){t[n]=Fr(u)}),t}var r=[];return e.__iterate(function(u){r.push(Fr(u))}),r}var iu=(function(e){function t(r){return r==null?Ye():Cn(r)&&!kt(r)?r:Ye().withMutations(function(u){var n=e(r);at(n.size),n.forEach(function(i){return u.add(i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(u){return this(gt(u).keySeq())},t.intersect=function(u){return u=G(u).toArray(),u.length?K.intersect.apply(t(u.pop()),u):Ye()},t.union=function(u){return u=G(u).toArray(),u.length?K.union.apply(t(u.pop()),u):Ye()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(u){return this._map.has(u)},t.prototype.add=function(u){return Br(this,this._map.set(u,u))},t.prototype.remove=function(u){return Br(this,this._map.remove(u))},t.prototype.clear=function(){return Br(this,this._map.clear())},t.prototype.map=function(u,n){var i=this,a=!1,s=Br(this,this._map.mapEntries(function(o){var c=o[1],f=u.call(n,c,c,i);return f!==c&&(a=!0),[f,f]},n));return a?s:this},t.prototype.union=function(){for(var u=[],n=arguments.length;n--;)u[n]=arguments[n];return u=u.filter(function(i){return i.size!==0}),u.length===0?this:this.size===0&&!this.__ownerID&&u.length===1?this.constructor(u[0]):this.withMutations(function(i){for(var a=0;a<u.length;a++)typeof u[a]=="string"?i.add(u[a]):e(u[a]).forEach(function(s){return i.add(s)})})},t.prototype.intersect=function(){for(var u=[],n=arguments.length;n--;)u[n]=arguments[n];if(u.length===0)return this;u=u.map(function(a){return e(a)});var i=[];return this.forEach(function(a){u.every(function(s){return s.includes(a)})||i.push(a)}),this.withMutations(function(a){i.forEach(function(s){a.remove(s)})})},t.prototype.subtract=function(){for(var u=[],n=arguments.length;n--;)u[n]=arguments[n];if(u.length===0)return this;u=u.map(function(a){return e(a)});var i=[];return this.forEach(function(a){u.some(function(s){return s.includes(a)})&&i.push(a)}),this.withMutations(function(a){i.forEach(function(s){a.remove(s)})})},t.prototype.sort=function(u){return cr(we(this,u))},t.prototype.sortBy=function(u,n){return cr(we(this,n,u))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(u,n){var i=this;return this._map.__iterate(function(a){return u(a,a,i)},n)},t.prototype.__iterator=function(u,n){return this._map.__iterator(u,n)},t.prototype.__ensureOwner=function(u){if(u===this.__ownerID)return this;var n=this._map.__ensureOwner(u);return u?this.__make(n,u):this.size===0?this.__empty():(this.__ownerID=u,this._map=n,this)},t})(qe);iu.isSet=Cn;var K=iu.prototype;K[ks]=!0;K[lr]=K.remove;K.merge=K.concat=K.union;K.withMutations=pr;K.asImmutable=br;K["@@transducer/init"]=K.asMutable=mr;K["@@transducer/step"]=function(e,t){return e.add(t)};K["@@transducer/result"]=function(e){return e.asImmutable()};K.__empty=Ye;K.__make=Ns;function Br(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Ns(e,t){var r=Object.create(K);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Ui;function Ye(){return Ui||(Ui=Ns(At()))}var Z0=(function(e){function t(r,u,n){if(n===void 0&&(n=1),!(this instanceof t))return new t(r,u,n);if(Je(n!==0,"Cannot step a Range by 0"),Je(r!==void 0,"You must define a start value when using Range"),Je(u!==void 0,"You must define an end value when using Range"),n=Math.abs(n),u<r&&(n=-n),this._start=r,this._end=u,this._step=n,this.size=Math.max(0,Math.ceil((u-r)/n-1)+1),this.size===0){if(Iu)return Iu;Iu=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(u,n){return this.has(u)?this._start+Ht(this,u)*this._step:n},t.prototype.includes=function(u){var n=(u-this._start)/this._step;return n>=0&&n<this.size&&n===Math.floor(n)},t.prototype.slice=function(u,n){return Qr(u,n,this.size)?this:(u=dr(u,this.size),n=tu(n,this.size),n<=u?new t(0,0):new t(this.get(u,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(u){var n=u-this._start;if(n%this._step===0){var i=n/this._step;if(i>=0&&i<this.size)return i}return-1},t.prototype.lastIndexOf=function(u){return this.indexOf(u)},t.prototype.__iterate=function(u,n){for(var i=this.size,a=this._step,s=n?this._start+(i-1)*a:this._start,o=0;o!==i&&u(s,n?i-++o:o++,this)!==!1;)s+=n?-a:a;return o},t.prototype.__iterator=function(u,n){var i=this.size,a=this._step,s=n?this._start+(i-1)*a:this._start,o=0;return new A(function(){if(o===i)return Q();var c=s;return s+=n?-a:a,C(u,n?i-++o:o++,c)})},t.prototype.equals=function(u){return u instanceof t?this._start===u._start&&this._end===u._end&&this._step===u._step:Ts(this,u)},t})(xt),Iu;function $s(e,t,r){for(var u=ls(t),n=0;n!==u.length;)if(e=ds(e,u[n++],E),e===E)return r;return e}function Os(e,t){return $s(this,e,t)}function J0(e,t){return $s(e,t,E)!==E}function Q0(e){return J0(this,e)}function Bs(){at(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}G.Iterator=A;fe(G,{toArray:function(){at(this.size);var t=new Array(this.size||0),r=R(this),u=0;return this.__iterate(function(n,i){t[u++]=r?[i,n]:n}),t},toIndexedSeq:function(){return new us(this)},toJS:function(){return Fr(this)},toKeyedSeq:function(){return new nu(this,!0)},toMap:function(){return De(this.toKeyedSeq())},toObject:Bs,toOrderedMap:function(){return Ct(this.toKeyedSeq())},toOrderedSet:function(){return cr(R(this)?this.valueSeq():this)},toSet:function(){return iu(R(this)?this.valueSeq():this)},toSetSeq:function(){return new ns(this)},toSeq:function(){return mt(this)?this.toIndexedSeq():R(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Rn(R(this)?this.valueSeq():this)},toList:function(){return rt(R(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,r){return this.size===0?t+r:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return L(this,T0(this,t))},includes:function(t){return this.some(function(r){return ot(r,t)})},entries:function(){return this.__iterator(ht)},every:function(t,r){at(this.size);var u=!0;return this.__iterate(function(n,i,a){if(!t.call(r,n,i,a))return u=!1,!1}),u},filter:function(t,r){return L(this,os(this,t,r,!0))},partition:function(t,r){return I0(this,t,r)},find:function(t,r,u){var n=this.findEntry(t,r);return n?n[1]:u},forEach:function(t,r){return at(this.size),this.__iterate(r?t.bind(r):t)},join:function(t){at(this.size),t=t!==void 0?""+t:",";var r="",u=!0;return this.__iterate(function(n){u?u=!1:r+=t,r+=n!=null?n.toString():""}),r},keys:function(){return this.__iterator(Me)},map:function(t,r){return L(this,ss(this,t,r))},reduce:function(t,r,u){return ji(this,t,r,u,arguments.length<2,!1)},reduceRight:function(t,r,u){return ji(this,t,r,u,arguments.length<2,!0)},reverse:function(){return L(this,vn(this,!0))},slice:function(t,r){return L(this,_n(this,t,r,!0))},some:function(t,r){at(this.size);var u=!1;return this.__iterate(function(n,i,a){if(t.call(r,n,i,a))return u=!0,!1}),u},sort:function(t){return L(this,we(this,t))},values:function(){return this.__iterator(ft)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,r){return _e(t?this.toSeq().filter(t,r):this)},countBy:function(t,r){return E0(this,t,r)},equals:function(t){return Ts(this,t)},entrySeq:function(){var t=this;if(t._cache)return new xe(t._cache);var r=t.toSeq().map(ef).toIndexedSeq();return r.fromEntrySeq=function(){return t.toSeq()},r},filterNot:function(t,r){return this.filter(ku(t),r)},findEntry:function(t,r,u){var n=u;return this.__iterate(function(i,a,s){if(t.call(r,i,a,s))return n=[a,i],!1}),n},findKey:function(t,r){var u=this.findEntry(t,r);return u&&u[0]},findLast:function(t,r,u){return this.toKeyedSeq().reverse().find(t,r,u)},findLastEntry:function(t,r,u){return this.toKeyedSeq().reverse().findEntry(t,r,u)},findLastKey:function(t,r){return this.toKeyedSeq().reverse().findKey(t,r)},first:function(t){return this.find(Ha,null,t)},flatMap:function(t,r){return L(this,N0(this,t,r))},flatten:function(t){return L(this,fs(this,t,!0))},fromEntrySeq:function(){return new is(this)},get:function(t,r){return this.find(function(u,n){return ot(n,t)},void 0,r)},getIn:Os,groupBy:function(t,r){return A0(this,t,r)},has:function(t){return this.get(t,E)!==E},hasIn:Q0,isSubset:function(t){return t=typeof t.includes=="function"?t:G(t),this.every(function(r){return t.includes(r)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:G(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(r){return ot(r,t)})},keySeq:function(){return this.toSeq().map(tf).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Nr(this,t)},maxBy:function(t,r){return Nr(this,r,t)},min:function(t){return Nr(this,t?Hi(t):Vi)},minBy:function(t,r){return Nr(this,r?Hi(r):Vi,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,r){return L(this,cs(this,t,r,!0))},skipUntil:function(t,r){return this.skipWhile(ku(t),r)},sortBy:function(t,r){return L(this,we(this,r,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,r){return L(this,k0(this,t,r))},takeUntil:function(t,r){return this.takeWhile(ku(t),r)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=rf(this))}});var Y=G.prototype;Y[Ka]=!0;Y[eu]=Y.values;Y.toJSON=Y.toArray;Y.__toStringMapper=nr;Y.inspect=Y.toSource=function(){return this.toString()};Y.chain=Y.flatMap;Y.contains=Y.includes;fe(gt,{flip:function(){return L(this,as(this))},mapEntries:function(t,r){var u=this,n=0;return L(this,this.toSeq().map(function(i,a){return t.call(r,[a,i],n++,u)}).fromEntrySeq())},mapKeys:function(t,r){var u=this;return L(this,this.toSeq().flip().map(function(n,i){return t.call(r,n,i,u)}).flip())}});var gr=gt.prototype;gr[Ur]=!0;gr[eu]=Y.entries;gr.toJSON=Bs;gr.__toStringMapper=function(e,t){return nr(t)+": "+nr(e)};fe(oe,{toKeyedSeq:function(){return new nu(this,!1)},filter:function(t,r){return L(this,os(this,t,r,!1))},findIndex:function(t,r){var u=this.findEntry(t,r);return u?u[0]:-1},indexOf:function(t){var r=this.keyOf(t);return r===void 0?-1:r},lastIndexOf:function(t){var r=this.lastKeyOf(t);return r===void 0?-1:r},reverse:function(){return L(this,vn(this,!1))},slice:function(t,r){return L(this,_n(this,t,r,!1))},splice:function(t,r){var u=arguments.length;if(r=Math.max(r||0,0),u===0||u===2&&!r)return this;t=dr(t,t<0?this.count():this.size);var n=this.slice(0,t);return L(this,u===1?n:n.concat(St(arguments,2),this.slice(t+r)))},findLastIndex:function(t,r){var u=this.findLastEntry(t,r);return u?u[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return L(this,fs(this,t,!1))},get:function(t,r){return t=Ht(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?r:this.find(function(u,n){return n===t},void 0,r)},has:function(t){return t=Ht(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return L(this,$0(this,t))},interleave:function(){var t=[this].concat(St(arguments)),r=$r(this.toSeq(),xt.of,t),u=r.flatten(!0);return r.size&&(u.size=r.size*t.length),L(this,u)},keySeq:function(){return Z0(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,r){return L(this,cs(this,t,r,!1))},zip:function(){var t=[this].concat(St(arguments));return L(this,$r(this,Fi,t))},zipAll:function(){var t=[this].concat(St(arguments));return L(this,$r(this,Fi,t,!0))},zipWith:function(t){var r=St(arguments);return r[0]=this,L(this,$r(this,t,r))}});var ze=oe.prototype;ze[jr]=!0;ze[Ft]=!0;fe(qe,{get:function(t,r){return this.has(t)?t:r},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Ie=qe.prototype;Ie.has=Y.includes;Ie.contains=Ie.includes;Ie.keys=Ie.values;fe(Kt,gr);fe(xt,ze);fe(Ce,Ie);function ji(e,t,r,u,n,i){return at(e.size),e.__iterate(function(a,s,o){n?(n=!1,r=a):r=t.call(u,r,a,s,o)},i),r}function tf(e,t){return t}function ef(e,t){return[t,e]}function ku(e){return function(){return!e.apply(this,arguments)}}function Hi(e){return function(){return-e.apply(this,arguments)}}function Fi(){return St(arguments)}function Vi(e,t){return e<t?1:e>t?-1:0}function rf(e){if(e.size===1/0)return 0;var t=kt(e),r=R(e),u=t?1:0;return e.__iterate(r?t?function(n,i){u=31*u+Ki(it(n),it(i))|0}:function(n,i){u=u+Ki(it(n),it(i))|0}:t?function(n){u=31*u+it(n)|0}:function(n){u=u+it(n)|0}),uf(e.size,u)}function uf(e,t){return t=He(t,3432918353),t=He(t<<15|t>>>-15,461845907),t=He(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=He(t^t>>>16,2246822507),t=He(t^t>>>13,3266489909),t=uu(t^t>>>16),t}function Ki(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var cr=(function(e){function t(r){return r==null?ju():Ls(r)?r:ju().withMutations(function(u){var n=qe(r);at(n.size),n.forEach(function(i){return u.add(i)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(u){return this(gt(u).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t})(iu);cr.isOrderedSet=Ls;var he=cr.prototype;he[Ft]=!0;he.zip=ze.zip;he.zipWith=ze.zipWith;he.zipAll=ze.zipAll;he.__empty=ju;he.__make=qs;function qs(e,t){var r=Object.create(he);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}var Xi;function ju(){return Xi||(Xi=qs(Xe()))}function nf(e){if(ce(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Nt(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(e===null||typeof e!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var V=function(t,r){var u;nf(t);var n=function(s){var o=this;if(s instanceof n)return s;if(!(this instanceof n))return new n(s);if(!u){u=!0;var c=Object.keys(t),f=i._indices={};i._name=r,i._keys=c,i._defaultValues=t;for(var h=0;h<c.length;h++){var p=c[h];f[p]=h,i[p]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Dn(this)+' with property "'+p+'" since that property name is part of the Record API.'):af(i,p)}}return this.__ownerID=void 0,this._values=rt().withMutations(function(m){m.setSize(o._keys.length),gt(s).forEach(function(b,v){m.set(o._indices[v],b===o._defaultValues[v]?void 0:b)})}),this},i=n.prototype=Object.create($);return i.constructor=n,r&&(n.displayName=r),n};V.prototype.toString=function(){for(var t=Dn(this)+" { ",r=this._keys,u,n=0,i=r.length;n!==i;n++)u=r[n],t+=(n?", ":"")+u+": "+nr(this.get(u));return t+" }"};V.prototype.equals=function(t){return this===t||ce(t)&&ke(this).equals(ke(t))};V.prototype.hashCode=function(){return ke(this).hashCode()};V.prototype.has=function(t){return this._indices.hasOwnProperty(t)};V.prototype.get=function(t,r){if(!this.has(t))return r;var u=this._indices[t],n=this._values.get(u);return n===void 0?this._defaultValues[t]:n};V.prototype.set=function(t,r){if(this.has(t)){var u=this._values.set(this._indices[t],r===this._defaultValues[t]?void 0:r);if(u!==this._values&&!this.__ownerID)return Pn(this,u)}return this};V.prototype.remove=function(t){return this.set(t)};V.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Pn(this,t)};V.prototype.wasAltered=function(){return this._values.wasAltered()};V.prototype.toSeq=function(){return ke(this)};V.prototype.toJS=function(){return Fr(this)};V.prototype.entries=function(){return this.__iterator(ht)};V.prototype.__iterator=function(t,r){return ke(this).__iterator(t,r)};V.prototype.__iterate=function(t,r){return ke(this).__iterate(t,r)};V.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var r=this._values.__ensureOwner(t);return t?Pn(this,r,t):(this.__ownerID=t,this._values=r,this)};V.isRecord=ce;V.getDescriptiveName=Dn;var $=V.prototype;$[Ga]=!0;$[lr]=$.remove;$.deleteIn=$.removeIn=En;$.getIn=Os;$.hasIn=Y.hasIn;$.merge=bs;$.mergeWith=gs;$.mergeIn=Tn;$.mergeDeep=vs;$.mergeDeepWith=_s;$.mergeDeepIn=Nn;$.setIn=Sn;$.update=An;$.updateIn=In;$.withMutations=pr;$.asMutable=mr;$.asImmutable=br;$[eu]=$.entries;$.toJSON=$.toObject=Y.toObject;$.inspect=$.toSource=function(){return this.toString()};function Pn(e,t,r){var u=Object.create(Object.getPrototypeOf(e));return u._values=t,u.__ownerID=r,u}function Dn(e){return e.constructor.displayName||e.constructor.name||"Record"}function ke(e){return bn(e._keys.map(function(t){return[t,e.get(t)]}))}function af(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(r){Je(this.__ownerID,"Cannot set on an immutable record."),this.set(t,r)}})}catch{}}var sf=function(){return!1},of=function(){return!0};const cf={"@@functional/placeholder":!0};function O(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function g(e){return function t(r){return arguments.length===0||O(r)?t:e.apply(this,arguments)}}function l(e){return function t(r,u){switch(arguments.length){case 0:return t;case 1:return O(r)?t:g(function(n){return e(r,n)});default:return O(r)&&O(u)?t:O(r)?g(function(n){return e(n,u)}):O(u)?g(function(n){return e(r,n)}):e(r,u)}}}var au=l(function(t,r){return Number(t)+Number(r)});function yt(e,t){e=e||[],t=t||[];var r,u=e.length,n=t.length,i=[];for(r=0;r<u;)i[i.length]=e[r],r+=1;for(r=0;r<n;)i[i.length]=t[r],r+=1;return i}function Ot(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(r){return t.apply(this,arguments)};case 2:return function(r,u){return t.apply(this,arguments)};case 3:return function(r,u,n){return t.apply(this,arguments)};case 4:return function(r,u,n,i){return t.apply(this,arguments)};case 5:return function(r,u,n,i,a){return t.apply(this,arguments)};case 6:return function(r,u,n,i,a,s){return t.apply(this,arguments)};case 7:return function(r,u,n,i,a,s,o){return t.apply(this,arguments)};case 8:return function(r,u,n,i,a,s,o,c){return t.apply(this,arguments)};case 9:return function(r,u,n,i,a,s,o,c,f){return t.apply(this,arguments)};case 10:return function(r,u,n,i,a,s,o,c,f,h){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function We(e,t,r){return function(){for(var u=[],n=0,i=e,a=0,s=!1;a<t.length||n<arguments.length;){var o;a<t.length&&(!O(t[a])||n>=arguments.length)?o=t[a]:(o=arguments[n],n+=1),u[a]=o,O(o)?s=!0:i-=1,a+=1}return!s&&i<=0?r.apply(this,u):Ot(Math.max(0,i),We(e,u,r))}}var W=l(function(t,r){return t===1?g(r):Ot(t,We(t,[],r))}),ff=g(function(t){return W(t.length,function(){var r=0,u=arguments[0],n=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var a=u.apply(this,yt(arguments,[r,n]));return r+=1,a},t.apply(this,i)})}),hf=g(function(t){return W(t.length,function(){var r=arguments[0],u=arguments[arguments.length-1],n=u.length-1,i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var a=r.apply(this,yt(arguments,[n,u]));return n-=1,a},t.apply(this,i)})});function x(e){return function t(r,u,n){switch(arguments.length){case 0:return t;case 1:return O(r)?t:l(function(i,a){return e(r,i,a)});case 2:return O(r)&&O(u)?t:O(r)?l(function(i,a){return e(i,u,a)}):O(u)?l(function(i,a){return e(r,i,a)}):g(function(i){return e(r,u,i)});default:return O(r)&&O(u)&&O(n)?t:O(r)&&O(u)?l(function(i,a){return e(i,a,n)}):O(r)&&O(n)?l(function(i,a){return e(i,u,a)}):O(u)&&O(n)?l(function(i,a){return e(r,i,a)}):O(r)?g(function(i){return e(i,u,n)}):O(u)?g(function(i){return e(r,i,n)}):O(n)?g(function(i){return e(r,u,i)}):e(r,u,n)}}}var Ms=x(function(t,r,u){var n=u.length;if(t>=n||t<-n)return u;var i=(n+t)%n,a=yt(u);return a[i]=r(u[i]),a});const F=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function zn(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function q(e,t,r){return function(){if(arguments.length===0)return r();var u=arguments[arguments.length-1];if(!F(u)){for(var n=0;n<e.length;){if(typeof u[e[n]]=="function")return u[e[n]].apply(u,Array.prototype.slice.call(arguments,0,-1));n+=1}if(zn(u)){var i=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return i(u)}}return r.apply(this,arguments)}}function Pt(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const S={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};var lf=(function(){function e(t,r){this.xf=r,this.f=t,this.all=!0}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)||(this.all=!1,t=Pt(this.xf["@@transducer/step"](t,!1))),t},e})();function df(e){return function(t){return new lf(e,t)}}var Rs=l(q(["all"],df,function(t,r){for(var u=0;u<r.length;){if(!t(r[u]))return!1;u+=1}return!0}));function Gi(e){for(var t=[],r;!(r=e.next()).done;)t.push(r.value);return t}function ae(e,t,r){for(var u=0,n=r.length;u<n;){if(e(t,r[u]))return!0;u+=1}return!1}function pf(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function z(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function mf(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}const tr=typeof Object.is=="function"?Object.is:mf;var Yi=Object.prototype.toString,Cs=(function(){return Yi.call(arguments)==="[object Arguments]"?function(t){return Yi.call(t)==="[object Arguments]"}:function(t){return z("callee",t)}})(),bf=!{toString:null}.propertyIsEnumerable("toString"),Zi=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ji=(function(){return arguments.propertyIsEnumerable("length")})(),gf=function(t,r){for(var u=0;u<t.length;){if(t[u]===r)return!0;u+=1}return!1},lt=g(typeof Object.keys=="function"&&!Ji?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var r,u,n=[],i=Ji&&Cs(t);for(r in t)z(r,t)&&(!i||r!=="length")&&(n[n.length]=r);if(bf)for(u=Zi.length-1;u>=0;)r=Zi[u],z(r,t)&&!gf(n,r)&&(n[n.length]=r),u-=1;return n}),Vr=g(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function Qi(e,t,r,u){var n=Gi(e),i=Gi(t);function a(s,o){return Wn(s,o,r.slice(),u.slice())}return!ae(function(s,o){return!ae(a,o,s)},i,n)}function Wn(e,t,r,u){if(tr(e,t))return!0;var n=Vr(e);if(n!==Vr(t))return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(n){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&pf(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&tr(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!tr(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var i=r.length-1;i>=0;){if(r[i]===e)return u[i]===t;i-=1}switch(n){case"Map":return e.size!==t.size?!1:Qi(e.entries(),t.entries(),r.concat([e]),u.concat([t]));case"Set":return e.size!==t.size?!1:Qi(e.values(),t.values(),r.concat([e]),u.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=lt(e);if(a.length!==lt(t).length)return!1;var s=r.concat([e]),o=u.concat([t]);for(i=a.length-1;i>=0;){var c=a[i];if(!(z(c,t)&&Wn(t[c],e[c],s,o)))return!1;i-=1}return!0}var dt=l(function(t,r){return Wn(t,r,[],[])});function Ps(e,t,r){var u,n;if(typeof e.indexOf=="function")switch(typeof t){case"number":if(t===0){for(u=1/t;r<e.length;){if(n=e[r],n===0&&1/n===u)return r;r+=1}return-1}else if(t!==t){for(;r<e.length;){if(n=e[r],typeof n=="number"&&n!==n)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(t===null)return e.indexOf(t,r)}for(;r<e.length;){if(dt(e[r],t))return r;r+=1}return-1}function Kr(e,t){return Ps(t,e,0)>=0}function ue(e,t){for(var r=0,u=t.length,n=Array(u);r<u;)n[r]=e(t[r]),r+=1;return n}function Lu(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var Fe=function(t){return(t<10?"0":"")+t},yf=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+Fe(t.getUTCMonth()+1)+"-"+Fe(t.getUTCDate())+"T"+Fe(t.getUTCHours())+":"+Fe(t.getUTCMinutes())+":"+Fe(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Ds(e){return function(){return!e.apply(this,arguments)}}function yr(e,t,r){for(var u=0,n=r.length;u<n;)t=e(t,r[u]),u+=1;return t}function Un(e,t){for(var r=0,u=t.length,n=[];r<u;)e(t[r])&&(n[n.length]=t[r]),r+=1;return n}function vf(e,t){for(var r=new Map,u=t.entries(),n=u.next();!n.done;)e(n.value[1])&&r.set(n.value[0],n.value[1]),n=u.next();return r}function _f(e){return Object.prototype.toString.call(e)==="[object Map]"}function Le(e){return Object.prototype.toString.call(e)==="[object Object]"}var xf=(function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.xf["@@transducer/step"](t,r):t},e})();function wf(e){return function(t){return new xf(e,t)}}var jn=l(q(["fantasy-land/filter","filter"],wf,function(e,t){return Le(t)?yr(function(r,u){return e(t[u])&&(r[u]=t[u]),r},{},lt(t)):_f(t)?vf(e,t):Un(e,t)})),su=l(function(t,r){return jn(Ds(t),r)});function Hn(e,t){var r=function(a){var s=t.concat([e]);return Kr(a,s)?"<Circular>":Hn(a,s)},u=function(i,a){return ue(function(s){return Lu(s)+": "+r(i[s])},a.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+ue(r,e).join(", ")+"))";case"[object Array]":return"["+ue(r,e).concat(u(e,su(function(i){return/^\d+$/.test(i)},lt(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):Lu(yf(e)))+")";case"[object Map]":return"new Map("+r(Array.from(e))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+r(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object Set]":return"new Set("+r(Array.from(e).sort())+")";case"[object String]":return typeof e=="object"?"new String("+r(e.valueOf())+")":Lu(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var n=e.toString();if(n!=="[object Object]")return n}return"{"+u(e,lt(e)).join(", ")+"}"}}var Lt=g(function(t){return Hn(t,[])}),le=l(function(t,r){if(t===r)return r;function u(o,c){if(o>c!=c>o)return c>o?c:o}var n=u(t,r);if(n!==void 0)return n;var i=u(typeof t,typeof r);if(i!==void 0)return i===typeof t?t:r;var a=Lt(t),s=u(a,Lt(r));return s!==void 0&&s===a?t:r}),Sf=(function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,this.f(r))},e})(),zs=function(t){return function(r){return new Sf(t,r)}},Bt=l(q(["fantasy-land/map","map"],zs,function(t,r){switch(Object.prototype.toString.call(r)){case"[object Function]":return W(r.length,function(){return t.call(this,r.apply(this,arguments))});case"[object Object]":return yr(function(u,n){return u[n]=t(r[n]),u},{},lt(r));default:return ue(t,r)}}));const Tt=Number.isInteger||function(t){return t<<0===t};function Xt(e,t){var r=e<0?t.length+e:e;return t[r]}function Ws(e,t){if(t!=null)return Tt(e)?Xt(e,t):t[e]}var Gt=l(Ws),vr=l(function(t,r){return Bt(Gt(t),r)});function Te(e){return Object.prototype.toString.call(e)==="[object String]"}var _r=g(function(t){return F(t)?!0:!t||typeof t!="object"||Te(t)?!1:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1}),ta=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function Us(e,t,r){return function(n,i,a){if(_r(a))return e(n,i,a);if(a==null)return i;if(typeof a["fantasy-land/reduce"]=="function")return t(n,i,a,"fantasy-land/reduce");if(a[ta]!=null)return r(n,i,a[ta]());if(typeof a.next=="function")return r(n,i,a);if(typeof a.reduce=="function")return t(n,i,a,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function js(e,t,r){for(var u=0,n=r.length;u<n;){if(t=e["@@transducer/step"](t,r[u]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}u+=1}return e["@@transducer/result"](t)}var Hs=l(function(t,r){return Ot(t.length,function(){return t.apply(r,arguments)})});function Ef(e,t,r){for(var u=r.next();!u.done;){if(t=e["@@transducer/step"](t,u.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}u=r.next()}return e["@@transducer/result"](t)}function Af(e,t,r,u){return e["@@transducer/result"](r[u](Hs(e["@@transducer/step"],e),t))}var de=Us(js,Af,Ef),If=(function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,r){return this.f(t,r)},e})();function ou(e){return new If(e)}var Dt=x(function(e,t,r){return de(typeof e=="function"?ou(e):e,t,r)}),kf=g(function(t){return W(Dt(le,0,vr("length",t)),function(){for(var r=0,u=t.length;r<u;){if(!t[r].apply(this,arguments))return!1;r+=1}return!0})}),cu=g(function(t){return function(){return t}}),Fs=l(function(t,r){return t&&r}),Lf=(function(){function e(t,r){this.xf=r,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)&&(this.any=!0,t=Pt(this.xf["@@transducer/step"](t,!0))),t},e})();function Tf(e){return function(t){return new Lf(e,t)}}var Nf=l(q(["any"],Tf,function(t,r){for(var u=0;u<r.length;){if(t(r[u]))return!0;u+=1}return!1})),$f=g(function(t){return W(Dt(le,0,vr("length",t)),function(){for(var r=0,u=t.length;r<u;){if(t[r].apply(this,arguments))return!0;r+=1}return!1})});function Of(e,t,r){for(var u=r.next();!u.done;)t=e(t,u.value),u=r.next();return t}function Bf(e,t,r,u){return r[u](e,t)}var xr=Us(yr,Bf,Of),Fn=l(function(t,r){return typeof r["fantasy-land/ap"]=="function"?r["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(r):typeof t=="function"?function(u){return t(u)(r(u))}:xr(function(u,n){return yt(u,Bt(n,r))},[],t)});function qf(e,t){for(var r=0,u=t.length-(e-1),n=new Array(u>=0?u:0);r<u;)n[r]=Array.prototype.slice.call(t,r,r+e),r+=1;return n}var Mf=(function(){function e(t,r){this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(t)}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.store(r),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},e.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e.prototype.getCopy=function(){return yt(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},e})();function Rf(e){return function(t){return new Mf(e,t)}}var Cf=l(q([],Rf,qf)),Pf=l(function(t,r){return yt(r,[t])}),Vs=l(function(t,r){return t.apply(this,r)}),Ks=g(function(t){for(var r=lt(t),u=r.length,n=[],i=0;i<u;)n[i]=t[r[i]],i+=1;return n});function ea(e,t){return F(t)?t.map(e):lt(t).reduce(function(r,u){return r[u]=e(t[u]),r},{})}var Df=g(function e(t){return t=ea(function(r){return typeof r=="function"?r:e(r)},t),W(Dt(le,0,vr("length",Ks(t))),function(){var r=arguments;return ea(function(u){return Vs(u,r)},t)})}),Xs=l(function(t,r){return r(t)}),zf=x(function(t,r,u){var n=t(r),i=t(u);return n<i?-1:n>i?1:0}),wr=g(function(t){return W(t.length,t)}),Wf=wr(function(t,r,u,n){const i=r(u),a=r(n);return i.localeCompare(a,t,{numeric:!0})});function Vn(e,t,r){if(Tt(e)&&F(r)){var u=e<0?r.length+e:e,n=[].concat(r);return n[u]=t,n}var i={};for(var a in r)i[a]=r[a];return i[e]=t,i}var Ne=g(function(t){return t==null}),Kn=x(function e(t,r,u){if(t.length===0)return r;var n=t[0];if(t.length>1){var i=Ws(n,u);(Ne(i)||typeof i!="object")&&(i=Tt(t[1])?[]:{}),r=e(Array.prototype.slice.call(t,1),r,i)}return Vn(n,r,u)}),Xn=x(function(t,r,u){return Kn([t],r,u)}),fu=l(function(t,r){switch(t){case 0:return function(){return r.call(this)};case 1:return function(u){return r.call(this,u)};case 2:return function(u,n){return r.call(this,u,n)};case 3:return function(u,n,i){return r.call(this,u,n,i)};case 4:return function(u,n,i,a){return r.call(this,u,n,i,a)};case 5:return function(u,n,i,a,s){return r.call(this,u,n,i,a,s)};case 6:return function(u,n,i,a,s,o){return r.call(this,u,n,i,a,s,o)};case 7:return function(u,n,i,a,s,o,c){return r.call(this,u,n,i,a,s,o,c)};case 8:return function(u,n,i,a,s,o,c,f){return r.call(this,u,n,i,a,s,o,c,f)};case 9:return function(u,n,i,a,s,o,c,f,h){return r.call(this,u,n,i,a,s,o,c,f,h)};case 10:return function(u,n,i,a,s,o,c,f,h,p){return r.call(this,u,n,i,a,s,o,c,f,h,p)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),Uf=g(function(t){return fu(2,t)});function $e(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var Gs=l(function(t,r){var u=W(t,r);return W(t,function(){return yr(Fn,Bt(u,arguments[0]),Array.prototype.slice.call(arguments,1))})}),hu=g(function(t){return Gs(t.length,t)}),jf=l(function(t,r){return $e(t)?function(){return t.apply(this,arguments)&&r.apply(this,arguments)}:hu(Fs)(t,r)}),Hf=g(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});function Ys(e){return function t(r){for(var u,n,i,a=[],s=0,o=r.length;s<o;){if(_r(r[s]))for(u=e?t(r[s]):r[s],i=0,n=u.length;i<n;)a[a.length]=u[i],i+=1;else a[a.length]=r[s];s+=1}return a}}function Ff(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var Zs="@@transducer/init",Hu="@@transducer/step",Js="@@transducer/result",Vf=(function(){function e(t){this.xf=t}return e.prototype[Zs]=S.init,e.prototype[Js]=S.result,e.prototype[Hu]=function(t,r){var u=this.xf[Hu](t,r);return u["@@transducer/reduced"]?Ff(u):u},e})(),Kf=(function(){function e(t){this.xf=new Vf(t)}return e.prototype[Zs]=S.init,e.prototype[Js]=S.result,e.prototype[Hu]=function(t,r){return _r(r)?de(this.xf,t,r):js(this.xf,t,[r])},e})(),Xf=function(t){return new Kf(t)};function Gf(e){return function(t){return zs(e)(Xf(t))}}const Qs=q(["fantasy-land/chain","chain"],Gf,function(t,r){return typeof r=="function"?function(u){return t(r(u))(u)}:Ys(!1)(Bt(t,r))});var to=l(Qs),Yf=x(function(t,r,u){if(t>r)throw new Error("min must not be greater than max in clamp(min, max, value)");return u<t?t:u>r?r:u});function eo(e){return new RegExp(e.source,e.flags?e.flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")+(e.dotAll?"s":""))}function lu(e,t,r){if(r||(r=new Jf),Zf(e))return e;var u=function(i){var a=r.get(e);if(a)return a;r.set(e,i);for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=t?lu(e[s],!0,r):e[s]);return i};switch(Vr(e)){case"Object":return u(Object.create(Object.getPrototypeOf(e)));case"Array":return u(Array(e.length));case"Date":return new Date(e.valueOf());case"RegExp":return eo(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}function Zf(e){var t=typeof e;return e==null||t!="object"&&t!="function"}var Jf=(function(){function e(){this.map={},this.length=0}return e.prototype.set=function(t,r){var u=this.hash(t),n=this.map[u];n||(this.map[u]=n=[]),n.push([t,r]),this.length+=1},e.prototype.hash=function(t){var r=[];for(var u in t)r.push(Object.prototype.toString.call(t[u]));return r.join()},e.prototype.get=function(t){if(this.length<=180){for(var r in this.map)for(var a=this.map[r],u=0;u<a.length;u+=1){var n=a[u];if(n[0]===t)return n[1]}return}var i=this.hash(t),a=this.map[i];if(a)for(var u=0;u<a.length;u+=1){var n=a[u];if(n[0]===t)return n[1]}},e})(),ro=g(function(t){return t!=null&&typeof t.clone=="function"?t.clone():lu(t,!0)}),Qf=l(function(t,r){var u=xr(function(a,s){var o=t(s);return a[o]===void 0&&(a[o]=[]),a[o].push(s),a},{},r),n=[];for(var i in u)n.push(u[i]);return n}),th=g(function(t){return function(r,u){return t(r,u)?-1:t(u,r)?1:0}}),uo=g(function(t){return!t}),eh=hu(uo);function rh(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function Sr(e,t){return function(){var r=arguments.length;if(r===0)return t();var u=arguments[r-1];return F(u)||typeof u[e]!="function"?t.apply(this,arguments):u[e].apply(u,Array.prototype.slice.call(arguments,0,r-1))}}var bt=x(Sr("slice",function(t,r,u){return Array.prototype.slice.call(u,t,r)})),Gn=g(Sr("tail",bt(1,1/0)));function no(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return Ot(arguments[0].length,Dt(rh,arguments[0],Gn(arguments)))}var Yn=g(function(t){return Te(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()});function io(){if(arguments.length===0)throw new Error("compose requires at least one argument");return no.apply(this,Yn(arguments))}var ao=g(function(e){return Xt(0,e)});function se(e){return e}var du=g(se),so=l(function(t,r){if(r.length<=0)return du;var u=ao(r),n=Gn(r);return Ot(u.length,function(){return xr(function(i,a){return t.call(this,a,i)},u.apply(this,arguments),n)})}),uh=l(function(t,r){return so.apply(this,[t,Yn(r)])}),Zn=l(function(t,r){if(F(t)){if(F(r))return t.concat(r);throw new TypeError(Lt(r)+" is not an array")}if(Te(t)){if(Te(r))return t+r;throw new TypeError(Lt(r)+" is not a string")}if(t!=null&&$e(t["fantasy-land/concat"]))return t["fantasy-land/concat"](r);if(t!=null&&$e(t.concat))return t.concat(r);throw new TypeError(Lt(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),nh=g(function(t){var r=Dt(le,0,Bt(function(u){return u[0].length},t));return Ot(r,function(){for(var u=0;u<t.length;){if(t[u][0].apply(this,arguments))return t[u][1].apply(this,arguments);u+=1}})}),oo=l(function(t,r){if(t>10)throw new Error("Constructor with greater than ten arguments");return t===0?function(){return new r}:wr(fu(t,function(u,n,i,a,s,o,c,f,h,p){switch(t){case 1:return new r(u);case 2:return new r(u,n);case 3:return new r(u,n,i);case 4:return new r(u,n,i,a);case 5:return new r(u,n,i,a,s);case 6:return new r(u,n,i,a,s,o);case 7:return new r(u,n,i,a,s,o,c);case 8:return new r(u,n,i,a,s,o,c,f);case 9:return new r(u,n,i,a,s,o,c,f,h);case 10:return new r(u,n,i,a,s,o,c,f,h,p)}}))}),ih=g(function(t){return oo(t.length,t)}),co=l(function(t,r){return W(Dt(le,0,vr("length",r)),function(){var u=arguments,n=this;return t.apply(n,ue(function(i){return i.apply(n,u)},r))})}),ah=wr(function(e,t){return xr(function(r,u){return e(u)?r+1:r},0,t)}),sh=(function(){function e(t,r,u,n){this.valueFn=t,this.valueAcc=r,this.keyFn=u,this.xf=n,this.inputs={}}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){var r;for(r in this.inputs)if(z(r,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[r]),t["@@transducer/reduced"])){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){var u=this.keyFn(r);return this.inputs[u]=this.inputs[u]||[u,lu(this.valueAcc,!1)],this.inputs[u][1]=this.valueFn(this.inputs[u][1],r),t},e})();function oh(e,t,r){return function(u){return new sh(e,t,r,u)}}var pu=We(4,[],q([],oh,function(t,r,u,n){var i=ou(function(a,s){var o=u(s),c=t(z(o,a)?a[o]:lu(r,!1),s);return c&&c["@@transducer/reduced"]?Pt(a):(a[o]=c,a)});return de(i,{},n)})),ch=pu(function(e,t){return e+1},0),fh=au(-1),Jn=l(function(t,r){return r==null||r!==r?t:r}),hh=x(function(t,r,u){var n=t(r),i=t(u);return n>i?-1:n<i?1:0}),lh=wr(function(t,r,u,n){const i=r(u);return r(n).localeCompare(i,t,{numeric:!0})}),Er=(function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(t){return!ra(t,!0,this)},e.prototype.has=function(t){return ra(t,!1,this)},e})();function ra(e,t,r){var u=typeof e,n,i;switch(u){case"string":case"number":return e===0&&1/e===-1/0?r._items["-0"]?!0:(t&&(r._items["-0"]=!0),!1):r._nativeSet!==null?t?(n=r._nativeSet.size,r._nativeSet.add(e),i=r._nativeSet.size,i===n):r._nativeSet.has(e):u in r._items?e in r._items[u]?!0:(t&&(r._items[u][e]=!0),!1):(t&&(r._items[u]={},r._items[u][e]=!0),!1);case"boolean":if(u in r._items){var a=e?1:0;return r._items[u][a]?!0:(t&&(r._items[u][a]=!0),!1)}else return t&&(r._items[u]=e?[!1,!0]:[!0,!1]),!1;case"function":return r._nativeSet!==null?t?(n=r._nativeSet.size,r._nativeSet.add(e),i=r._nativeSet.size,i===n):r._nativeSet.has(e):u in r._items?Kr(e,r._items[u])?!0:(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1);case"undefined":return r._items[u]?!0:(t&&(r._items[u]=!0),!1);case"object":if(e===null)return r._items.null?!0:(t&&(r._items.null=!0),!1);default:return u=Object.prototype.toString.call(e),u in r._items?Kr(e,r._items[u])?!0:(t&&r._items[u].push(e),!1):(t&&(r._items[u]=[e]),!1)}}var Fu=l(function(t,r){for(var u=[],n=0,i=t.length,a=r.length,s=new Er,o=0;o<a;o+=1)s.add(r[o]);for(;n<i;)s.add(t[n])&&(u[u.length]=t[n]),n+=1;return u}),Vu=x(function(t,r,u){for(var n=[],i=0,a=r.length;i<a;)!ae(t,r[i],u)&&!ae(t,r[i],n)&&n.push(r[i]),i+=1;return n}),fo=x(function(t,r,u){var n=Array.prototype.slice.call(u,0);return n.splice(t,r),n});function dh(e,t){if(t==null)return t;if(Tt(e)&&F(t))return fo(e,1,t);var r={};for(var u in t)r[u]=t[u];return delete r[e],r}function ph(e,t){if(Tt(e)&&F(t))return[].concat(t);var r={};for(var u in t)r[u]=t[u];return r}var ho=l(function e(t,r){if(r==null)return r;switch(t.length){case 0:return r;case 1:return dh(t[0],r);default:var u=t[0],n=Array.prototype.slice.call(t,1);return r[u]==null?ph(u,r):Xn(u,e(n,r[u]),r)}}),mh=l(function(t,r){return ho([t],r)}),bh=l(function(t,r){return t/r}),gh=(function(){function e(t,r){this.xf=r,this.n=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,r)},e})();function yh(e){return function(t){return new gh(e,t)}}var lo=l(q(["drop"],yh,function(t,r){return bt(Math.max(0,t),1/0,r)})),vh=(function(){function e(t,r){this.xf=r,this.n=t,this.i=0}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){this.i+=1;var u=this.n===0?t:this.xf["@@transducer/step"](t,r);return this.n>=0&&this.i>=this.n?Pt(u):u},e})();function _h(e){return function(t){return new vh(e,t)}}var Qn=l(q(["take"],_h,function(t,r){return bt(0,t<0?1/0:t,r)}));function xh(e,t){return Qn(e<t.length?t.length-e:0,t)}var wh=(function(){function e(t,r){if(t<=0)return r;this.xf=r,this.pos=0,this.full=!1,this.acc=new Array(t)}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(r),t},e.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},e})();function Sh(e){return function(t){return new wh(e,t)}}var Eh=l(q([],Sh,xh));function Ah(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return bt(0,r+1,t)}var Ih=(function(){function e(t,r){this.f=t,this.retained=[],this.xf=r}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.retain(t,r):this.flush(t,r)},e.prototype.flush=function(t,r){return t=de(this.xf,t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,r)},e.prototype.retain=function(t,r){return this.retained.push(r),t},e})();function kh(e){return function(t){return new Ih(e,t)}}var Lh=l(q([],kh,Ah)),Th=(function(){function e(t,r){this.xf=r,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){var u=!1;return this.seenFirstValue?this.pred(this.lastValue,r)&&(u=!0):this.seenFirstValue=!0,this.lastValue=r,u?t:this.xf["@@transducer/step"](t,r)},e})();function ti(e){return function(t){return new Th(e,t)}}var po=g(function(e){return Xt(-1,e)}),ei=l(q([],ti,function(t,r){var u=[],n=1,i=r.length;if(i!==0)for(u[0]=r[0];n<i;)t(po(u),r[n])||(u[u.length]=r[n]),n+=1;return u})),Nh=g(q([],function(){return ti(dt)},ei(dt))),Ku=x(function(t,r,u){return dt(t(r),t(u))}),$h=l(function(e,t){return q([],function(){return ti(Ku(e))},ei(Ku(e)))(t)}),Oh=(function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){if(this.f){if(this.f(r))return t;this.f=null}return this.xf["@@transducer/step"](t,r)},e})();function Bh(e){return function(t){return new Oh(e,t)}}var qh=l(q(["dropWhile"],Bh,function(t,r){for(var u=0,n=r.length;u<n&&t(r[u]);)u+=1;return bt(u,1/0,r)})),mo=l(function(t,r){return t||r}),Mh=l(function(t,r){return $e(t)?function(){return t.apply(this,arguments)||r.apply(this,arguments)}:hu(mo)(t,r)});function Rh(e){var t=Object.prototype.toString.call(e);return t==="[object Uint8ClampedArray]"||t==="[object Int8Array]"||t==="[object Uint8Array]"||t==="[object Int16Array]"||t==="[object Uint16Array]"||t==="[object Int32Array]"||t==="[object Uint32Array]"||t==="[object Float32Array]"||t==="[object Float64Array]"||t==="[object BigInt64Array]"||t==="[object BigUint64Array]"}var bo=g(function(t){return t!=null&&typeof t["fantasy-land/empty"]=="function"?t["fantasy-land/empty"]():t!=null&&t.constructor!=null&&typeof t.constructor["fantasy-land/empty"]=="function"?t.constructor["fantasy-land/empty"]():t!=null&&typeof t.empty=="function"?t.empty():t!=null&&t.constructor!=null&&typeof t.constructor.empty=="function"?t.constructor.empty():t==Set||t instanceof Set?new Set:t==Map||t instanceof Map?new Map:F(t)?[]:Te(t)?"":Le(t)?{}:Cs(t)?(function(){return arguments})():Rh(t)?t.constructor.from(""):void 0}),go=l(function(t,r){return lo(t>=0?r.length-t:0,r)}),Ch=l(function(e,t){return dt(go(e.length,t),e)}),Ph=x(function(t,r,u){return dt(r[t],u[t])}),Dh=l(function e(t,r){if(!Le(r)&&!F(r))return r;var u=r instanceof Array?[]:{},n,i,a;for(i in r)n=t[i],a=typeof n,u[i]=a==="function"?n(r[i]):n&&a==="object"?e(n,r[i]):r[i];return u}),zh=(function(){function e(t,r){this.xf=r,this.f=t,this.found=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)&&(this.found=!0,t=Pt(this.xf["@@transducer/step"](t,r))),t},e})();function Wh(e){return function(t){return new zh(e,t)}}var Uh=l(q(["find"],Wh,function(t,r){for(var u=0,n=r.length;u<n;){if(t(r[u]))return r[u];u+=1}})),jh=(function(){function e(t,r){this.xf=r,this.f=t,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,r){return this.idx+=1,this.f(r)&&(this.found=!0,t=Pt(this.xf["@@transducer/step"](t,this.idx))),t},e})();function Hh(e){return function(t){return new jh(e,t)}}var Fh=l(q([],Hh,function(t,r){for(var u=0,n=r.length;u<n;){if(t(r[u]))return u;u+=1}return-1})),Vh=(function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},e.prototype["@@transducer/step"]=function(t,r){return this.f(r)&&(this.last=r),t},e})();function Kh(e){return function(t){return new Vh(e,t)}}var Xh=l(q([],Kh,function(t,r){for(var u=r.length-1;u>=0;){if(t(r[u]))return r[u];u-=1}})),Gh=(function(){function e(t,r){this.xf=r,this.f=t,this.idx=-1,this.lastIdx=-1}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},e.prototype["@@transducer/step"]=function(t,r){return this.idx+=1,this.f(r)&&(this.lastIdx=this.idx),t},e})();function Yh(e){return function(t){return new Gh(e,t)}}var Zh=l(q([],Yh,function(t,r){for(var u=r.length-1;u>=0;){if(t(r[u]))return u;u-=1}return-1})),Jh=g(Ys(!0)),yo=g(function(t){return W(t.length,function(r,u){var n=Array.prototype.slice.call(arguments,0);return n[0]=u,n[1]=r,t.apply(this,n)})}),Qh=l(function(t,r){return xr(Xs,t,r)}),tl=l(Sr("forEach",function(t,r){for(var u=r.length,n=0;n<u;)t(r[n]),n+=1;return r})),el=l(function(t,r){for(var u=lt(r),n=0;n<u.length;){var i=u[n];t(r[i],i,r),n+=1}return r});function vo(e){for(var t={},r=0;r<e.length;)t[e[r][0]]=e[r][1],r+=1;return t}var rl=g(vo),ul=l(Sr("groupBy",pu(function(e,t){return e.push(t),e},[]))),nl=l(function(e,t){for(var r=[],u=0,n=t.length;u<n;){for(var i=u+1;i<n&&e(t[i-1],t[i]);)i+=1;r.push(t.slice(u,i)),u=i}return r}),il=l(function(t,r){return t>r}),al=l(function(t,r){return t>=r}),_o=l(function(t,r){if(t.length===0||Ne(r))return!1;for(var u=r,n=0;n<t.length;)if(!Ne(u)&&z(t[n],u))u=u[t[n]],n+=1;else return!1;return!0}),sl=l(function(t,r){return _o([t],r)}),ol=l(function(t,r){return Ne(r)?!1:t in r}),xo=function(e,t){switch(arguments.length){case 0:return xo;case 1:return(function(){return function r(u){switch(arguments.length){case 0:return r;default:return tr(e,u)}}})();default:return tr(e,t)}},cl=x(function(t,r,u){return W(Math.max(t.length,r.length,u.length),function(){return t.apply(this,arguments)?r.apply(this,arguments):u.apply(this,arguments)})}),fl=au(1),hl=l(Kr),ll=pu(function(e,t){return t},null),dl=l(function(t,r){return typeof r.indexOf=="function"&&!F(r)?r.indexOf(t):Ps(r,t,0)}),pl=bt(0,-1),ml=x(function(t,r,u){return Un(function(n){return ae(t,n,u)},r)}),bl=x(function(t,r,u){t=t<u.length&&t>=0?t:u.length;var n=Array.prototype.slice.call(u,0);return n.splice(t,0,r),n}),gl=x(function(t,r,u){return t=t<u.length&&t>=0?t:u.length,[].concat(Array.prototype.slice.call(u,0,t),r,Array.prototype.slice.call(u,t))}),yl=(function(){function e(t,r){this.xf=r,this.f=t,this.set=new Er}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return this.set.add(this.f(r))?this.xf["@@transducer/step"](t,r):t},e})();function vl(e){return function(t){return new yl(e,t)}}var wo=l(q([],vl,function(e,t){for(var r=new Er,u=[],n=0,i,a;n<t.length;)a=t[n],i=e(a),r.add(i)&&u.push(a),n+=1;return u})),ri=wo(du),_l=l(function(t,r){for(var u=new Er,n=0;n<t.length;n+=1)u.add(t[n]);return ri(Un(u.has.bind(u),r))}),xl=l(Sr("intersperse",function(t,r){var u=r.length;if(u===0)return[];for(var n=Array(u*2-1),i=0;i<u;){var a=i*2;i===u-1?n[a]=r[i]:(n[a]=r[i],n[a+1]=t),i+=1}return n}));function wl(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,u=arguments.length;r<u;){var n=arguments[r];if(n!=null)for(var i in n)z(i,n)&&(t[i]=n[i]);r+=1}return t}const mu=typeof Object.assign=="function"?Object.assign:wl;var So=l(function(t,r){var u={};return u[t]=r,u}),Sl={"@@transducer/init":Array,"@@transducer/step":function(e,t){return e.push(t),e},"@@transducer/result":se},El={"@@transducer/init":String,"@@transducer/step":function(e,t){return e+t},"@@transducer/result":se},Al={"@@transducer/init":Object,"@@transducer/step":function(e,t){return mu(e,_r(t)?So(t[0],t[1]):t)},"@@transducer/result":se};function Il(e){if(zn(e))return e;if(_r(e))return Sl;if(typeof e=="string")return El;if(typeof e=="object")return Al;throw new Error("Cannot create transformer for "+e)}var kl=x(function(t,r,u){var n=r(zn(t)?t:Il(t));return de(n,n["@@transducer/init"](),u)}),Ll=g(function(t){for(var r=lt(t),u=r.length,n=0,i={};n<u;){var a=r[n],s=t[a],o=z(s,i)?i[s]:i[s]=[];o[o.length]=a,n+=1}return i}),Tl=g(function(t){for(var r=lt(t),u=r.length,n=0,i={};n<u;){var a=r[n];i[t[a]]=a,n+=1}return i}),Ar=l(function(t,r){return W(t+1,function(){var u=arguments[t];if(u!=null&&$e(u[r]))return u[r].apply(u,Array.prototype.slice.call(arguments,0,t));throw new TypeError(Lt(u)+' does not have a method named "'+r+'"')})}),Eo=l(function(t,r){return r instanceof t||r!=null&&(r.constructor===t||t.name==="Object"&&typeof r=="object")}),Ao=g(function(t){return t!=null&&dt(t,bo(t))}),Nl=g(function(t){return!Ao(t)}),$l=g(function(t){return!Ne(t)}),Ol=Ar(1,"join"),Io=g(function(t){return co(function(){return Array.prototype.slice.call(arguments,0)},t)}),Bl=g(function(t){var r,u=[];for(r in t)u[u.length]=r;return u}),ql=l(function(t,r){if(typeof r.lastIndexOf=="function"&&!F(r))return r.lastIndexOf(t);for(var u=r.length-1;u>=0;){if(dt(r[u],t))return u;u-=1}return-1});function Xu(e){return Object.prototype.toString.call(e)==="[object Number]"}var ko=g(function(t){return t!=null&&Xu(t.length)?t.length:NaN}),bu=l(function(t,r){return function(u){return function(n){return Bt(function(i){return r(i,n)},u(t(n)))}}}),Lo=x(function(t,r,u){return Ms(t,cu(r),u)}),Ml=g(function(t){return bu(function(r){return Xt(t,r)},Lo(t))});function Ir(e,t){for(var r=t,u=0;u<e.length;u+=1){if(r==null)return;var n=e[u];Tt(n)?r=Xt(n,r):r=r[n]}return r}var Rl=g(function(t){return bu(function(r){return Ir(t,r)},Kn(t))}),Cl=g(function(t){return bu(Gt(t),Xn(t))}),Pl=l(function(t,r){return t<r}),Dl=l(function(t,r){return t<=r}),zl=x(function(t,r,u){for(var n=0,i=u.length,a=Array(i),s=[r];n<i;)s=t(s[0],u[n]),a[n]=s[1],n+=1;return[s[0],a]}),Wl=x(function(t,r,u){for(var n=u.length-1,i=Array(u.length),a=[r];n>=0;)a=t(a[0],u[n]),i[n]=a[1],n-=1;return[a[0],i]});function To(e){var t=[];for(var r in e)z(r,e)&&(t[t.length]=[r,e[r]]);return t}var No=function(e,t){return vo(Qs(function(r){return e(r[0],r[1])},To(t)))},$o=function(t,r){return No(function(u,n){return[[t(u),n]]},r)},Ul=l($o),jl=l(function(t,r){return yr(function(u,n){return u[n]=t(r[n],n,r),u},{},lt(r))}),Hl=l(function(t,r){return r.match(t)||[]}),Fl=l(function(t,r){return Tt(t)?!Tt(r)||r<1?NaN:(t%r+r)%r:NaN}),Vl=x(function(t,r,u){var n=t(u);return le(t(r),n)===n?u:r}),Oo=Dt(au,0),Bo=g(function(t){return Oo(t)/t.length}),Kl=g(function(t){var r=t.length;if(r===0)return NaN;var u=2-r%2,n=(r-u)/2;return Bo(Array.prototype.slice.call(t,0).sort(function(i,a){return i<a?-1:i>a?1:0}).slice(n,n+u))}),Xl=l(function(t,r){var u={};return Ot(r.length,function(){var n=t.apply(this,arguments);return z(n,u)||(u[n]=r.apply(this,arguments)),u[n]})}),Gl=g(function(t){return mu.apply(null,[{}].concat(t))}),ui=x(function(t,r,u){var n={},i;r=r||{},u=u||{};for(i in r)z(i,r)&&(n[i]=z(i,u)?t(i,r[i],u[i]):r[i]);for(i in u)z(i,u)&&!z(i,n)&&(n[i]=u[i]);return n}),gu=x(function e(t,r,u){return ui(function(n,i,a){return Le(i)&&Le(a)?e(t,i,a):t(n,i,a)},r,u)}),Yl=l(function(t,r){return gu(function(u,n,i){return n},t,r)}),qo=l(function(t,r){return gu(function(u,n,i){return i},t,r)}),Zl=x(function(t,r,u){return gu(function(n,i,a){return t(i,a)},r,u)}),Jl=l(function(t,r){return mu({},r,t)}),Ql=l(function(t,r){return mu({},t,r)}),td=x(function(t,r,u){return ui(function(n,i,a){return t(i,a)},r,u)}),Mo=l(function(t,r){if(t===r)return t;function u(o,c){if(o<c!=c<o)return c<o?c:o}var n=u(t,r);if(n!==void 0)return n;var i=u(typeof t,typeof r);if(i!==void 0)return i===typeof t?t:r;var a=Lt(t),s=u(a,Lt(r));return s!==void 0?s===a?t:r:t}),ed=x(function(t,r,u){var n=t(u);return Mo(t(r),n)===n?u:r});function rd(e,t,r){if(Tt(e)&&F(r)){var u=[].concat(r);return u[e]=t(u[e]),u}var n={};for(var i in r)n[i]=r[i];return n[e]=t(n[e]),n}var Ro=x(function e(t,r,u){if(!Le(u)&&!F(u))return u;if(t.length===0)return r(u);var n=t[0];if(!z(n,u))return u;if(t.length===1)return rd(n,r,u);var i=e(Array.prototype.slice.call(t,1),r,u[n]);return i===u[n]?u:Vn(n,i,u)}),ud=x(function(t,r,u){return Ro([t],r,u)}),nd=l(function(t,r){return t%r}),id=x(function(e,t,r){var u=r.length,n=r.slice(),i=e<0?u+e:e,a=t<0?u+t:t,s=n.splice(i,1);return i<0||i>=r.length||a<0||a>=r.length?r:[].concat(n.slice(0,a)).concat(s).concat(n.slice(a,r.length))}),Co=l(function(t,r){return t*r}),ad=l(function(t,r){return function(n){return t(qo(r,n))}}),sd=g(function(t){return-t}),od=l(function(t,r){return Rs(Ds(t),r)}),cd=l(Xt),fd=g(function(t){var r=t<0?1:t+1;return W(r,function(){return Xt(t,arguments)})}),hd=x(function(t,r,u){return t(r(u))}),ld=l(function(t,r){return typeof t["fantasy-land/of"]=="function"?t["fantasy-land/of"](r):typeof t.of=="function"?t.of(r):[r]}),dd=l(function(t,r){for(var u={},n={},i=0,a=t.length;i<a;)n[t[i]]=1,i+=1;for(var s in r)n.hasOwnProperty(s)||(u[s]=r[s]);return u}),pd=We(4,[],function(t,r,u,n){return t(r(u),r(n))}),md=g(function(t){var r=!1,u;return Ot(t.length,function(){return r||(r=!0,u=t.apply(this,arguments)),u})});function Po(e,t){if(t==null||!$e(t.then))throw new TypeError("`"+e+"` expected a Promise, received "+Hn(t,[]))}var bd=l(function(t,r){return Po("otherwise",r),r.then(null,t)}),Do=function(e){return{value:e,map:function(t){return Do(t(e))}}},zo=x(function(t,r,u){return t(function(n){return Do(r(n))})(u).value}),gd=l(function(t,r){return[t,r]});function Wo(e){return l(function(t,r){return Ot(Math.max(0,t.length-r.length),function(){return t.apply(this,e(r,arguments))})})}var yd=Wo(yt),vd=Wo(yo(yt)),_d=Io([jn,su]),xd=l(Ir),wd=l(function(t,r){return t.map(function(u){for(var n=r,i=0,a;i<u.length;){if(n==null)return;a=u[i],n=Tt(a)?Xt(a,n):n[a],i+=1}return n})}),Sd=x(function(t,r,u){return dt(Ir(r,u),t)}),Ed=x(function(t,r,u){return Jn(t,Ir(r,u))}),Ad=x(function(t,r,u){return t(Ir(r,u))}),Id=l(function(t,r){for(var u={},n=0;n<t.length;)t[n]in r&&(u[t[n]]=r[t[n]]),n+=1;return u}),Uo=l(function(t,r){for(var u={},n=0,i=t.length;n<i;){var a=t[n];u[a]=r[a],n+=1}return u}),kd=l(function(t,r){var u={};for(var n in r)t(r[n],n,r)&&(u[n]=r[n]);return u}),jo=l(function(t,r){return yt([t],r)}),Ld=Dt(Co,1),Ho=l(function(t,r){return W(r.length,function(){for(var u=[],n=0;n<r.length;)u.push(r[n].call(this,arguments[n])),n+=1;return t.apply(this,u.concat(Array.prototype.slice.call(arguments,r.length)))})}),Td=Ho(ue,[Uo,du]);function Fo(e,t,r){return function(u){return t(r(e(u)))}}var Nd=(function(){function e(t,r,u){this.xf=u,this.f=t,this.g=r}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return this.xf["@@transducer/step"](t,Fo(this.f,this.g,r))},e})();function $d(e,t){return function(r){return new Nd(e,t,r)}}var Od=x(q(["fantasy-land/promap","promap"],$d,Fo)),Bd=x(function(t,r,u){return dt(t,Gt(r,u))}),qd=x(function(t,r,u){return Eo(t,Gt(r,u))}),Md=x(function(t,r,u){return Jn(t,Gt(r,u))}),Rd=x(function(t,r,u){return t(Gt(r,u))}),Cd=l(function(t,r){return t.map(function(u){return Gt(u,r)})}),Pd=l(function(t,r){if(!(Xu(t)&&Xu(r)))throw new TypeError("Both arguments to range must be numbers");for(var u=Array(t<r?r-t:0),n=t<0?r+Math.abs(t):r-t,i=0;i<n;)u[i]=i+t,i+=1;return u}),Dd=l(No),Vo=x(function(t,r,u){for(var n=u.length-1;n>=0;){if(r=t(u[n],r),r&&r["@@transducer/reduced"]){r=r["@@transducer/value"];break}n-=1}return r}),zd=We(4,[],function(t,r,u,n){var i=ou(function(a,s){return t(a,s)?r(a,s):Pt(a)});return de(i,u,n)}),Wd=g(Pt),Ud=l(function(t,r){return $o(function(u){return z(u,t)?t[u]:u},r)}),Ko=l(function(t,r){var u=Number(r);if(u<0||isNaN(u))throw new RangeError("n must be a non-negative number");for(var n=0,i=Array(u);n<u;)i[n]=t(n),n+=1;return i}),jd=l(function(t,r){return Ko(cu(t),r)}),Hd=x(function(t,r,u){return u.replace(t,r)}),ua="@@transducer/init",Tu="@@transducer/step",Fd=(function(){function e(t,r,u){this.xf=u,this.f=t,this.acc=r}return e.prototype[ua]=function(){return this.xf[Tu](this.xf[ua](),this.acc)},e.prototype["@@transducer/result"]=S.result,e.prototype[Tu]=function(t,r){return t["@@transducer/reduced"]?t:(this.acc=this.f(this.acc,r),this.xf[Tu](t,this.acc))},e})(),Vd=x(function(t,r,u){return new Fd(t,r,u)}),Kd=x(q([],Vd,function(t,r,u){var n=0,i=u.length,a=Array(i+1);for(a[0]=r;n<i;)r=t(r,u[n]),a[n+1]=r,n+=1;return a})),Xo=l(function(t,r){var u=typeof t["fantasy-land/of"]=="function"?t["fantasy-land/of"]:typeof t.of=="function"?t.of:t,n={"fantasy-land/of":u};return typeof r["fantasy-land/traverse"]=="function"?r["fantasy-land/traverse"](n,se):typeof r.traverse=="function"?r.traverse(n,se):Vo(function(i,a){return Fn(Bt(jo,i),a)},u([]),r)}),Xd=x(function(t,r,u){return zo(t,cu(r),u)}),Gd=l(function(t,r){return Array.prototype.slice.call(r,0).sort(t)}),Yd=l(function(t,r){return Array.prototype.slice.call(r,0).sort(function(u,n){var i=t(u),a=t(n);return i<a?-1:i>a?1:0})}),Zd=l(function(t,r){return Array.prototype.slice.call(r,0).sort(function(u,n){for(var i=0,a=0;i===0&&a<t.length;)i=t[a](u,n),a+=1;return i})}),Jd=Ar(1,"split"),Qd=l(function(t,r){return[bt(0,t,r),bt(t,ko(r),r)]}),t1=l(function(t,r){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var u=[],n=0;n<r.length;)u.push(bt(n,n+=t,r));return u}),e1=l(function(t,r){for(var u=0,n=r.length,i=[];u<n&&!t(r[u]);)i.push(r[u]),u+=1;return[i,Array.prototype.slice.call(r,u)]}),r1=We(2,[],function(t,r){for(var u=[],n=[],i=0;i<r.length;i=i+1)t(r[i])||n.push(r[i]),(i<r.length-1&&t(r[i+1])||i===r.length-1)&&n.length>0&&(u.push(n),n=[]);return u}),u1=l(function(e,t){return dt(Qn(e.length,t),e)}),n1=l(function(t,r){return Number(t)-Number(r)}),i1=function(e,t,r){var u=ro(r),n=Object.getOwnPropertyNames(u);if(n.includes(e)&&n.includes(t)){var i=u[e];u[e]=u[t],u[t]=i}return u},Go=function(e,t,r){var u=r.length,n=r.slice(),i=e<0?u+e:e,a=t<0?u+t:t,s=Math.min(i,a),o=Math.max(i,a);return i<0||i>u||a<0||a>u||i===a||(n=[].concat(n.slice(0,s)).concat([n[o]]).concat(n.slice(s+1,o)).concat([n[s]]).concat(n.slice(o+1,u))),n},a1=function(e,t,r){var u=Go(e,t,r);return F(u)?u.join(""):u},s1=x(function(e,t,r){return F(r)?Go(e,t,r):Te(r)?a1(e,t,r):i1(e,t,r)}),o1=l(function(t,r){return Zn(Fu(t,r),Fu(r,t))}),c1=x(function(t,r,u){return Zn(Vu(t,r,u),Vu(t,u,r))}),f1=l(function(t,r){for(var u=r.length-1;u>=0&&t(r[u]);)u-=1;return bt(u+1,1/0,r)}),h1=(function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r)?this.xf["@@transducer/step"](t,r):Pt(t)},e})();function l1(e){return function(t){return new h1(e,t)}}var d1=l(q(["takeWhile"],l1,function(t,r){for(var u=0,n=r.length;u<n&&t(r[u]);)u+=1;return bt(0,u,r)})),p1=(function(){function e(t,r){this.xf=r,this.f=t}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return this.f(r),this.xf["@@transducer/step"](t,r)},e})();function m1(e){return function(t){return new p1(e,t)}}var b1=l(q([],m1,function(t,r){return t(r),r}));function g1(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var y1=l(function(t,r){if(!g1(t))throw new TypeError("test requires a value of type RegExp as its first argument; received "+Lt(t));return eo(t).test(r)}),v1=l(function(t,r){return Po("andThen",r),r.then(t)}),_1=Ar(0,"toLowerCase"),x1=g(To),w1=g(function(t){var r=[];for(var u in t)r[r.length]=[u,t[u]];return r}),S1=Ar(0,"toUpperCase"),E1=W(4,function(t,r,u,n){return de(t(typeof r=="function"?ou(r):r),u,n)}),A1=g(function(t){for(var r=0,u=[];r<t.length;){for(var n=t[r],i=0;i<n.length;)typeof u[i]>"u"&&(u[i]=[]),u[i].push(n[i]),i+=1;r+=1}return u}),I1=x(function(t,r,u){var n=typeof t["fantasy-land/of"]=="function"?t["fantasy-land/of"]:typeof t.of=="function"?t.of:t,i={"fantasy-land/of":n};return typeof u["fantasy-land/traverse"]=="function"?u["fantasy-land/traverse"](i,r):typeof u.traverse=="function"?u.traverse(i,r):Xo(i,Bt(r,u))}),Ve=`	
\v\f\r \u2028\u2029\uFEFF`,k1="",L1=typeof String.prototype.trim=="function",T1=g(!L1||Ve.trim()||!k1.trim()?function(t){var r=new RegExp("^["+Ve+"]["+Ve+"]*"),u=new RegExp("["+Ve+"]["+Ve+"]*$");return t.replace(r,"").replace(u,"")}:function(t){return t.trim()}),N1=l(function(t,r){return Ot(t.length,function(){try{return t.apply(this,arguments)}catch(u){return r.apply(this,yt([u],arguments))}})}),$1=g(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),O1=g(function(t){return fu(1,t)}),B1=l(function(t,r){return W(t,function(){for(var u=1,n=r,i=0,a;u<=t&&typeof n=="function";)a=u===t?arguments.length:i+n.length,n=n.apply(this,Array.prototype.slice.call(arguments,i,a)),u+=1,i=a;return n})}),q1=l(function(t,r){for(var u=t(r),n=[];u&&u.length;)n[n.length]=u[0],u=t(u[1]);return n}),M1=l(io(ri,yt)),R1=(function(){function e(t,r){this.xf=r,this.pred=t,this.items=[]}return e.prototype["@@transducer/init"]=S.init,e.prototype["@@transducer/result"]=S.result,e.prototype["@@transducer/step"]=function(t,r){return ae(this.pred,r,this.items)?t:(this.items.push(r),this.xf["@@transducer/step"](t,r))},e})();function C1(e){return function(t){return new R1(e,t)}}var Yo=l(q([],C1,function(e,t){for(var r=0,u=t.length,n=[],i;r<u;)i=t[r],ae(e,i,n)||(n[n.length]=i),r+=1;return n})),P1=x(function(t,r,u){return Yo(t,yt(r,u))}),D1=x(function(t,r,u){return t(u)?u:r(u)}),z1=to(se),W1=x(function(t,r,u){for(var n=u;!t(n);)n=r(n);return n}),U1=l(function(e,t){return e in t&&F(t[e])?ue(function(r){return Vn(e,r,t)},t[e]):[t]}),j1=g(function(t){var r,u=[];for(r in t)u[u.length]=t[r];return u}),H1=function(e){return{value:e,"fantasy-land/map":function(){return this}}},F1=l(function(t,r){return t(H1)(r).value}),V1=x(function(t,r,u){return t(u)?r(u):u}),Zo=l(function(t,r){for(var u in t)if(z(u,t)&&!t[u](r[u]))return!1;return!0}),K1=l(function(t,r){for(var u in t)if(z(u,t)&&t[u](r[u]))return!0;return!1}),X1=l(function(t,r){return Zo(Bt(dt,t),r)}),G1=l(function(t,r){for(var u=new Er,n=0;n<t.length;n+=1)u.add(t[n]);return su(u.has.bind(u),r)}),Y1=l(function(t,r){return!!(!t^!r)}),Z1=l(function(t,r){for(var u=0,n=t.length,i,a=r.length,s=Array(n*a);u<n;){for(i=0;i<a;)s[u*a+i]=[t[u],r[i]],i+=1;u+=1}return s}),J1=l(function(t,r){for(var u=Math.min(t.length,r.length),n=Array(u),i=0;i<u;)n[i]=[t[i],r[i]],i+=1;return n}),Q1=l(function(t,r){for(var u=0,n=Math.min(t.length,r.length),i={};u<n;)i[t[u]]=r[u],u+=1;return i}),tp=x(function(t,r,u){for(var n=Math.min(r.length,u.length),i=Array(n),a=0;a<n;)i[a]=t(r[a],u[a]),a+=1;return i}),ep=g(function(t){return W(t.length,function(){var u=arguments;return function(){return t.apply(this,u)}})});const Jo=Object.freeze(Object.defineProperty({__proto__:null,F:sf,T:of,__:cf,add:au,addIndex:ff,addIndexRight:hf,adjust:Ms,all:Rs,allPass:kf,always:cu,and:Fs,andThen:v1,any:Nf,anyPass:$f,ap:Fn,aperture:Cf,append:Pf,apply:Vs,applySpec:Df,applyTo:Xs,ascend:zf,ascendNatural:Wf,assoc:Xn,assocPath:Kn,binary:Uf,bind:Hs,both:jf,call:Hf,chain:to,clamp:Yf,clone:ro,collectBy:Qf,comparator:th,complement:eh,compose:io,composeWith:uh,concat:Zn,cond:nh,construct:ih,constructN:oo,converge:co,count:ah,countBy:ch,curry:wr,curryN:W,dec:fh,defaultTo:Jn,descend:hh,descendNatural:lh,difference:Fu,differenceWith:Vu,dissoc:mh,dissocPath:ho,divide:bh,drop:lo,dropLast:Eh,dropLastWhile:Lh,dropRepeats:Nh,dropRepeatsBy:$h,dropRepeatsWith:ei,dropWhile:qh,either:Mh,empty:bo,endsWith:Ch,eqBy:Ku,eqProps:Ph,equals:dt,evolve:Dh,filter:jn,find:Uh,findIndex:Fh,findLast:Xh,findLastIndex:Zh,flatten:Jh,flip:yo,flow:Qh,forEach:tl,forEachObjIndexed:el,fromPairs:rl,groupBy:ul,groupWith:nl,gt:il,gte:al,has:sl,hasIn:ol,hasPath:_o,head:ao,identical:xo,identity:du,ifElse:cl,inc:fl,includes:hl,indexBy:ll,indexOf:dl,init:pl,innerJoin:ml,insert:bl,insertAll:gl,intersection:_l,intersperse:xl,into:kl,invert:Ll,invertObj:Tl,invoker:Ar,is:Eo,isEmpty:Ao,isNil:Ne,isNotEmpty:Nl,isNotNil:$l,join:Ol,juxt:Io,keys:lt,keysIn:Bl,last:po,lastIndexOf:ql,length:ko,lens:bu,lensIndex:Ml,lensPath:Rl,lensProp:Cl,lift:hu,liftN:Gs,lt:Pl,lte:Dl,map:Bt,mapAccum:zl,mapAccumRight:Wl,mapKeys:Ul,mapObjIndexed:jl,match:Hl,mathMod:Fl,max:le,maxBy:Vl,mean:Bo,median:Kl,memoizeWith:Xl,mergeAll:Gl,mergeDeepLeft:Yl,mergeDeepRight:qo,mergeDeepWith:Zl,mergeDeepWithKey:gu,mergeLeft:Jl,mergeRight:Ql,mergeWith:td,mergeWithKey:ui,min:Mo,minBy:ed,modify:ud,modifyPath:Ro,modulo:nd,move:id,multiply:Co,nAry:fu,negate:sd,none:od,not:uo,nth:cd,nthArg:fd,o:hd,objOf:So,of:ld,omit:dd,on:pd,once:md,or:mo,otherwise:bd,over:zo,pair:gd,partial:yd,partialObject:ad,partialRight:vd,partition:_d,path:xd,pathEq:Sd,pathOr:Ed,pathSatisfies:Ad,paths:wd,pick:Id,pickAll:Uo,pickBy:kd,pipe:no,pipeWith:so,pluck:vr,prepend:jo,product:Ld,project:Td,promap:Od,prop:Gt,propEq:Bd,propIs:qd,propOr:Md,propSatisfies:Rd,props:Cd,range:Pd,rebuild:Dd,reduce:Dt,reduceBy:pu,reduceRight:Vo,reduceWhile:zd,reduced:Wd,reject:su,remove:fo,renameKeys:Ud,repeat:jd,replace:Hd,reverse:Yn,scan:Kd,sequence:Xo,set:Xd,slice:bt,sort:Gd,sortBy:Yd,sortWith:Zd,split:Jd,splitAt:Qd,splitEvery:t1,splitWhen:e1,splitWhenever:r1,startsWith:u1,subtract:n1,sum:Oo,swap:s1,symmetricDifference:o1,symmetricDifferenceWith:c1,tail:Gn,take:Qn,takeLast:go,takeLastWhile:f1,takeWhile:d1,tap:b1,test:y1,thunkify:ep,times:Ko,toLower:_1,toPairs:x1,toPairsIn:w1,toString:Lt,toUpper:S1,transduce:E1,transpose:A1,traverse:I1,trim:T1,tryCatch:N1,type:Vr,unapply:$1,unary:O1,uncurryN:B1,unfold:q1,union:M1,unionWith:P1,uniq:ri,uniqBy:wo,uniqWith:Yo,unless:D1,unnest:z1,until:W1,unwind:U1,update:Lo,useWith:Ho,values:Ks,valuesIn:j1,view:F1,when:V1,where:Zo,whereAny:K1,whereEq:X1,without:G1,xor:Y1,xprod:Z1,zip:J1,zipObj:Q1,zipWith:tp},Symbol.toStringTag,{value:"Module"}));var I;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(I||(I={}));function rp(e){return e.type===I.Tag||e.type===I.Script||e.type===I.Style}const up=I.Root,np=I.Text,ip=I.Directive,ap=I.Comment,sp=I.Script,op=I.Style,cp=I.Tag,fp=I.CDATA,hp=I.Doctype;class Qo{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return nc(this,t)}}class ni extends Qo{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class Gu extends ni{constructor(){super(...arguments),this.type=I.Text}get nodeType(){return 3}}class tc extends ni{constructor(){super(...arguments),this.type=I.Comment}get nodeType(){return 8}}class ec extends ni{constructor(t,r){super(r),this.name=t,this.type=I.Directive}get nodeType(){return 1}}class ii extends Qo{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class rc extends ii{constructor(){super(...arguments),this.type=I.CDATA}get nodeType(){return 4}}let Yu=class extends ii{constructor(){super(...arguments),this.type=I.Root}get nodeType(){return 9}};class uc extends ii{constructor(t,r,u=[],n=t==="script"?I.Script:t==="style"?I.Style:I.Tag){super(u),this.name=t,this.attribs=r,this.type=n}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var r,u;return{name:t,value:this.attribs[t],namespace:(r=this["x-attribsNamespace"])===null||r===void 0?void 0:r[t],prefix:(u=this["x-attribsPrefix"])===null||u===void 0?void 0:u[t]}})}}function ai(e){return rp(e)}function lp(e){return e.type===I.CDATA}function dp(e){return e.type===I.Text}function pp(e){return e.type===I.Comment}function mp(e){return e.type===I.Directive}function bp(e){return e.type===I.Root}function nc(e,t=!1){let r;if(dp(e))r=new Gu(e.data);else if(pp(e))r=new tc(e.data);else if(ai(e)){const u=t?Nu(e.children):[],n=new uc(e.name,{...e.attribs},u);u.forEach(i=>i.parent=n),e.namespace!=null&&(n.namespace=e.namespace),e["x-attribsNamespace"]&&(n["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(n["x-attribsPrefix"]={...e["x-attribsPrefix"]}),r=n}else if(lp(e)){const u=t?Nu(e.children):[],n=new rc(u);u.forEach(i=>i.parent=n),r=n}else if(bp(e)){const u=t?Nu(e.children):[],n=new Yu(u);u.forEach(i=>i.parent=n),e["x-mode"]&&(n["x-mode"]=e["x-mode"]),r=n}else if(mp(e)){const u=new ec(e.name,e.data);e["x-name"]!=null&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),r=u}else throw new Error(`Not implemented yet: ${e.type}`);return r.startIndex=e.startIndex,r.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(r.sourceCodeLocation=e.sourceCodeLocation),r}function Nu(e){const t=e.map(r=>nc(r,!0));for(let r=1;r<t.length;r++)t[r].prev=t[r-1],t[r-1].next=t[r];return t}const na={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class gp{constructor(t,r,u){this.dom=[],this.root=new Yu(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof r=="function"&&(u=r,r=na),typeof t=="object"&&(r=t,t=void 0),this.callback=t??null,this.options=r??na,this.elementCB=u??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Yu(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,r){const u=this.options.xmlMode?I.Tag:void 0,n=new uc(t,r,void 0,u);this.addNode(n),this.tagStack.push(n)}ontext(t){const{lastNode:r}=this;if(r&&r.type===I.Text)r.data+=t,this.options.withEndIndices&&(r.endIndex=this.parser.endIndex);else{const u=new Gu(t);this.addNode(u),this.lastNode=u}}oncomment(t){if(this.lastNode&&this.lastNode.type===I.Comment){this.lastNode.data+=t;return}const r=new tc(t);this.addNode(r),this.lastNode=r}oncommentend(){this.lastNode=null}oncdatastart(){const t=new Gu(""),r=new rc([t]);this.addNode(r),t.parent=r,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,r){const u=new ec(t,r);this.addNode(u)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const r=this.tagStack[this.tagStack.length-1],u=r.children[r.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),r.children.push(t),u&&(t.prev=u,u.next=t),t.parent=r,this.lastNode=null}}const yp=/\n/g;function vp(e){const t=[...e.matchAll(yp)].map((u=>u.index||0));t.unshift(-1);const r=Zu(t,0,t.length);return u=>ic(r,u)}function Zu(e,t,r){if(r-t==1)return{offset:e[t],index:t+1};const u=Math.ceil((t+r)/2),n=Zu(e,t,u),i=Zu(e,u,r);return{offset:n.offset,low:n,high:i}}function ic(e,t){return(function(r){return Object.prototype.hasOwnProperty.call(r,"index")})(e)?{line:e.index,column:t-e.offset}:ic(e.high.offset<t?e.high:e.low,t)}function ac(e,t="",r={}){const u=typeof t!="string"?t:r,n=typeof t=="string"?t:"",i=e.map(_p),a=!!u.lineNumbers;return function(s,o=0){const c=a?vp(s):()=>({line:0,column:0});let f=o;const h=[];t:for(;f<s.length;){let p=!1;for(const m of i){m.regex.lastIndex=f;const b=m.regex.exec(s);if(b&&b[0].length>0){if(!m.discard){const v=c(f),P=typeof m.replace=="string"?b[0].replace(new RegExp(m.regex.source,m.regex.flags),m.replace):b[0];h.push({state:n,name:m.name,text:P,offset:f,len:b[0].length,line:v.line,column:v.column})}if(f=m.regex.lastIndex,p=!0,m.push){const v=m.push(s,f);h.push(...v.tokens),f=v.offset}if(m.pop)break t;break}}if(!p)break}return{tokens:h,offset:f,complete:s.length<=f}}}function _p(e,t){return{...e,regex:xp(e,t)}}function xp(e,t){if(e.name.length===0)throw new Error(`Rule #${t} has empty name, which is not allowed.`);if((function(r){return Object.prototype.hasOwnProperty.call(r,"regex")})(e))return(function(r){if(r.global)throw new Error(`Regular expression /${r.source}/${r.flags} contains the global flag, which is not allowed.`);return r.sticky?r:new RegExp(r.source,r.flags+"y")})(e.regex);if((function(r){return Object.prototype.hasOwnProperty.call(r,"str")})(e)){if(e.str.length===0)throw new Error(`Rule #${t} ("${e.name}") has empty "str" property, which is not allowed.`);return new RegExp(ia(e.str),"y")}return new RegExp(ia(e.name),"y")}function ia(e){return e.replace(/[-[\]{}()*+!<=:?./\\^$|#\s,]/g,"\\$&")}function zt(e,t){return(r,u)=>{let n=u,i;return u<r.tokens.length&&(i=e(r.tokens[u],r,u),i!==void 0&&n++),i===void 0?{matched:!1}:{matched:!0,position:n,value:i}}}function si(e,t){return e.matched?{matched:!0,position:e.position,value:t(e.value,e.position)}:e}function Xr(e,t){return e.matched?t(e):e}function ut(e,t){return(r,u)=>si(e(r,u),(n,i)=>t(n,r,u,i))}function Gr(e,t){return(r,u)=>{const n=e(r,u);return n.matched?n:{matched:!0,position:u,value:t}}}function yu(...e){return(t,r)=>{for(const u of e){const n=u(t,r);if(n.matched)return n}return{matched:!1}}}function pe(e,t){return(r,u)=>{const n=e(r,u);return n.matched?n:t(r,u)}}function wp(e,t){return(r,u)=>{const n=[];let i=!0;do{const a=e(r,u);a.matched&&t(a.value,n.length+1,r,u,a.position)?(n.push(a.value),u=a.position):i=!1}while(i);return{matched:!0,position:u,value:n}}}function oi(e){return wp(e,()=>!0)}function Sp(e){return Z(e,oi(e),(t,r)=>[t,...r])}function Z(e,t,r){return(u,n)=>Xr(e(u,n),i=>si(t(u,i.position),(a,s)=>r(i.value,a,u,n,s)))}function Ep(e,t){return Z(e,t,r=>r)}function aa(e,t){return Z(e,t,(r,u)=>u)}function ci(e,t,r,u){return(n,i)=>Xr(e(n,i),a=>Xr(t(n,a.position),s=>si(r(n,s.position),(o,c)=>u(a.value,s.value,o,n,i,c))))}function sc(e,t,r){return ci(e,t,r,(u,n)=>n)}function Ap(...e){return(t,r)=>{const u=[];let n=r;for(const i of e){const a=i(t,n);if(a.matched)u.push(a.value),n=a.position;else return{matched:!1}}return{matched:!0,position:n,value:u}}}function Ip(...e){return kp(Ap(...e))}function kp(e){return ut(e,t=>t.flatMap(r=>r))}function Lp(e,t){return(r,u)=>{let n=!0,i=e,a=u;do{const s=t(i,r,a)(r,a);s.matched?(i=s.value,a=s.position):n=!1}while(n);return{matched:!0,position:a,value:i}}}function Tp(e,t,r){return Lp(e,u=>ut(t,(n,i,a,s)=>r(u,n,i,a,s)))}function Np(e,t,r){return $p(e,u=>Tp(u,Z(t,r,(n,i)=>[n,i]),(n,[i,a])=>i(n,a)))}function $p(e,t){return(r,u)=>Xr(e(r,u),n=>t(n.value,r,u,n.position)(r,n.position))}const Op="(?:[ \\t\\r\\n\\f]*)",oc="(?:\\n|\\r\\n|\\r|\\f)",vu="[^\\x00-\\x7F]",kr="(?:\\\\[0-9a-f]{1,6}(?:\\r\\n|[ \\n\\r\\t\\f])?)",Lr="(?:\\\\[^\\n\\r\\f0-9a-f])",Bp=`(?:[_a-z]|${vu}|${kr}|${Lr})`,cc=`(?:[_a-z0-9-]|${vu}|${kr}|${Lr})`,qp=`(?:${cc}+)`,Mp=`(?:[-]?${Bp}${cc}*)`,Rp=`'([^\\n\\r\\f\\\\']|\\\\${oc}|${vu}|${kr}|${Lr})*'`,Cp=`"([^\\n\\r\\f\\\\"]|\\\\${oc}|${vu}|${kr}|${Lr})*"`,Pp=ac([{name:"ws",regex:new RegExp(Op)},{name:"hash",regex:new RegExp(`#${qp}`,"i")},{name:"ident",regex:new RegExp(Mp,"i")},{name:"str1",regex:new RegExp(Rp,"i")},{name:"str2",regex:new RegExp(Cp,"i")},{name:"*"},{name:"."},{name:","},{name:"["},{name:"]"},{name:"="},{name:">"},{name:"|"},{name:"+"},{name:"~"},{name:"^"},{name:"$"}]),Dp=ac([{name:"unicode",regex:new RegExp(kr,"i")},{name:"escape",regex:new RegExp(Lr,"i")},{name:"any",regex:new RegExp("[\\s\\S]","i")}]);function fc([e,t,r],[u,n,i]){return[e+u,t+n,r+i]}function zp(e){return e.reduce(fc,[0,0,0])}const Wp=zt(e=>e.name==="unicode"?String.fromCodePoint(parseInt(e.text.slice(1),16)):void 0),Up=zt(e=>e.name==="escape"?e.text.slice(1):void 0),jp=zt(e=>e.name==="any"?e.text:void 0),Hp=ut(oi(yu(Wp,Up,jp)),e=>e.join(""));function fi(e){const t=Dp(e);return Hp({tokens:t.tokens,options:void 0},0).value}function M(e){return zt(t=>t.name===e?!0:void 0)}const hi=zt(e=>e.name==="ws"?null:void 0),Ju=Gr(hi,null);function fr(e){return sc(Ju,e,Ju)}const hr=zt(e=>e.name==="ident"?fi(e.text):void 0),Fp=zt(e=>e.name==="hash"?fi(e.text.slice(1)):void 0),Vp=zt(e=>e.name.startsWith("str")?fi(e.text.slice(1,-1)):void 0),hc=Ep(Gr(hr,""),M("|")),li=pe(Z(hc,hr,(e,t)=>({name:t,namespace:e})),ut(hr,e=>({name:e,namespace:null}))),Kp=pe(Z(hc,M("*"),e=>({type:"universal",namespace:e,specificity:[0,0,0]})),ut(M("*"),()=>({type:"universal",namespace:null,specificity:[0,0,0]}))),Xp=ut(li,({name:e,namespace:t})=>({type:"tag",name:e,namespace:t,specificity:[0,0,1]})),Gp=Z(M("."),hr,(e,t)=>({type:"class",name:t,specificity:[0,1,0]})),Yp=ut(Fp,e=>({type:"id",name:e,specificity:[1,0,0]})),sa=zt(e=>{if(e.name==="ident"){if(e.text==="i"||e.text==="I")return"i";if(e.text==="s"||e.text==="S")return"s"}}),Zp=pe(Z(Vp,Gr(aa(Ju,sa),null),(e,t)=>({value:e,modifier:t})),Z(hr,Gr(aa(hi,sa),null),(e,t)=>({value:e,modifier:t}))),Jp=yu(ut(M("="),()=>"="),Z(M("~"),M("="),()=>"~="),Z(M("|"),M("="),()=>"|="),Z(M("^"),M("="),()=>"^="),Z(M("$"),M("="),()=>"$="),Z(M("*"),M("="),()=>"*=")),Qp=ci(M("["),fr(li),M("]"),(e,{name:t,namespace:r})=>({type:"attrPresence",name:t,namespace:r,specificity:[0,1,0]})),t2=sc(M("["),ci(fr(li),Jp,fr(Zp),({name:e,namespace:t},r,{value:u,modifier:n})=>({type:"attrValue",name:e,namespace:t,matcher:r,value:u,modifier:n,specificity:[0,1,0]})),M("]")),e2=pe(Qp,t2),r2=pe(Kp,Xp),oa=yu(Yp,Gp,e2),ca=ut(pe(Ip(r2,oi(oa)),Sp(oa)),e=>({type:"compound",list:e,specificity:zp(e.map(t=>t.specificity))})),u2=yu(ut(M(">"),()=>">"),ut(M("+"),()=>"+"),ut(M("~"),()=>"~"),Z(M("|"),M("|"),()=>"||")),n2=pe(fr(u2),ut(hi,()=>" ")),i2=Np(ca,ut(n2,e=>(t,r)=>({type:"compound",list:[...r.list,{type:"combinator",combinator:e,left:t,specificity:t.specificity}],specificity:fc(t.specificity,r.specificity)})),ca);function a2(e,t){if(!(typeof t=="string"||t instanceof String))throw new Error("Expected a selector string. Actual input is not a string!");const r=Pp(t);if(!r.complete)throw new Error(`The input "${t}" was only partially tokenized, stopped at offset ${r.offset}!
`+fa(t,r.offset));const u=fr(e)({tokens:r.tokens,options:void 0},0);if(!u.matched)throw new Error(`No match for "${t}" input!`);if(u.position<r.tokens.length){const n=r.tokens[u.position];throw new Error(`The input "${t}" was only partially parsed, stopped at offset ${n.offset}!
`+fa(t,n.offset,n.len))}return u.value}function fa(e,t,r=1){return`${e.replace(/(\t)|(\r)|(\n)/g,(u,n,i)=>n?"":i?"":"")}
${"".padEnd(t)}${"^".repeat(r)}`}function s2(e){return a2(i2,e)}function It(e){if(!e.type)throw new Error("This is not an AST node.");switch(e.type){case"universal":return qr(e.namespace)+"*";case"tag":return qr(e.namespace)+ge(e.name);case"class":return"."+ge(e.name);case"id":return"#"+ge(e.name);case"attrPresence":return`[${qr(e.namespace)}${ge(e.name)}]`;case"attrValue":return`[${qr(e.namespace)}${ge(e.name)}${e.matcher}"${o2(e.value)}"${e.modifier?e.modifier:""}]`;case"combinator":return It(e.left)+e.combinator;case"compound":return e.list.reduce((t,r)=>r.type==="combinator"?It(r)+t:t+It(r),"");case"list":return e.list.map(It).join(",")}}function qr(e){return e||e===""?ge(e)+"|":""}function Dr(e){return`\\${e.codePointAt(0).toString(16)} `}function ge(e){return e.replace(/(^[0-9])|(^-[0-9])|(^-$)|([-0-9a-zA-Z_]|[^\x00-\x7F])|(\x00)|([\x01-\x1f]|\x7f)|([\s\S])/g,(t,r,u,n,i,a,s,o)=>r?Dr(r):u?"-"+Dr(u.slice(1)):n?"\\-":i||(a?"":s?Dr(s):"\\"+o))}function o2(e){return e.replace(/(")|(\\)|(\x00)|([\x01-\x1f]|\x7f)/g,(t,r,u,n,i)=>r?'\\"':u?"\\\\":n?"":Dr(i))}function zr(e){if(!e.type)throw new Error("This is not an AST node.");switch(e.type){case"compound":{e.list.forEach(zr),e.list.sort((t,r)=>dc(ha(t),ha(r)));break}case"combinator":{zr(e.left);break}case"list":{e.list.forEach(zr),e.list.sort((t,r)=>It(t)<It(r)?-1:1);break}}return e}function ha(e){switch(e.type){case"universal":return[1];case"tag":return[1];case"id":return[2];case"class":return[3,e.name];case"attrPresence":return[4,It(e)];case"attrValue":return[5,It(e)];case"combinator":return[15,It(e)]}}function lc(e,t){return dc(e,t)}function dc(e,t){if(!Array.isArray(e)||!Array.isArray(t))throw new Error("Arguments must be arrays.");const r=e.length<t.length?e.length:t.length;for(let u=0;u<r;u++)if(e[u]!==t[u])return e[u]<t[u]?-1:1;return e.length-t.length}class la{constructor(t){this.branches=Oe(c2(t))}build(t){return t(this.branches)}}function c2(e){const t=e.length,r=new Array(t);for(let u=0;u<t;u++){const[n,i]=e[u],a=f2(s2(n));r[u]={ast:a,terminal:{type:"terminal",valueContainer:{index:u,value:i,specificity:a.specificity}}}}return r}function f2(e){return pc(e),zr(e),e}function pc(e){const t=[];e.list.forEach(r=>{switch(r.type){case"class":t.push({matcher:"~=",modifier:null,name:"class",namespace:null,specificity:r.specificity,type:"attrValue",value:r.name});break;case"id":t.push({matcher:"=",modifier:null,name:"id",namespace:null,specificity:r.specificity,type:"attrValue",value:r.name});break;case"combinator":pc(r.left),t.push(r);break;case"universal":break;default:t.push(r);break}}),e.list=t}function Oe(e){const t=[];for(;e.length;){const r=gc(e,a=>!0,mc),{matches:u,nonmatches:n,empty:i}=l2(e,r);e=n,u.length&&t.push(d2(r,u)),i.length&&t.push(...h2(i))}return t}function h2(e){const t=[];for(const r of e){const u=r.terminal;if(u.type==="terminal")t.push(u);else{const{matches:n,rest:i}=y2(u.cont,a=>a.type==="terminal");n.forEach(a=>t.push(a)),i.length&&(u.cont=i,t.push(u))}}return t}function l2(e,t){const r=[],u=[],n=[];for(const i of e){const a=i.ast.list;a.length?(a.some(o=>mc(o)===t)?r:u).push(i):n.push(i)}return{matches:r,nonmatches:u,empty:n}}function mc(e){switch(e.type){case"attrPresence":return`attrPresence ${e.name}`;case"attrValue":return`attrValue ${e.name}`;case"combinator":return`combinator ${e.combinator}`;default:return e.type}}function d2(e,t){if(e==="tag")return p2(t);if(e.startsWith("attrValue "))return b2(e.substring(10),t);if(e.startsWith("attrPresence "))return m2(e.substring(13),t);if(e==="combinator >")return da(">",t);if(e==="combinator +")return da("+",t);throw new Error(`Unsupported selector kind: ${e}`)}function p2(e){const t=di(e,u=>u.type==="tag",u=>u.name);return{type:"tagName",variants:Object.entries(t).map(([u,n])=>({type:"variant",value:u,cont:Oe(n.items)}))}}function m2(e,t){for(const r of t)bc(r,u=>u.type==="attrPresence"&&u.name===e);return{type:"attrPresence",name:e,cont:Oe(t)}}function b2(e,t){const r=di(t,n=>n.type==="attrValue"&&n.name===e,n=>`${n.matcher} ${n.modifier||""} ${n.value}`),u=[];for(const n of Object.values(r)){const i=n.oneSimpleSelector,a=g2(i),s=Oe(n.items);u.push({type:"matcher",matcher:i.matcher,modifier:i.modifier,value:i.value,predicate:a,cont:s})}return{type:"attrValue",name:e,matchers:u}}function g2(e){if(e.modifier==="i"){const t=e.value.toLowerCase();switch(e.matcher){case"=":return r=>t===r.toLowerCase();case"~=":return r=>r.toLowerCase().split(/[ \t]+/).includes(t);case"^=":return r=>r.toLowerCase().startsWith(t);case"$=":return r=>r.toLowerCase().endsWith(t);case"*=":return r=>r.toLowerCase().includes(t);case"|=":return r=>{const u=r.toLowerCase();return t===u||u.startsWith(t)&&u[t.length]==="-"}}}else{const t=e.value;switch(e.matcher){case"=":return r=>t===r;case"~=":return r=>r.split(/[ \t]+/).includes(t);case"^=":return r=>r.startsWith(t);case"$=":return r=>r.endsWith(t);case"*=":return r=>r.includes(t);case"|=":return r=>t===r||r.startsWith(t)&&r[t.length]==="-"}}}function da(e,t){const r=di(t,n=>n.type==="combinator"&&n.combinator===e,n=>It(n.left)),u=[];for(const n of Object.values(r)){const i=Oe(n.items),a=n.oneSimpleSelector.left;u.push({ast:a,terminal:{type:"popElement",cont:i}})}return{type:"pushElement",combinator:e,cont:Oe(u)}}function di(e,t,r){const u={};for(;e.length;){const n=gc(e,t,r),i=f=>t(f)&&r(f)===n,a=f=>f.ast.list.some(i),{matches:s,rest:o}=v2(e,a);let c=null;for(const f of s){const h=bc(f,i);c||(c=h)}if(c==null)throw new Error("No simple selector is found.");u[n]={oneSimpleSelector:c,items:s},e=o}return u}function bc(e,t){const r=e.ast.list,u=new Array(r.length);let n=-1;for(let a=r.length;a-- >0;)t(r[a])&&(u[a]=!0,n=a);if(n==-1)throw new Error("Couldn't find the required simple selector.");const i=r[n];return e.ast.list=r.filter((a,s)=>!u[s]),i}function gc(e,t,r){const u={};for(const a of e){const s={};for(const o of a.ast.list.filter(t))s[r(o)]=!0;for(const o of Object.keys(s))u[o]?u[o]++:u[o]=1}let n="",i=0;for(const a of Object.entries(u))a[1]>i&&(n=a[0],i=a[1]);return n}function y2(e,t){const r=[],u=[];for(const n of e)t(n)?r.push(n):u.push(n);return{matches:r,rest:u}}function v2(e,t){const r=[],u=[];for(const n of e)t(n)?r.push(n):u.push(n);return{matches:r,rest:u}}class _2{constructor(t){this.f=t}pickAll(t){return this.f(t)}pick1(t,r=!1){const u=this.f(t),n=u.length;if(n===0)return null;if(n===1)return u[0].value;const i=r?x2:w2;let a=u[0];for(let s=1;s<n;s++){const o=u[s];i(a,o)&&(a=o)}return a.value}}function x2(e,t){const r=lc(t.specificity,e.specificity);return r>0||r===0&&t.index<e.index}function w2(e,t){const r=lc(t.specificity,e.specificity);return r>0||r===0&&t.index>e.index}function pa(e){return new _2(Ue(e))}function Ue(e){const t=e.map(S2);return(r,...u)=>t.flatMap(n=>n(r,...u))}function S2(e){switch(e.type){case"terminal":{const t=[e.valueContainer];return(r,...u)=>t}case"tagName":return E2(e);case"attrValue":return I2(e);case"attrPresence":return A2(e);case"pushElement":return k2(e);case"popElement":return T2(e)}}function E2(e){const t={};for(const r of e.variants)t[r.value]=Ue(r.cont);return(r,...u)=>{const n=t[r.name];return n?n(r,...u):[]}}function A2(e){const t=e.name,r=Ue(e.cont);return(u,...n)=>Object.prototype.hasOwnProperty.call(u.attribs,t)?r(u,...n):[]}function I2(e){const t=[];for(const u of e.matchers){const n=u.predicate,i=Ue(u.cont);t.push((a,s,...o)=>n(a)?i(s,...o):[])}const r=e.name;return(u,...n)=>{const i=u.attribs[r];return i||i===""?t.flatMap(a=>a(i,u,...n)):[]}}function k2(e){const t=Ue(e.cont),r=e.combinator==="+"?yc:L2;return(u,...n)=>{const i=r(u);return i===null?[]:t(i,u,...n)}}const yc=e=>{const t=e.prev;return t===null?null:ai(t)?t:yc(t)},L2=e=>{const t=e.parent;return t&&ai(t)?t:null};function T2(e){const t=Ue(e.cont);return(r,u,...n)=>t(u,...n)}const vc=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),_c=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var $u;const N2=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Qu=($u=String.fromCodePoint)!==null&&$u!==void 0?$u:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function xc(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=N2.get(e))!==null&&t!==void 0?t:e}var H;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(H||(H={}));const $2=32;var _t;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(_t||(_t={}));function tn(e){return e>=H.ZERO&&e<=H.NINE}function O2(e){return e>=H.UPPER_A&&e<=H.UPPER_F||e>=H.LOWER_A&&e<=H.LOWER_F}function B2(e){return e>=H.UPPER_A&&e<=H.UPPER_Z||e>=H.LOWER_A&&e<=H.LOWER_Z||tn(e)}function q2(e){return e===H.EQUALS||B2(e)}var U;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(U||(U={}));var Qt;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Qt||(Qt={}));class M2{constructor(t,r,u){this.decodeTree=t,this.emitCodePoint=r,this.errors=u,this.state=U.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Qt.Strict}startEntity(t){this.decodeMode=t,this.state=U.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case U.EntityStart:return t.charCodeAt(r)===H.NUM?(this.state=U.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=U.NamedEntity,this.stateNamedEntity(t,r));case U.NumericStart:return this.stateNumericStart(t,r);case U.NumericDecimal:return this.stateNumericDecimal(t,r);case U.NumericHex:return this.stateNumericHex(t,r);case U.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|$2)===H.LOWER_X?(this.state=U.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=U.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,u,n){if(r!==u){const i=u-r;this.result=this.result*Math.pow(n,i)+parseInt(t.substr(r,i),n),this.consumed+=i}}stateNumericHex(t,r){const u=r;for(;r<t.length;){const n=t.charCodeAt(r);if(tn(n)||O2(n))r+=1;else return this.addToNumericResult(t,u,r,16),this.emitNumericEntity(n,3)}return this.addToNumericResult(t,u,r,16),-1}stateNumericDecimal(t,r){const u=r;for(;r<t.length;){const n=t.charCodeAt(r);if(tn(n))r+=1;else return this.addToNumericResult(t,u,r,10),this.emitNumericEntity(n,2)}return this.addToNumericResult(t,u,r,10),-1}emitNumericEntity(t,r){var u;if(this.consumed<=r)return(u=this.errors)===null||u===void 0||u.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===H.SEMI)this.consumed+=1;else if(this.decodeMode===Qt.Strict)return 0;return this.emitCodePoint(xc(this.result),this.consumed),this.errors&&(t!==H.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:u}=this;let n=u[this.treeIndex],i=(n&_t.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const a=t.charCodeAt(r);if(this.treeIndex=Sc(u,n,this.treeIndex+Math.max(1,i),a),this.treeIndex<0)return this.result===0||this.decodeMode===Qt.Attribute&&(i===0||q2(a))?0:this.emitNotTerminatedNamedEntity();if(n=u[this.treeIndex],i=(n&_t.VALUE_LENGTH)>>14,i!==0){if(a===H.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Qt.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:u}=this,n=(u[r]&_t.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,n,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,u){const{decodeTree:n}=this;return this.emitCodePoint(r===1?n[t]&~_t.VALUE_LENGTH:n[t+1],u),r===3&&this.emitCodePoint(n[t+2],u),u}end(){var t;switch(this.state){case U.NamedEntity:return this.result!==0&&(this.decodeMode!==Qt.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case U.NumericDecimal:return this.emitNumericEntity(0,2);case U.NumericHex:return this.emitNumericEntity(0,3);case U.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case U.EntityStart:return 0}}}function wc(e){let t="";const r=new M2(e,u=>t+=Qu(u));return function(n,i){let a=0,s=0;for(;(s=n.indexOf("&",s))>=0;){t+=n.slice(a,s),r.startEntity(i);const c=r.write(n,s+1);if(c<0){a=s+r.end();break}a=s+c,s=c===0?a+1:a}const o=t+n.slice(a);return t="",o}}function Sc(e,t,r,u){const n=(t&_t.BRANCH_LENGTH)>>7,i=t&_t.JUMP_TABLE;if(n===0)return i!==0&&u===i?r:-1;if(i){const o=u-i;return o<0||o>=n?-1:e[r+o]-1}let a=r,s=a+n-1;for(;a<=s;){const o=a+s>>>1,c=e[o];if(c<u)a=o+1;else if(c>u)s=o-1;else return e[o+n]}return-1}wc(vc);wc(_c);var y;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(y||(y={}));var d;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.SpecialStartSequence=23]="SpecialStartSequence",e[e.InSpecialTag=24]="InSpecialTag",e[e.BeforeEntity=25]="BeforeEntity",e[e.BeforeNumericEntity=26]="BeforeNumericEntity",e[e.InNamedEntity=27]="InNamedEntity",e[e.InNumericEntity=28]="InNumericEntity",e[e.InHexEntity=29]="InHexEntity"})(d||(d={}));function Mt(e){return e===y.Space||e===y.NewLine||e===y.Tab||e===y.FormFeed||e===y.CarriageReturn}function Mr(e){return e===y.Slash||e===y.Gt||Mt(e)}function ma(e){return e>=y.Zero&&e<=y.Nine}function R2(e){return e>=y.LowerA&&e<=y.LowerZ||e>=y.UpperA&&e<=y.UpperZ}function C2(e){return e>=y.UpperA&&e<=y.UpperF||e>=y.LowerA&&e<=y.LowerF}var Et;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(Et||(Et={}));const et={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])};class P2{constructor({xmlMode:t=!1,decodeEntities:r=!0},u){this.cbs=u,this.state=d.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=d.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=t,this.decodeEntities=r,this.entityTrie=t?_c:vc}reset(){this.state=d.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=d.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}getIndex(){return this.index}getSectionStart(){return this.sectionStart}stateText(t){t===y.Lt||!this.decodeEntities&&this.fastForwardTo(y.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=d.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===y.Amp&&(this.state=d.BeforeEntity)}stateSpecialStartSequence(t){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Mr(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=d.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===y.Gt||Mt(t)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const u=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=u}this.isSpecial=!1,this.sectionStart=r+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===et.TitleEnd?this.decodeEntities&&t===y.Amp&&(this.state=d.BeforeEntity):this.fastForwardTo(y.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===y.Lt)}stateCDATASequence(t){t===et.Cdata[this.sequenceIndex]?++this.sequenceIndex===et.Cdata.length&&(this.state=d.InCommentLike,this.currentSequence=et.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=d.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===et.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=d.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!Mr(t):R2(t)}startSpecial(t,r){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=r,this.state=d.SpecialStartSequence}stateBeforeTagName(t){if(t===y.ExclamationMark)this.state=d.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===y.Questionmark)this.state=d.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const r=t|32;this.sectionStart=this.index,!this.xmlMode&&r===et.TitleEnd[2]?this.startSpecial(et.TitleEnd,3):this.state=!this.xmlMode&&r===et.ScriptEnd[2]?d.BeforeSpecialS:d.InTagName}else t===y.Slash?this.state=d.BeforeClosingTagName:(this.state=d.Text,this.stateText(t))}stateInTagName(t){Mr(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=d.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){Mt(t)||(t===y.Gt?this.state=d.Text:(this.state=this.isTagStartChar(t)?d.InClosingTagName:d.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===y.Gt||Mt(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=d.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===y.Gt||this.fastForwardTo(y.Gt))&&(this.state=d.Text,this.baseState=d.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===y.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=d.InSpecialTag,this.sequenceIndex=0):this.state=d.Text,this.baseState=this.state,this.sectionStart=this.index+1):t===y.Slash?this.state=d.InSelfClosingTag:Mt(t)||(this.state=d.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===y.Gt?(this.cbs.onselfclosingtag(this.index),this.state=d.Text,this.baseState=d.Text,this.sectionStart=this.index+1,this.isSpecial=!1):Mt(t)||(this.state=d.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===y.Eq||Mr(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=d.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===y.Eq?this.state=d.BeforeAttributeValue:t===y.Slash||t===y.Gt?(this.cbs.onattribend(Et.NoValue,this.index),this.state=d.BeforeAttributeName,this.stateBeforeAttributeName(t)):Mt(t)||(this.cbs.onattribend(Et.NoValue,this.index),this.state=d.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===y.DoubleQuote?(this.state=d.InAttributeValueDq,this.sectionStart=this.index+1):t===y.SingleQuote?(this.state=d.InAttributeValueSq,this.sectionStart=this.index+1):Mt(t)||(this.sectionStart=this.index,this.state=d.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,r){t===r||!this.decodeEntities&&this.fastForwardTo(r)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===y.DoubleQuote?Et.Double:Et.Single,this.index),this.state=d.BeforeAttributeName):this.decodeEntities&&t===y.Amp&&(this.baseState=this.state,this.state=d.BeforeEntity)}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,y.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,y.SingleQuote)}stateInAttributeValueNoQuotes(t){Mt(t)||t===y.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(Et.Unquoted,this.index),this.state=d.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===y.Amp&&(this.baseState=this.state,this.state=d.BeforeEntity)}stateBeforeDeclaration(t){t===y.OpeningSquareBracket?(this.state=d.CDATASequence,this.sequenceIndex=0):this.state=t===y.Dash?d.BeforeComment:d.InDeclaration}stateInDeclaration(t){(t===y.Gt||this.fastForwardTo(y.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=d.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===y.Gt||this.fastForwardTo(y.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=d.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===y.Dash?(this.state=d.InCommentLike,this.currentSequence=et.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=d.InDeclaration}stateInSpecialComment(t){(t===y.Gt||this.fastForwardTo(y.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=d.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const r=t|32;r===et.ScriptEnd[3]?this.startSpecial(et.ScriptEnd,4):r===et.StyleEnd[3]?this.startSpecial(et.StyleEnd,4):(this.state=d.InTagName,this.stateInTagName(t))}stateBeforeEntity(t){this.entityExcess=1,this.entityResult=0,t===y.Number?this.state=d.BeforeNumericEntity:t===y.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=d.InNamedEntity,this.stateInNamedEntity(t))}stateInNamedEntity(t){if(this.entityExcess+=1,this.trieIndex=Sc(this.entityTrie,this.trieCurrent,this.trieIndex+1,t),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];const r=this.trieCurrent&_t.VALUE_LENGTH;if(r){const u=(r>>14)-1;if(!this.allowLegacyEntity()&&t!==y.Semi)this.trieIndex+=u;else{const n=this.index-this.entityExcess+1;n>this.sectionStart&&this.emitPartial(this.sectionStart,n),this.entityResult=this.trieIndex,this.trieIndex+=u,this.entityExcess=0,this.sectionStart=this.index+1,u===0&&this.emitNamedEntity()}}}emitNamedEntity(){if(this.state=this.baseState,this.entityResult===0)return;switch((this.entityTrie[this.entityResult]&_t.VALUE_LENGTH)>>14){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~_t.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}stateBeforeNumericEntity(t){(t|32)===y.LowerX?(this.entityExcess++,this.state=d.InHexEntity):(this.state=d.InNumericEntity,this.stateInNumericEntity(t))}emitNumericEntity(t){const r=this.index-this.entityExcess-1;r+2+ +(this.state===d.InHexEntity)!==this.index&&(r>this.sectionStart&&this.emitPartial(this.sectionStart,r),this.sectionStart=this.index+Number(t),this.emitCodePoint(xc(this.entityResult))),this.state=this.baseState}stateInNumericEntity(t){t===y.Semi?this.emitNumericEntity(!0):ma(t)?(this.entityResult=this.entityResult*10+(t-y.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}stateInHexEntity(t){t===y.Semi?this.emitNumericEntity(!0):ma(t)?(this.entityResult=this.entityResult*16+(t-y.Zero),this.entityExcess++):C2(t)?(this.entityResult=this.entityResult*16+((t|32)-y.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)}allowLegacyEntity(){return!this.xmlMode&&(this.baseState===d.Text||this.baseState===d.InSpecialTag)}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===d.Text||this.state===d.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===d.InAttributeValueDq||this.state===d.InAttributeValueSq||this.state===d.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case d.Text:{this.stateText(t);break}case d.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case d.InSpecialTag:{this.stateInSpecialTag(t);break}case d.CDATASequence:{this.stateCDATASequence(t);break}case d.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case d.InAttributeName:{this.stateInAttributeName(t);break}case d.InCommentLike:{this.stateInCommentLike(t);break}case d.InSpecialComment:{this.stateInSpecialComment(t);break}case d.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case d.InTagName:{this.stateInTagName(t);break}case d.InClosingTagName:{this.stateInClosingTagName(t);break}case d.BeforeTagName:{this.stateBeforeTagName(t);break}case d.AfterAttributeName:{this.stateAfterAttributeName(t);break}case d.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case d.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case d.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case d.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case d.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case d.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case d.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case d.InDeclaration:{this.stateInDeclaration(t);break}case d.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case d.BeforeComment:{this.stateBeforeComment(t);break}case d.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case d.InNamedEntity:{this.stateInNamedEntity(t);break}case d.BeforeEntity:{this.stateBeforeEntity(t);break}case d.InHexEntity:{this.stateInHexEntity(t);break}case d.InNumericEntity:{this.stateInNumericEntity(t);break}default:this.stateBeforeNumericEntity(t)}this.index++}this.cleanup()}finish(){this.state===d.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.state===d.InCommentLike?this.currentSequence===et.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===d.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===d.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===d.InTagName||this.state===d.BeforeAttributeName||this.state===d.BeforeAttributeValue||this.state===d.AfterAttributeName||this.state===d.InAttributeName||this.state===d.InAttributeValueSq||this.state===d.InAttributeValueDq||this.state===d.InAttributeValueNq||this.state===d.InClosingTagName||this.cbs.ontext(this.sectionStart,t)}emitPartial(t,r){this.baseState!==d.Text&&this.baseState!==d.InSpecialTag?this.cbs.onattribdata(t,r):this.cbs.ontext(t,r)}emitCodePoint(t){this.baseState!==d.Text&&this.baseState!==d.InSpecialTag?this.cbs.onattribentity(t):this.cbs.ontextentity(t)}}const me=new Set(["input","option","optgroup","select","button","datalist","textarea"]),k=new Set(["p"]),ba=new Set(["thead","tbody"]),ga=new Set(["dd","dt"]),ya=new Set(["rt","rp"]),D2=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",k],["h1",k],["h2",k],["h3",k],["h4",k],["h5",k],["h6",k],["select",me],["input",me],["output",me],["button",me],["datalist",me],["textarea",me],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",ga],["dt",ga],["address",k],["article",k],["aside",k],["blockquote",k],["details",k],["div",k],["dl",k],["fieldset",k],["figcaption",k],["figure",k],["footer",k],["form",k],["header",k],["hr",k],["main",k],["nav",k],["ol",k],["pre",k],["section",k],["table",k],["ul",k],["rt",ya],["rp",ya],["tbody",ba],["tfoot",ba]]),z2=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),va=new Set(["math","svg"]),_a=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),W2=/\s|\//;class U2{constructor(t,r={}){var u,n,i,a,s;this.options=r,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.lowerCaseTagNames=(u=r.lowerCaseTags)!==null&&u!==void 0?u:!r.xmlMode,this.lowerCaseAttributeNames=(n=r.lowerCaseAttributeNames)!==null&&n!==void 0?n:!r.xmlMode,this.tokenizer=new((i=r.Tokenizer)!==null&&i!==void 0?i:P2)(this.options,this),(s=(a=this.cbs).onparserinit)===null||s===void 0||s.call(a,this)}ontext(t,r){var u,n;const i=this.getSlice(t,r);this.endIndex=r-1,(n=(u=this.cbs).ontext)===null||n===void 0||n.call(u,i),this.startIndex=r}ontextentity(t){var r,u;const n=this.tokenizer.getSectionStart();this.endIndex=n-1,(u=(r=this.cbs).ontext)===null||u===void 0||u.call(r,Qu(t)),this.startIndex=n}isVoidElement(t){return!this.options.xmlMode&&z2.has(t)}onopentagname(t,r){this.endIndex=r;let u=this.getSlice(t,r);this.lowerCaseTagNames&&(u=u.toLowerCase()),this.emitOpenTag(u)}emitOpenTag(t){var r,u,n,i;this.openTagStart=this.startIndex,this.tagname=t;const a=!this.options.xmlMode&&D2.get(t);if(a)for(;this.stack.length>0&&a.has(this.stack[this.stack.length-1]);){const s=this.stack.pop();(u=(r=this.cbs).onclosetag)===null||u===void 0||u.call(r,s,!0)}this.isVoidElement(t)||(this.stack.push(t),va.has(t)?this.foreignContext.push(!0):_a.has(t)&&this.foreignContext.push(!1)),(i=(n=this.cbs).onopentagname)===null||i===void 0||i.call(n,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var r,u;this.startIndex=this.openTagStart,this.attribs&&((u=(r=this.cbs).onopentag)===null||u===void 0||u.call(r,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,r){var u,n,i,a,s,o;this.endIndex=r;let c=this.getSlice(t,r);if(this.lowerCaseTagNames&&(c=c.toLowerCase()),(va.has(c)||_a.has(c))&&this.foreignContext.pop(),this.isVoidElement(c))!this.options.xmlMode&&c==="br"&&((n=(u=this.cbs).onopentagname)===null||n===void 0||n.call(u,"br"),(a=(i=this.cbs).onopentag)===null||a===void 0||a.call(i,"br",{},!0),(o=(s=this.cbs).onclosetag)===null||o===void 0||o.call(s,"br",!1));else{const f=this.stack.lastIndexOf(c);if(f!==-1)if(this.cbs.onclosetag){let h=this.stack.length-f;for(;h--;)this.cbs.onclosetag(this.stack.pop(),h!==0)}else this.stack.length=f;else!this.options.xmlMode&&c==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=r+1}onselfclosingtag(t){this.endIndex=t,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var r,u;const n=this.tagname;this.endOpenTag(t),this.stack[this.stack.length-1]===n&&((u=(r=this.cbs).onclosetag)===null||u===void 0||u.call(r,n,!t),this.stack.pop())}onattribname(t,r){this.startIndex=t;const u=this.getSlice(t,r);this.attribname=this.lowerCaseAttributeNames?u.toLowerCase():u}onattribdata(t,r){this.attribvalue+=this.getSlice(t,r)}onattribentity(t){this.attribvalue+=Qu(t)}onattribend(t,r){var u,n;this.endIndex=r,(n=(u=this.cbs).onattribute)===null||n===void 0||n.call(u,this.attribname,this.attribvalue,t===Et.Double?'"':t===Et.Single?"'":t===Et.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const r=t.search(W2);let u=r<0?t:t.substr(0,r);return this.lowerCaseTagNames&&(u=u.toLowerCase()),u}ondeclaration(t,r){this.endIndex=r;const u=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(u);this.cbs.onprocessinginstruction(`!${n}`,`!${u}`)}this.startIndex=r+1}onprocessinginstruction(t,r){this.endIndex=r;const u=this.getSlice(t,r);if(this.cbs.onprocessinginstruction){const n=this.getInstructionName(u);this.cbs.onprocessinginstruction(`?${n}`,`?${u}`)}this.startIndex=r+1}oncomment(t,r,u){var n,i,a,s;this.endIndex=r,(i=(n=this.cbs).oncomment)===null||i===void 0||i.call(n,this.getSlice(t,r-u)),(s=(a=this.cbs).oncommentend)===null||s===void 0||s.call(a),this.startIndex=r+1}oncdata(t,r,u){var n,i,a,s,o,c,f,h,p,m;this.endIndex=r;const b=this.getSlice(t,r-u);this.options.xmlMode||this.options.recognizeCDATA?((i=(n=this.cbs).oncdatastart)===null||i===void 0||i.call(n),(s=(a=this.cbs).ontext)===null||s===void 0||s.call(a,b),(c=(o=this.cbs).oncdataend)===null||c===void 0||c.call(o)):((h=(f=this.cbs).oncomment)===null||h===void 0||h.call(f,`[CDATA[${b}]]`),(m=(p=this.cbs).oncommentend)===null||m===void 0||m.call(p)),this.startIndex=r+1}onend(){var t,r;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let u=this.stack.length;u>0;this.cbs.onclosetag(this.stack[--u],!0));}(r=(t=this.cbs).onend)===null||r===void 0||r.call(t)}reset(){var t,r,u,n;(r=(t=this.cbs).onreset)===null||r===void 0||r.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(n=(u=this.cbs).onparserinit)===null||n===void 0||n.call(u,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,r){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let u=this.buffers[0].slice(t-this.bufferOffset,r-this.bufferOffset);for(;r-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),u+=this.buffers[0].slice(0,r-this.bufferOffset);return u}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var r,u;if(this.ended){(u=(r=this.cbs).onerror)===null||u===void 0||u.call(r,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var r,u;if(this.ended){(u=(r=this.cbs).onerror)===null||u===void 0||u.call(r,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}}const xa=/["&'<>$\x80-\uFFFF]/g,j2=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),H2=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function Ec(e){let t="",r=0,u;for(;(u=xa.exec(e))!==null;){const n=u.index,i=e.charCodeAt(n),a=j2.get(i);a!==void 0?(t+=e.substring(r,n)+a,r=n+1):(t+=`${e.substring(r,n)}&#x${H2(e,n).toString(16)};`,r=xa.lastIndex+=+((i&64512)===55296))}return t+e.substr(r)}function Ac(e,t){return function(u){let n,i=0,a="";for(;n=e.exec(u);)i!==n.index&&(a+=u.substring(i,n.index)),a+=t.get(n[0].charCodeAt(0)),i=n.index+1;return a+u.substring(i)}}const F2=Ac(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),V2=Ac(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),K2=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),X2=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),G2=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function Y2(e){return e.replace(/"/g,"&quot;")}function Z2(e,t){var r;if(!e)return;const u=((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)===!1?Y2:t.xmlMode||t.encodeEntities!=="utf8"?Ec:F2;return Object.keys(e).map(n=>{var i,a;const s=(i=e[n])!==null&&i!==void 0?i:"";return t.xmlMode==="foreign"&&(n=(a=X2.get(n))!==null&&a!==void 0?a:n),!t.emptyAttrs&&!t.xmlMode&&s===""?n:`${n}="${u(s)}"`}).join(" ")}const wa=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function _u(e,t={}){const r="length"in e?e:[e];let u="";for(let n=0;n<r.length;n++)u+=J2(r[n],t);return u}function J2(e,t){switch(e.type){case up:return _u(e.children,t);case hp:case ip:return r3(e);case ap:return i3(e);case fp:return n3(e);case sp:case op:case cp:return e3(e,t);case np:return u3(e,t)}}const Q2=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),t3=new Set(["svg","math"]);function e3(e,t){var r;t.xmlMode==="foreign"&&(e.name=(r=K2.get(e.name))!==null&&r!==void 0?r:e.name,e.parent&&Q2.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&t3.has(e.name)&&(t={...t,xmlMode:"foreign"});let u=`<${e.name}`;const n=Z2(e.attribs,t);return n&&(u+=` ${n}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&wa.has(e.name))?(t.xmlMode||(u+=" "),u+="/>"):(u+=">",e.children.length>0&&(u+=_u(e.children,t)),(t.xmlMode||!wa.has(e.name))&&(u+=`</${e.name}>`)),u}function r3(e){return`<${e.data}>`}function u3(e,t){var r;let u=e.data||"";return((r=t.encodeEntities)!==null&&r!==void 0?r:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&G2.has(e.parent.name))&&(u=t.xmlMode||t.encodeEntities!=="utf8"?Ec(u):V2(u)),u}function n3(e){return`<![CDATA[${e.children[0].data}]]>`}function i3(e){return`<!--${e.data}-->`}function a3(e,t){const r=new gp(void 0,t);return new U2(r,t).end(e),r.root}function s3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ou,Sa;function o3(){if(Sa)return Ou;Sa=1;var e=function(w){return t(w)&&!r(w)};function t(_){return!!_&&typeof _=="object"}function r(_){var w=Object.prototype.toString.call(_);return w==="[object RegExp]"||w==="[object Date]"||i(_)}var u=typeof Symbol=="function"&&Symbol.for,n=u?Symbol.for("react.element"):60103;function i(_){return _.$$typeof===n}function a(_){return Array.isArray(_)?[]:{}}function s(_,w){return w.clone!==!1&&w.isMergeableObject(_)?v(a(_),_,w):_}function o(_,w,N){return _.concat(w).map(function(vt){return s(vt,N)})}function c(_,w){if(!w.customMerge)return v;var N=w.customMerge(_);return typeof N=="function"?N:v}function f(_){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(_).filter(function(w){return Object.propertyIsEnumerable.call(_,w)}):[]}function h(_){return Object.keys(_).concat(f(_))}function p(_,w){try{return w in _}catch{return!1}}function m(_,w){return p(_,w)&&!(Object.hasOwnProperty.call(_,w)&&Object.propertyIsEnumerable.call(_,w))}function b(_,w,N){var vt={};return N.isMergeableObject(_)&&h(_).forEach(function(X){vt[X]=s(_[X],N)}),h(w).forEach(function(X){m(_,X)||(p(_,X)&&N.isMergeableObject(w[X])?vt[X]=c(X,N)(_[X],w[X],N):vt[X]=s(w[X],N))}),vt}function v(_,w,N){N=N||{},N.arrayMerge=N.arrayMerge||o,N.isMergeableObject=N.isMergeableObject||e,N.cloneUnlessOtherwiseSpecified=s;var vt=Array.isArray(w),X=Array.isArray(_),Cc=vt===X;return Cc?vt?N.arrayMerge(_,w,N):b(_,w,N):s(w,N)}v.all=function(w,N){if(!Array.isArray(w))throw new Error("first argument should be an array");return w.reduce(function(vt,X){return v(vt,X,N)},{})};var P=v;return Ou=P,Ou}var c3=o3();const Ic=s3(c3);function pi(e,t,r=()=>{}){if(e===void 0){const u=function(...n){return t(u,...n)};return u}return e>=0?function(...u){return t(pi(e-1,t,r),...u)}:r}function kc(e,t){let r=0,u=e.length;for(;r<u&&e[r]===t;)++r;for(;u>r&&e[u-1]===t;)--u;return r>0||u<e.length?e.substring(r,u):e}function f3(e,t){let r=e.length;for(;r>0&&e[r-1]===t;)--r;return r<e.length?e.substring(0,r):e}function h3(e){return e.replace(/[\s\S]/g,t=>"\\u"+t.charCodeAt().toString(16).padStart(4,"0"))}function Lc(e,t){const r=new Map;for(let u=e.length;u-- >0;){const n=e[u],i=t(n);r.set(i,r.has(i)?Ic(n,r.get(i),{arrayMerge:l3}):n)}return[...r.values()].reverse()}const l3=(e,t,r)=>[...t];function Be(e,t){for(const r of t){if(!e)return;e=e[r]}return e}function Ea(e,t="a",r=26){const u=[];do e-=1,u.push(e%r),e=e/r>>0;while(e>0);const n=t.charCodeAt(0);return u.reverse().map(i=>String.fromCharCode(n+i)).join("")}const Bu=["I","X","C","M"],Aa=["V","L","D"];function Ia(e){return[...e+""].map(t=>+t).reverse().map((t,r)=>t%5<4?(t<5?"":Aa[r])+Bu[r].repeat(t%5):Bu[r]+(t<5?Aa[r]:Bu[r+1])).reverse().join("")}class Tc{constructor(t,r=void 0){this.lines=[],this.nextLineWords=[],this.maxLineLength=r||t.wordwrap||Number.MAX_VALUE,this.nextLineAvailableChars=this.maxLineLength,this.wrapCharacters=Be(t,["longWordSplit","wrapCharacters"])||[],this.forceWrapOnLimit=Be(t,["longWordSplit","forceWrapOnLimit"])||!1,this.stashedSpace=!1,this.wordBreakOpportunity=!1}pushWord(t,r=!1){this.nextLineAvailableChars<=0&&!r&&this.startNewLine();const u=this.nextLineWords.length===0,n=t.length+(u?0:1);if(n<=this.nextLineAvailableChars||r)this.nextLineWords.push(t),this.nextLineAvailableChars-=n;else{const[i,...a]=this.splitLongWord(t);u||this.startNewLine(),this.nextLineWords.push(i),this.nextLineAvailableChars-=i.length;for(const s of a)this.startNewLine(),this.nextLineWords.push(s),this.nextLineAvailableChars-=s.length}}popWord(){const t=this.nextLineWords.pop();if(t!==void 0){const r=this.nextLineWords.length===0,u=t.length+(r?0:1);this.nextLineAvailableChars+=u}return t}concatWord(t,r=!1){if(this.wordBreakOpportunity&&t.length>this.nextLineAvailableChars)this.pushWord(t,r),this.wordBreakOpportunity=!1;else{const u=this.popWord();this.pushWord(u?u.concat(t):t,r)}}startNewLine(t=1){this.lines.push(this.nextLineWords),t>1&&this.lines.push(...Array.from({length:t-1},()=>[])),this.nextLineWords=[],this.nextLineAvailableChars=this.maxLineLength}isEmpty(){return this.lines.length===0&&this.nextLineWords.length===0}clear(){this.lines.length=0,this.nextLineWords.length=0,this.nextLineAvailableChars=this.maxLineLength}toString(){return[...this.lines,this.nextLineWords].map(t=>t.join(" ")).join(`
`)}splitLongWord(t){const r=[];let u=0;for(;t.length>this.maxLineLength;){const n=t.substring(0,this.maxLineLength),i=t.substring(this.maxLineLength),a=n.lastIndexOf(this.wrapCharacters[u]);if(a>-1)t=n.substring(a+1)+i,r.push(n.substring(0,a+1));else if(u++,u<this.wrapCharacters.length)t=n+i;else{if(this.forceWrapOnLimit){if(r.push(n),t=i,t.length>this.maxLineLength)continue}else t=n+i;break}}return r.push(t),r}}class Tr{constructor(t=null){this.next=t}getRoot(){return this.next?this.next:this}}class wt extends Tr{constructor(t,r=null,u=1,n=void 0){super(r),this.leadingLineBreaks=u,this.inlineTextBuilder=new Tc(t,n),this.rawText="",this.stashedLineBreaks=0,this.isPre=r&&r.isPre,this.isNoWrap=r&&r.isNoWrap}}class ka extends wt{constructor(t,r=null,{interRowLineBreaks:u=1,leadingLineBreaks:n=2,maxLineLength:i=void 0,maxPrefixLength:a=0,prefixAlign:s="left"}={}){super(t,r,n,i),this.maxPrefixLength=a,this.prefixAlign=s,this.interRowLineBreaks=u}}class te extends wt{constructor(t,r=null,{leadingLineBreaks:u=1,maxLineLength:n=void 0,prefix:i=""}={}){super(t,r,u,n),this.prefix=i}}class La extends Tr{constructor(t=null){super(t),this.rows=[],this.isPre=t&&t.isPre,this.isNoWrap=t&&t.isNoWrap}}class Ta extends Tr{constructor(t=null){super(t),this.cells=[],this.isPre=t&&t.isPre,this.isNoWrap=t&&t.isNoWrap}}class ee extends Tr{constructor(t,r=null,u=void 0){super(r),this.inlineTextBuilder=new Tc(t,u),this.rawText="",this.stashedLineBreaks=0,this.isPre=r&&r.isPre,this.isNoWrap=r&&r.isNoWrap}}class d3 extends Tr{constructor(t=null,r){super(t),this.transform=r}}function p3(e){return[...e].map(t=>"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")).join("")}class m3{constructor(t){this.whitespaceChars=t.preserveNewlines?t.whitespaceCharacters.replace(/\n/g,""):t.whitespaceCharacters;const r=p3(this.whitespaceChars);if(this.leadingWhitespaceRe=new RegExp(`^[${r}]`),this.trailingWhitespaceRe=new RegExp(`[${r}]$`),this.allWhitespaceOrEmptyRe=new RegExp(`^[${r}]*$`),this.newlineOrNonWhitespaceRe=new RegExp(`(\\n|[^\\n${r}])`,"g"),this.newlineOrNonNewlineStringRe=new RegExp("(\\n|[^\\n]+)","g"),t.preserveNewlines){const u=new RegExp(`\\n|[^\\n${r}]+`,"gm");this.shrinkWrapAdd=function(n,i,a=(o=>o),s=!1){if(!n)return;const o=i.stashedSpace;let c=!1,f=u.exec(n);if(f)for(c=!0,f[0]===`
`?i.startNewLine():o||this.testLeadingWhitespace(n)?i.pushWord(a(f[0]),s):i.concatWord(a(f[0]),s);(f=u.exec(n))!==null;)f[0]===`
`?i.startNewLine():i.pushWord(a(f[0]),s);i.stashedSpace=o&&!c||this.testTrailingWhitespace(n)}}else{const u=new RegExp(`[^${r}]+`,"g");this.shrinkWrapAdd=function(n,i,a=(o=>o),s=!1){if(!n)return;const o=i.stashedSpace;let c=!1,f=u.exec(n);if(f)for(c=!0,o||this.testLeadingWhitespace(n)?i.pushWord(a(f[0]),s):i.concatWord(a(f[0]),s);(f=u.exec(n))!==null;)i.pushWord(a(f[0]),s);i.stashedSpace=o&&!c||this.testTrailingWhitespace(n)}}}addLiteral(t,r,u=!0){if(!t)return;const n=r.stashedSpace;let i=!1,a=this.newlineOrNonNewlineStringRe.exec(t);if(a)for(i=!0,a[0]===`
`?r.startNewLine():n?r.pushWord(a[0],u):r.concatWord(a[0],u);(a=this.newlineOrNonNewlineStringRe.exec(t))!==null;)a[0]===`
`?r.startNewLine():r.pushWord(a[0],u);r.stashedSpace=n&&!i}testLeadingWhitespace(t){return this.leadingWhitespaceRe.test(t)}testTrailingWhitespace(t){return this.trailingWhitespaceRe.test(t)}testContainsWords(t){return!this.allWhitespaceOrEmptyRe.test(t)}countNewlinesNoWords(t){this.newlineOrNonWhitespaceRe.lastIndex=0;let r=0,u;for(;(u=this.newlineOrNonWhitespaceRe.exec(t))!==null;)if(u[0]===`
`)r++;else return 0;return r}}class b3{constructor(t,r,u=void 0){this.options=t,this.picker=r,this.metadata=u,this.whitespaceProcessor=new m3(t),this._stackItem=new wt(t),this._wordTransformer=void 0}pushWordTransform(t){this._wordTransformer=new d3(this._wordTransformer,t)}popWordTransform(){if(!this._wordTransformer)return;const t=this._wordTransformer.transform;return this._wordTransformer=this._wordTransformer.next,t}startNoWrap(){this._stackItem.isNoWrap=!0}stopNoWrap(){this._stackItem.isNoWrap=!1}_getCombinedWordTransformer(){const t=this._wordTransformer?(u=>Nc(u,this._wordTransformer)):void 0,r=this.options.encodeCharacters;return t?r?u=>r(t(u)):t:r}_popStackItem(){const t=this._stackItem;return this._stackItem=t.next,t}addLineBreak(){(this._stackItem instanceof wt||this._stackItem instanceof te||this._stackItem instanceof ee)&&(this._stackItem.isPre?this._stackItem.rawText+=`
`:this._stackItem.inlineTextBuilder.startNewLine())}addWordBreakOpportunity(){(this._stackItem instanceof wt||this._stackItem instanceof te||this._stackItem instanceof ee)&&(this._stackItem.inlineTextBuilder.wordBreakOpportunity=!0)}addInline(t,{noWordTransform:r=!1}={}){if(this._stackItem instanceof wt||this._stackItem instanceof te||this._stackItem instanceof ee){if(this._stackItem.isPre){this._stackItem.rawText+=t;return}if(!(t.length===0||this._stackItem.stashedLineBreaks&&!this.whitespaceProcessor.testContainsWords(t))){if(this.options.preserveNewlines){const u=this.whitespaceProcessor.countNewlinesNoWords(t);if(u>0){this._stackItem.inlineTextBuilder.startNewLine(u);return}}this._stackItem.stashedLineBreaks&&this._stackItem.inlineTextBuilder.startNewLine(this._stackItem.stashedLineBreaks),this.whitespaceProcessor.shrinkWrapAdd(t,this._stackItem.inlineTextBuilder,r?void 0:this._getCombinedWordTransformer(),this._stackItem.isNoWrap),this._stackItem.stashedLineBreaks=0}}}addLiteral(t){if((this._stackItem instanceof wt||this._stackItem instanceof te||this._stackItem instanceof ee)&&t.length!==0){if(this._stackItem.isPre){this._stackItem.rawText+=t;return}this._stackItem.stashedLineBreaks&&this._stackItem.inlineTextBuilder.startNewLine(this._stackItem.stashedLineBreaks),this.whitespaceProcessor.addLiteral(t,this._stackItem.inlineTextBuilder,this._stackItem.isNoWrap),this._stackItem.stashedLineBreaks=0}}openBlock({leadingLineBreaks:t=1,reservedLineLength:r=0,isPre:u=!1}={}){const n=Math.max(20,this._stackItem.inlineTextBuilder.maxLineLength-r);this._stackItem=new wt(this.options,this._stackItem,t,n),u&&(this._stackItem.isPre=!0)}closeBlock({trailingLineBreaks:t=1,blockTransform:r=void 0}={}){const u=this._popStackItem(),n=r?r(Zt(u)):Zt(u);Rr(this._stackItem,n,u.leadingLineBreaks,Math.max(u.stashedLineBreaks,t))}openList({maxPrefixLength:t=0,prefixAlign:r="left",interRowLineBreaks:u=1,leadingLineBreaks:n=2}={}){this._stackItem=new ka(this.options,this._stackItem,{interRowLineBreaks:u,leadingLineBreaks:n,maxLineLength:this._stackItem.inlineTextBuilder.maxLineLength,maxPrefixLength:t,prefixAlign:r})}openListItem({prefix:t=""}={}){if(!(this._stackItem instanceof ka))throw new Error("Can't add a list item to something that is not a list! Check the formatter.");const r=this._stackItem,u=Math.max(t.length,r.maxPrefixLength),n=Math.max(20,r.inlineTextBuilder.maxLineLength-u);this._stackItem=new te(this.options,r,{prefix:t,maxLineLength:n,leadingLineBreaks:r.interRowLineBreaks})}closeListItem(){const t=this._popStackItem(),r=t.next,u=Math.max(t.prefix.length,r.maxPrefixLength),n=`
`+" ".repeat(u),a=(r.prefixAlign==="right"?t.prefix.padStart(u):t.prefix.padEnd(u))+Zt(t).replace(/\n/g,n);Rr(r,a,t.leadingLineBreaks,Math.max(t.stashedLineBreaks,r.interRowLineBreaks))}closeList({trailingLineBreaks:t=2}={}){const r=this._popStackItem(),u=Zt(r);u&&Rr(this._stackItem,u,r.leadingLineBreaks,t)}openTable(){this._stackItem=new La(this._stackItem)}openTableRow(){if(!(this._stackItem instanceof La))throw new Error("Can't add a table row to something that is not a table! Check the formatter.");this._stackItem=new Ta(this._stackItem)}openTableCell({maxColumnWidth:t=void 0}={}){if(!(this._stackItem instanceof Ta))throw new Error("Can't add a table cell to something that is not a table row! Check the formatter.");this._stackItem=new ee(this.options,this._stackItem,t)}closeTableCell({colspan:t=1,rowspan:r=1}={}){const u=this._popStackItem(),n=kc(Zt(u),`
`);u.next.cells.push({colspan:t,rowspan:r,text:n})}closeTableRow(){const t=this._popStackItem();t.next.rows.push(t.cells)}closeTable({tableToString:t,leadingLineBreaks:r=2,trailingLineBreaks:u=2}){const n=this._popStackItem(),i=t(n.rows);i&&Rr(this._stackItem,i,r,u)}toString(){return Zt(this._stackItem.getRoot())}}function Zt(e){if(!(e instanceof wt||e instanceof te||e instanceof ee))throw new Error("Only blocks, list items and table cells can be requested for text contents.");return e.inlineTextBuilder.isEmpty()?e.rawText:e.rawText+e.inlineTextBuilder.toString()}function Rr(e,t,r,u){if(!(e instanceof wt||e instanceof te||e instanceof ee))throw new Error("Only blocks, list items and table cells can contain text.");const n=Zt(e),i=Math.max(e.stashedLineBreaks,r);e.inlineTextBuilder.clear(),n?e.rawText=n+`
`.repeat(i)+t:(e.rawText=t,e.leadingLineBreaks=i),e.stashedLineBreaks=u}function Nc(e,t){return t?Nc(t.transform(e),t.next):e}function g3(e={}){const t=e.selectors.filter(a=>!a.format);if(t.length)throw new Error("Following selectors have no specified format: "+t.map(a=>`\`${a.selector}\``).join(", "));const r=new la(e.selectors.map(a=>[a.selector,a])).build(pa);typeof e.encodeCharacters!="function"&&(e.encodeCharacters=x3(e.encodeCharacters));const u=new la(e.baseElements.selectors.map((a,s)=>[a,s+1])).build(pa);function n(a){return v3(a,e,u)}const i=pi(e.limits.maxDepth,_3,function(a,s){s.addInline(e.limits.ellipsis||"")});return function(a,s=void 0){return y3(a,s,e,r,n,i)}}function y3(e,t,r,u,n,i){const a=r.limits.maxInputLength;a&&e&&e.length>a&&(console.warn(`Input length ${e.length} is above allowed limit of ${a}. Truncating without ellipsis.`),e=e.substring(0,a));const s=a3(e,{decodeEntities:r.decodeEntities}),o=n(s.children),c=new b3(r,u,t);return i(o,c),c.toString()}function v3(e,t,r){const u=[];function n(a,s){s=s.slice(0,t.limits.maxChildNodes);for(const o of s){if(o.type!=="tag")continue;const c=r.pick1(o);if(c>0?u.push({selectorIndex:c,element:o}):o.children&&a(o.children),u.length>=t.limits.maxBaseElements)return}}return pi(t.limits.maxDepth,n)(e),t.baseElements.orderBy!=="occurrence"&&u.sort((a,s)=>a.selectorIndex-s.selectorIndex),t.baseElements.returnDomByDefault&&u.length===0?e:u.map(a=>a.element)}function _3(e,t,r){if(!t)return;const u=r.options;t.length>u.limits.maxChildNodes&&(t=t.slice(0,u.limits.maxChildNodes),t.push({data:u.limits.ellipsis,type:"text"}));for(const i of t)switch(i.type){case"text":{r.addInline(i.data);break}case"tag":{const a=r.picker.pick1(i),s=u.formatters[a.format];s(i,e,r,a.options||{});break}}}function x3(e){if(!e||Object.keys(e).length===0)return;const t=Object.entries(e).filter(([,i])=>i!==!1),r=new RegExp(t.map(([i])=>`(${h3([...i][0])})`).join("|"),"g"),u=t.map(([,i])=>i),n=(i,...a)=>u[a.findIndex(s=>s)];return i=>i.replace(r,n)}function w3(e,t,r,u){}function S3(e,t,r,u){r.addLiteral(u.string||"")}function E3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2}),r.addLiteral(u.string||""),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function A3(e,t,r,u){t(e.children,r)}function I3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2}),t(e.children,r),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function $c(e){const t=e.attribs&&e.attribs.length?" "+Object.entries(e.attribs).map(([r,u])=>u===""?r:`${r}=${u.replace(/"/g,"&quot;")}`).join(" "):"";return`<${e.name}${t}>`}function Oc(e){return`</${e.name}>`}function k3(e,t,r,u){r.startNoWrap(),r.addLiteral($c(e)),r.stopNoWrap(),t(e.children,r),r.startNoWrap(),r.addLiteral(Oc(e)),r.stopNoWrap()}function L3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2}),r.startNoWrap(),r.addLiteral($c(e)),r.stopNoWrap(),t(e.children,r),r.startNoWrap(),r.addLiteral(Oc(e)),r.stopNoWrap(),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function T3(e,t,r,u){r.startNoWrap(),r.addLiteral(_u(e,{decodeEntities:r.options.decodeEntities})),r.stopNoWrap()}function N3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2}),r.startNoWrap(),r.addLiteral(_u(e,{decodeEntities:r.options.decodeEntities})),r.stopNoWrap(),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function $3(e,t,r,u){r.addLiteral(u.prefix||""),t(e.children,r),r.addLiteral(u.suffix||"")}var O3=Object.freeze({__proto__:null,block:I3,blockHtml:N3,blockString:E3,blockTag:L3,inline:A3,inlineHtml:T3,inlineString:S3,inlineSurround:$3,inlineTag:k3,skip:w3});function Yr(e,t){return e[t]||(e[t]=[]),e[t]}function B3(e,t=0){for(;e[t];)t++;return t}function q3(e,t){for(let r=0;r<t;r++){const u=Yr(e,r);for(let n=0;n<r;n++){const i=Yr(e,n);if(u[n]||i[r]){const a=u[n];u[n]=i[r],i[r]=a}}}}function M3(e,t,r,u){for(let n=0;n<e.rowspan;n++){const i=Yr(t,r+n);for(let a=0;a<e.colspan;a++)i[u+a]=e}}function en(e,t){return e[t]===void 0&&(e[t]=t===0?0:1+en(e,t-1)),e[t]}function Na(e,t,r,u){e[t+r]=Math.max(en(e,t+r),en(e,t)+u)}function R3(e,t,r){const u=[];let n=0;const i=e.length,a=[0];for(let c=0;c<i;c++){const f=Yr(u,c),h=e[c];let p=0;for(let m=0;m<h.length;m++){const b=h[m];p=B3(f,p),M3(b,u,c,p),p+=b.colspan,b.lines=b.text.split(`
`);const v=b.lines.length;Na(a,c,b.rowspan,v+t)}n=f.length>n?f.length:n}q3(u,i>n?i:n);const s=[],o=[0];for(let c=0;c<n;c++){let f=0,h;const p=Math.min(i,u[c].length);for(;f<p;)if(h=u[c][f],h){if(!h.rendered){let m=0;for(let b=0;b<h.lines.length;b++){const v=h.lines[b],P=a[f]+b;s[P]=(s[P]||"").padEnd(o[c])+v,m=v.length>m?v.length:m}Na(o,c,h.colspan,m+r),h.rendered=!0}f+=h.rowspan}else{const m=a[f];s[m]=s[m]||"",f++}}return s.join(`
`)}function C3(e,t,r,u){r.addLineBreak()}function P3(e,t,r,u){r.addWordBreakOpportunity()}function D3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2}),r.addInline("-".repeat(u.length||r.options.wordwrap||40)),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function z3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2}),t(e.children,r),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function W3(e,t,r,u){r.openBlock({isPre:!0,leadingLineBreaks:u.leadingLineBreaks||2}),t(e.children,r),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function U3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2}),u.uppercase!==!1?(r.pushWordTransform(n=>n.toUpperCase()),t(e.children,r),r.popWordTransform()):t(e.children,r),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2})}function j3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks||2,reservedLineLength:2}),t(e.children,r),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks||2,blockTransform:n=>(u.trimEmptyLines!==!1?kc(n,`
`):n).split(`
`).map(i=>"> "+i).join(`
`)})}function rn(e,t){if(!t)return e;const r=typeof t[0]=="string"?t[0]:"[",u=typeof t[1]=="string"?t[1]:"]";return r+e+u}function Bc(e,t,r,u,n){const i=typeof t=="function"?t(e,u,n):e;return i[0]==="/"&&r?f3(r,"/")+i:i}function H3(e,t,r,u){const n=e.attribs||{},i=n.alt?n.alt:"",a=n.src?Bc(n.src,u.pathRewrite,u.baseUrl,r.metadata,e):"",s=a?i?i+" "+rn(a,u.linkBrackets):rn(a,u.linkBrackets):i;r.addInline(s,{noWordTransform:!0})}function F3(e,t,r,u){function n(){if(u.ignoreHref||!e.attribs||!e.attribs.href)return"";let a=e.attribs.href.replace(/^mailto:/,"");return u.noAnchorUrl&&a[0]==="#"?"":(a=Bc(a,u.pathRewrite,u.baseUrl,r.metadata,e),a)}const i=n();if(!i)t(e.children,r);else{let a="";r.pushWordTransform(o=>(o&&(a+=o),o)),t(e.children,r),r.popWordTransform(),u.hideLinkHrefIfSameAsText&&i===a||r.addInline(a?" "+rn(i,u.linkBrackets):i,{noWordTransform:!0})}}function qc(e,t,r,u,n){const i=Be(e,["parent","name"])==="li";let a=0;const s=(e.children||[]).filter(o=>o.type!=="text"||!/^\s*$/.test(o.data)).map(function(o){if(o.name!=="li")return{node:o,prefix:""};const c=i?n().trimStart():n();return c.length>a&&(a=c.length),{node:o,prefix:c}});if(s.length){r.openList({interRowLineBreaks:1,leadingLineBreaks:i?1:u.leadingLineBreaks||2,maxPrefixLength:a,prefixAlign:"left"});for(const{node:o,prefix:c}of s)r.openListItem({prefix:c}),t([o],r),r.closeListItem();r.closeList({trailingLineBreaks:i?1:u.trailingLineBreaks||2})}}function V3(e,t,r,u){const n=u.itemPrefix||" * ";return qc(e,t,r,u,()=>n)}function K3(e,t,r,u){let n=Number(e.attribs.start||"1");const i=X3(e.attribs.type);return qc(e,t,r,u,()=>" "+i(n++)+". ")}function X3(e="1"){switch(e){case"a":return t=>Ea(t,"a");case"A":return t=>Ea(t,"A");case"i":return t=>Ia(t).toLowerCase();case"I":return t=>Ia(t);case"1":default:return t=>t.toString()}}function G3(e){const t=[],r=[];for(const u of e)u.startsWith(".")?t.push(u.substring(1)):u.startsWith("#")&&r.push(u.substring(1));return{classes:t,ids:r}}function Y3(e,t){if(t===!0)return!0;if(!e)return!1;const{classes:r,ids:u}=G3(t),n=(e.class||"").split(" "),i=(e.id||"").split(" ");return n.some(a=>r.includes(a))||i.some(a=>u.includes(a))}function Z3(e,t,r,u){return Y3(e.attribs,r.options.tables)?Mc(e,t,r,u):J3(e,t,r,u)}function J3(e,t,r,u){r.openBlock({leadingLineBreaks:u.leadingLineBreaks}),t(e.children,r),r.closeBlock({trailingLineBreaks:u.trailingLineBreaks})}function Mc(e,t,r,u){r.openTable(),e.children.forEach(i),r.closeTable({tableToString:a=>R3(a,u.rowSpacing??0,u.colSpacing??3),leadingLineBreaks:u.leadingLineBreaks,trailingLineBreaks:u.trailingLineBreaks});function n(a){const s=+Be(a,["attribs","colspan"])||1,o=+Be(a,["attribs","rowspan"])||1;r.openTableCell({maxColumnWidth:u.maxColumnWidth}),t(a.children,r),r.closeTableCell({colspan:s,rowspan:o})}function i(a){if(a.type!=="tag")return;const s=u.uppercaseHeaderCells!==!1?o=>{r.pushWordTransform(c=>c.toUpperCase()),n(o),r.popWordTransform()}:n;switch(a.name){case"thead":case"tbody":case"tfoot":case"center":a.children.forEach(i);return;case"tr":{r.openTableRow();for(const o of a.children)if(o.type==="tag")switch(o.name){case"th":{s(o);break}case"td":{n(o);break}}r.closeTableRow();break}}}}var Q3=Object.freeze({__proto__:null,anchor:F3,blockquote:j3,dataTable:Mc,heading:U3,horizontalLine:D3,image:H3,lineBreak:C3,orderedList:K3,paragraph:z3,pre:W3,table:Z3,unorderedList:V3,wbr:P3});const tm={baseElements:{selectors:["body"],orderBy:"selectors",returnDomByDefault:!0},decodeEntities:!0,encodeCharacters:{},formatters:{},limits:{ellipsis:"...",maxBaseElements:void 0,maxChildNodes:void 0,maxDepth:void 0,maxInputLength:1<<24},longWordSplit:{forceWrapOnLimit:!1,wrapCharacters:[]},preserveNewlines:!1,selectors:[{selector:"*",format:"inline"},{selector:"a",format:"anchor",options:{baseUrl:null,hideLinkHrefIfSameAsText:!1,ignoreHref:!1,linkBrackets:["[","]"],noAnchorUrl:!0}},{selector:"article",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"aside",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"blockquote",format:"blockquote",options:{leadingLineBreaks:2,trailingLineBreaks:2,trimEmptyLines:!0}},{selector:"br",format:"lineBreak"},{selector:"div",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"footer",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"form",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"h1",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h2",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h3",format:"heading",options:{leadingLineBreaks:3,trailingLineBreaks:2,uppercase:!0}},{selector:"h4",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h5",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"h6",format:"heading",options:{leadingLineBreaks:2,trailingLineBreaks:2,uppercase:!0}},{selector:"header",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"hr",format:"horizontalLine",options:{leadingLineBreaks:2,length:void 0,trailingLineBreaks:2}},{selector:"img",format:"image",options:{baseUrl:null,linkBrackets:["[","]"]}},{selector:"main",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"nav",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"ol",format:"orderedList",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"p",format:"paragraph",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"pre",format:"pre",options:{leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"section",format:"block",options:{leadingLineBreaks:1,trailingLineBreaks:1}},{selector:"table",format:"table",options:{colSpacing:3,leadingLineBreaks:2,maxColumnWidth:60,rowSpacing:0,trailingLineBreaks:2,uppercaseHeaderCells:!0}},{selector:"ul",format:"unorderedList",options:{itemPrefix:" * ",leadingLineBreaks:2,trailingLineBreaks:2}},{selector:"wbr",format:"wbr"}],tables:[],whitespaceCharacters:` 	\r
\f`,wordwrap:80},em=(e,t,r)=>[...e,...t],Rc=(e,t,r)=>[...t],rm=(e,t,r)=>e.some(u=>typeof u=="object")?em(e,t):Rc(e,t);function um(e={}){return e=Ic(tm,e,{arrayMerge:Rc,customMerge:t=>t==="selectors"?rm:void 0}),e.formatters=Object.assign({},O3,Q3,e.formatters),e.selectors=Lc(e.selectors,(t=>t.selector)),im(e),g3(e)}function nm(e,t={},r=void 0){return um(t)(e,r)}function im(e){if(e.tags){const r=Object.entries(e.tags).map(([u,n])=>({...n,selector:u||"*"}));e.selectors.push(...r),e.selectors=Lc(e.selectors,(u=>u.selector))}function t(r,u,n){const i=u.pop();for(const a of u){let s=r[a];s||(s={},r[a]=s),r=s}r[i]=n}if(e.baseElement){const r=e.baseElement;t(e,["baseElements","selectors"],Array.isArray(r)?r:[r])}e.returnDomByDefault!==void 0&&t(e,["baseElements","returnDomByDefault"],e.returnDomByDefault);for(const r of e.selectors)r.format==="anchor"&&Be(r,["options","noLinkBrackets"])&&t(r,["options","linkBrackets"],!1)}const{pipe:$a,ifElse:Oa,isEmpty:Ba}=Jo,am=()=>({hello:()=>"hello",deleteItem:n=>i=>rt(n).deleteIn(i).toArray(),updateContent:n=>i=>a=>rt(n).updateIn(a,()=>nm(i,{wordwrap:130}).replace(/[\r\n]/g,"")).toArray(),insertItem:n=>i=>a=>$a(s=>[s,rt(s).pop().toArray(),rt(s).last()],([s,o,c])=>$a(f=>Oa(Ba,()=>f,h=>rt(f).getIn(h))(o),f=>rt(f).insert(c+i,{text:""}).toArray(),f=>Oa(Ba,()=>f,h=>rt(n).setIn(h,f).toArray())(o))(n))(a)}),sm=an`
  /*  */
  .n1t1 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t2 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t3 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t4 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t5 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t6 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t7 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t8 {
    margin-left: 15px;
    list-style-type: "";
  }
  .n1t9 {
    margin-left: 15px;
    list-style-type: "";
  }

  /*  */
  .n2t1 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t2 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t3 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t4 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t5 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t6 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t7 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t8 {
    margin-left: 15px;
    list-style-type: "()";
  }
  .n2t9 {
    margin-left: 15px;
    list-style-type: "()";
  }

  /*  */
  .n3t1 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t2 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t3 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t4 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t5 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t6 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t7 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t8 {
    margin-left: 20px;
    list-style-type: "";
  }
  .n3t9 {
    margin-left: 20px;
    list-style-type: "";
  }

  /*  */
  .n4t1 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t2 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t3 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t4 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t5 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t6 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t7 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t8 {
    margin-left: 20px;
    list-style-type: "()";
  }
  .n4t9 {
    margin-left: 20px;
    list-style-type: "()";
  }
`,qa=[["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()"],["","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()","()"],["","","","","","","","","",""],["()","()","()","()","()","()","()","()","()","()"]];class om extends ye{static properties={contenteditable:{type:Boolean},text:{type:String}};static styles=an`
    :host {
      //color: blue;
    }
  `;constructor(){super(),this.contenteditable=!1,this.text=""}_handleFocusOut(t){this.dispatchEvent(new CustomEvent("focus-out",{detail:{innerText:t},bubbles:!0,composed:!0}))}_handleKeyDown(t){t.key==="Enter"&&t.preventDefault()}render(){return qt`<div
      contenteditable=${this.contenteditable?"plaintext-only":"false"}
      style="padding:3px"
      @focusout=${t=>this._handleFocusOut(t.srcElement.innerHTML)}
      @keydown=${this._handleKeyDown}
    >${this.text}</div>`}}customElements.define("div-input",om);const{pipe:Ke}=Jo,{deleteItem:cm,updateContent:Ma,insertItem:fm}=am();class hm extends ye{static properties={source:{type:Array},maxDegree:{type:Number},maxItems:{type:Number},contenteditable:{type:Boolean}};static styles=[sm,an`
      :host {
        display: block;
        padding: 1rem;
        //border: 2px solid #007acc;
        border-radius: 8px;
        background: #f9f9f9;
        margin: 1rem 0;
      }

      .content-item {
        padding: 0.5rem;
        /* padding: 0.5rem;
      margin: 0.25rem 0;
      background: white;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1); */
      }

      .hidden {
        display: none;
      }

      button {
        font-size: xx-small;
        background-color: lightblue;
        border-style: none;
      }
    `];constructor(){super(),this.source=[],this.maxDegree=6,this.maxItems=30,this.contenteditable=!1}render(){return qt`
      <ol>
        ${this.source.map((t,r)=>qt`${this._generateContent(t,[],0,r)}`)}
      </ol>
    `}_handleKeyDown(t){t.key==="Enter"&&t.preventDefault()}_handleFocusIn(t){t.srcElement.parentElement.querySelector(".command").classList.remove("hidden")}_handleFocusOut(t,r){this._updateContent(t,r)}_handPaste(t,r){t.preventDefault();const u=t.clipboardData.getData("text/plain"),n=Ma(this.source)(u)([...r,"text"]);this.dispatchEvent(new CustomEvent("change-item",{detail:{result:n},bubbles:!0,composed:!0}))}_generateInput(t,r){return qt`
      <div
        contenteditable="plaintext-only"
        style="padding:3px"
        @focusin=${this._handleFocusIn}
        @focusout=${u=>this._handleFocusOut(u,r)}
        @keydown=${this._handleKeyDown}
      >
        ${t}
      </div>
    `}_deleteItem(t){Ke(cm(this.source),r=>this.dispatchEvent(new CustomEvent("change-item",{detail:{result:r},bubbles:!0,composed:!0})))(t)}_updateContent(t,r){Ke(Ma(this.source)(t),u=>this.dispatchEvent(new CustomEvent("change-item",{detail:{result:u},bubbles:!0,composed:!0})))([...r,"text"])}_insertItem(t,r){Ke(fm(this.source)(r),u=>this.dispatchEvent(new CustomEvent("change-item",{detail:{result:u},bubbles:!0,composed:!0})))(t)}_appendItem(t){Ke(r=>rt(this.source).setIn([...r,"items"],[{text:""}]),r=>this.dispatchEvent(new CustomEvent("change-item",{detail:{result:r},bubbles:!0,composed:!0})))(t)}_generateCommand(t){return Ke(r=>!rt(r).isEmpty(),r=>qt`
        <div contenteditable="false" class="command">
          <button @click=${u=>this._insertItem(t,0)}></button>
          <button @click=${u=>this._insertItem(t,1)}></button>
          <button @click=${u=>this._appendItem(t)} ?disabled=${r}></button>
          <button @click=${u=>this._deleteItem(t)}></button>
        </div>
      `)(rt(this.source).getIn([...t,"items"]))}_generateContent(t,r,u,n){const i={marginLeft:"0px","list-style-type":`'${qa[u][n]}'`};return u<this.maxDegree?qt`         
          <li data-degree=${u} style=${f0(i)}>
            <div style="padding:3px">
              <div-input
                ?contenteditable=${this.contenteditable}
                .text=${t.text}
                @focus-out=${a=>this._updateContent(a.detail.innerText,[...r,n])}
              ></div-input>
              ${this.contenteditable?this._generateCommand([...r,n]):""}
            </div>
            ${t.items&&t.items.length>0?qt`
                  <ol>
                    ${t.items.map((a,s)=>qt`${this._generateContent(a,[...r,n,"items"],u+1,s)}`)}
                  </ol>
                `:null}
          </li>
        `:qt``}getHtml(){return`
      <ol>
        ${this.source.reduce((t,r,u)=>t+this._getHtml(r,0,u),"")}          
      </ol>
    `}_getHtml(t,r,u){return`
      <li style="margin-left: 0px; list-style-type: '${qa[r][u]}'">
        ${t.text}
        ${t.items&&t.items.length>0?`<ol>${t.items.reduce((n,i,a)=>n+this._getHtml(i,r+1,a),"")}</ol>`:""}
      </li>
    `}}customElements.define("doc-editor",hm);
